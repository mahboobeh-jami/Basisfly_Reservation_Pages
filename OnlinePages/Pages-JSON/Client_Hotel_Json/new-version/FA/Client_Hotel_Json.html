    <basis core="group" name="hasNot-rkey" if="'[##cms.cookie.rkey##]' = ''">
        <basis core="external.fly.ws" source="cmsDbService[##cms.form.sid|(2)##]" procedurename="dbsource" name="db">
            <member name="hotelsearch" method="hotel"
                postsql="select replace(replace(replace(replace(replace(replace(replace(replace(result,'None','null'),'undefined','null'),'\xa0',' '),'/x',' '),'\x',' '),' nan','null'),' inf','null'),' -inf' , 'null') as 'result' from [db.hotelsearch]"
                query='{
                "name": "db",
                "mid": "20",
                "member": [
                    {
                        "type": "list",
                        "name": "hotel",
                        "request": "hotelsearch",
                        "city": "[##cms.form.cityid##]",
                        "hotelid": "[##cms.form.hotelid##]",
                        "indate": "[##cms.form.fdate##]",
                        "outdate": "[##cms.form.tdate##]",
                        "rooms": [##cms.form.rooms##],
                        "trackingNo": "[##cms.cookie.trackingid##]",
                        "userid": "0",
                        "hotelname": "[##cms.query.hotelname##]",
                        "lid": "[##cms.form.clid|(1)##]",
                        "nights": "",
                        "resulttype": "0",
                        "unit": "10"
                    }
                ]
            } ' preview="" />
        </basis>
        [##db.hotelsearch.result##]
    
    </basis>
    <basis core="group" name="has-rkey" if="'[##cms.cookie.rkey##]' <> ''">
        <basis core="call" lid="1" file="Client_CheckRkey.inc"></basis>
        <basis core="external.fly.ws" source="cmsDbService[##cms.form.sid|(2)##]" procedurename="dbsource" name="db">
            <member name="hotelsearch" method="hotel"
                postsql="select replace(replace(replace(replace(replace(replace(replace(replace(result,'None','null'),'undefined','null'),'\xa0',' '),'/x',' '),'\x',' '),' nan','null'),' inf','null'),' -inf' , 'null') as 'result' from [db.hotelsearch]"
                query='{
                "name": "db",
                "mid": "20",
                "member": [
                    {
                        "type": "list",
                        "name": "hotel",
                        "request": "hotelsearch",
                        "city": "[##cms.form.cityid##]",
                        "hotelid": "[##cms.form.hotelid##]",
                        "indate": "[##cms.form.fdate##]",
                        "outdate": "[##cms.form.tdate##]",
                        "rooms": [##cms.form.rooms##],
                        "trackingNo": "[##cms.cookie.trackingid##]",
                        "userid": "[##db.checkrkey.userid##]",
                        "hotelname": "[##cms.query.hotelname##]",
                        "lid": "[##cms.form.clid|(1)##]",
                        "nights": "",
                        "resulttype": "0",
                        "unit": "10"
                    }
                ]
            } ' preview="" />
        </basis>
        [##db.hotelsearch.result##]
    </basis>