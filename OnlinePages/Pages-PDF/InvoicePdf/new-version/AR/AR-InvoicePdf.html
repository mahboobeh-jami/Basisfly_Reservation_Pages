<span class="siteurl" style="visibility:hidden"><p>[##site.address.domain##]</p></span>
<basis core="dbsource" source="hosting" name="site">
    <member name="address" type="list" request="siteaddress" />
</basis>
<basis core="group" name="check-version" if="'[##cms.cms.server_main_version##]' = '4'">
    <basis core="call" lid="3" file="Client_CheckRkey.inc"></basis> <!-- updated login -->
    <basis core="group" if="[##db.checkrkey.userid##]=0  ">
        <!DOCTYPE html>
        <html>
        <head>
            <meta charset="UTF-8" />
            <title>فاتورة</title>
        </head>
        <body>
            <p style="text-align:center">لا يسمح لك للوصول إلى هذه الصفحة</p>
            <style type="text/css">
                @font-face{
                    font-family:'IRANSansWeb';
                    src:url('[##cms.cms.domainname##]/_fonts/IRANSansWeb.eot');src:local('?'),
                    url('[##cms.cms.domainname##]/_fonts/IRANSansWeb.woff2') format("woff"),
                    url('[##cms.cms.domainname##]/_fonts/IRANSansWeb.ttf') format("truetype"),
                    url('[##cms.cms.domainname##]/_fonts/IRANSansWeb.otf') format("otf");
                    font-weight:400;font-style:normal
                }
                body{font-family:IRANSansWeb;font-size:16px;color:#3b3838;}
                break::before{content: "\a";white-space: pre;}
            </style>
        </body>
    
        </html>
    </basis>
    <basis core="group" if="[##db.checkrkey.userid##]<>0">
        <basis core="external.fly.ws" source="cmsDbService2" name="db" procedurename="dbsource">
            <member method="cms" name="InvoiceView" query='
          { 
              "name": "db", 
              "mid": "20", 
              "member":
              [
                  { 
                      "name": "q", 
                      "type":"list", 
                      "request":"invoiceview", 
                      "id":"[##cms.query.id##]",
                      "lid":"3"
    
                  }
              ] 
          }' />
        </basis>
    
        <basis core="group" name="Delay_2">
            <basis core='inlinesource' name='db'>
                <member name="InvoiceView_Tree" format="json" preview="">{"root":[##db.InvoiceView.result##]}</member>
                <member name='InvoiceOwnerid' format="json"
                    postsql="select value from [db.InvoiceOwnerid] where Field = 'ownerid'" preview="">
                    {"root":[##db.InvoiceView.result##]}
                </member>
    
                <member name='InvoiceOpen' format="json" postsql="select value from [db.InvoiceOpen] where Field = 'open'"
                    preview="">
                    {"root":[##db.InvoiceView.result##]}
                </member>
    
                <member name='InvoiceType' format="json"
                    postsql="select value from [db.InvoiceType] where Field = 'invoicetype'" preview="">
                    {"root":[##db.InvoiceView.result##]}
                </member>
            </basis>
    
            <basis core="dbsource" source="basiscore" mid="5" name="db" lid="3" usedforid="[##db.InvoiceOwnerid.Value##]">
                <member type="view" name="AgancyName" postsql="select Answer from [db.AgancyName] where typeid=150" />
            </basis>
    
            <html>
    
            <head>
                <title>فاتورة</title>
                <meta charset="utf-8">
            </head>
    
            <body>
                <div class="Panel_pdf">
                    <div class="pdf_title">
                        <basis:00 core="group" if="[##db.InvoiceOpen.Value|(0)##]=0">
                            <basis:02 core="group" if="[##cms.query.status|(0)##]=0">
    
                                <div>عقد
                            </basis:02>
                            <basis:03 core="group" if="[##cms.query.status|(0)##]=1">
    
                                <div>عقد مسبق
                            </basis:03>
                        </basis:00>
                        <basis:01 core="group" if="[##db.InvoiceOpen.Value|(0)##]=1">
                            <div>عقد مسبق
                        </basis:01>
                        تقديم خدمات السفر والسياحة
                    </div>
                </div>
                <div class="pdf_description">
                    <div><span>رقم : </span>[##cms.query.id##]</div>
                    <basis core="tree" datamembername="db.InvoiceView_Tree" idcol="id" parentidcol="parentid"
                        nullvalue="null">
                        <face
                            filter="Field in ('invoiceDate','account','products','passengers','passengersvisa','priceDetails','baggages','bill','creditPay')">
                        </face>
                        <face filter="Field in ('invoiceDetails')">@child</face>
                        <face filter="Field in ('counterName')">
                            <div>اسم العداد : <span> @value</span> </div>
                        </face>
                        <face filter="type in ('Array','object')">@Child</face>
                    </basis>
    
                    <basis core="tree" datamembername="db.InvoiceView_Tree" idcol="id" parentidcol="parentid"
                        nullvalue="null">
                        <face filter="Field in ('travelDate','invoiceDetails','products','creditPay')"></face>
                        <face filter="Field in ('invoiceDate')">
                            <div class="invoice_Details">تاريخ تسجيل العقد : @child</div>
                        </face>
    
                        <face filter="Field in ('mstring')"><span>@value</span></face>
    
                        <face filter="type in ('Array','object')">@Child</face>
                    </basis>
    
                    <basis core="tree" datamembername="db.InvoiceView_Tree" idcol="id" parentidcol="parentid"
                        nullvalue="null">
                        <face filter="Field in ('baggage')"></face>
                        <face filter="Field in ('title')">
                            <div style="direction:ltr;"><span>نوع الخدمة: </span> @value</div>
                        </face>
                        <face filter="type in ('Array','object')">@Child</face>
                    </basis>
                </div>
    
                <div class="pdf_description">
                    <basis core="tree" datamembername="db.InvoiceView_Tree" idcol="id" parentidcol="parentid"
                        nullvalue="null">
                        <face
                            filter="Field in ('invoiceDetails','invoiceDate','products','passengers','passengersvisa','priceDetails','baggages','bill','creditPay')">
                        </face>
                        <face filter="Field in ('account','person')">@child</face>
    
                        <face filter="Field in ('firstname')">هذا العقد بين السيدة / السيد. @value </face>
                        <face filter="Field in ('lastname')">@value </face>
                        <face filter="Field in ('address')">إلى العنوان ( @value ) </face>
                        <face filter="Field in ('tel')"> لديه رقم هاتف أرضي <span class="pdf_direct"> ( @value ) </span>
                        </face>
                        <face filter="Field in ('mobile')">ورقم الجوال<span class="pdf_direct">( @value ) </span></face>
    
                        <face filter="Field in ('agencyname')">هذا العقد بين @value</face>
                        <face filter="Field in ('agencymanegername')"> مع الإدارة @value</face>
                        <face filter="Field in ('agencytell')">إلى رقم الاتصال <span class="pdf_direct"> ( @value ) </span>
                        </face>
    
                        <face filter="type in ('Array','object')">@Child</face>
                    </basis>
    
                    <basis core="tree" datamembername="db.InvoiceView_Tree" idcol="id" parentidcol="parentid"
                        nullvalue="null">
                        <face
                            filter="Field in ('invoiceDate','account','products','passengers','passengersvisa','priceDetails','baggages','bill','creditPay')">
                        </face>
                        <face filter="Field in ('invoiceDetails')">@child</face>
                        <face filter="Field in ('persons')">
                            بشكل فردي أو نيابة عن الأشخاص التالية أسماؤهم من قبل ما مجموعه @value ، المشار إليهم فيما يلي
                            باسم "السياح" ، من ناحية والمكتب <strong>[##db.AgancyName.Answer##]</strong>يشار إليه فيما يلي
                            باسم "الوسيط" ، مثل <strong> التسوق عبر الإنترنت </strong> تم الانتهاء منه.
                        </face>
    
                        <face filter="type in ('Array','object')">@Child</face>
                    </basis>
                </div>
    
    
    
                <!-- products ############################################################################################# -->
                <!-- type == 1 -->
                <basis:1 core="group" if="[##db.InvoiceType.Value##] in ('1')">
                    <basis core="tree" datamembername="db.InvoiceView_Tree" idcol="id" parentidcol="parentid"
                        nullvalue="null">
                        <face
                            filter="Field in ('invoiceDate','travelDate','account','passengers','priceDetails','baggages','bill','creditPay')">
                        </face>
                        <face filter="Field in ('products')">
                            <table class="invoice_tbl">
                                <caption class="invoice_caption"><span>معلومات الرحلة</span></caption>
                                <thead>
                                    <tr>
                                        <th><span>من - الى</span></th>
                                        <th><span>تاريخ</span></th>
                                        <th><span>وقت الخروج</span></th>
                                        <th><span>وقت الوصول</span></th>
                                        <th><span>شركة طيران</span></th>
                                        <th><span>مطار المغادرة</span></th>
                                        <th><span>مطار الوجهة</span></th>
                                        <th><span>رقم الرحلة</span></th>
                                        <th><span>فئة الطيران</span></th>
                                    </tr>
                                </thead>
    
                                <tbody>@child</tbody>
                            </table>
                        </face>
    
                        <face filter="Field in ('route') and type in ('object')">
                            <tr>@child</tr>
                        </face>
                        <face filter="Field in ('route') and type in ('scalar.String')">
                            <td style="font-family:IRANSansWeb;">@value</td>
                        </face>
                        <face filter="Field in ('etime','atime','class','routecode') and type in ('scalar.String')">
                            <td>@value</td>
                        </face>
    
                        <face filter="Field in ('airline')">
                            <td>@value</td>
                        </face>
                        <face filter="Field in ('routeDate')">
                            <td>@Child</td>
                        </face>
                        <face filter="Field in ('mstring')">
                            <div>@value</div>
                        </face>
    
    
                        <face filter="Field in ('startairport','endairport')">
                            <td style="font-family:IRANSansWeb;">@Child</td>
                        </face>
                        <face filter="Field in ('airport')">
                            <div>@value</div>
                        </face>
                        <face filter="Field in ('startotherinfo')">
                            <div>@Child</div>
                        </face>
                        <face filter="Field in ('shortname')">@value | </face>
                        <face filter="Field in ('city')">@value</face>
                        <face filter="type in ('Array','object')">@Child</face>
                    </basis>
                </basis:1>
    
                <!-- type == 2 -->
                <basis:2 core="group" if="[##db.InvoiceType.Value##] in ('2','4','6')">
                    <basis core="tree" datamembername="db.InvoiceView_Tree" idcol="id" parentidcol="parentid"
                        nullvalue="null">
                        <face
                            filter="Field in ('invoiceDate','travelDate','account','passengers','priceDetails','baggages','bill','creditPay')">
                        </face>
                        <face filter="Field in ('products')">
                            <table class="invoice_tbl">
                                <caption class="invoice_caption"><span>معلومات الرحلة</span></caption>
                                <thead>
                                    <tr>
                                        <th><span>من - الى</span></th>
                                        <th><span>تاريخ</span></th>
                                        <th><span>وقت الخروج</span></th>
                                        <th><span>وقت الوصول</span></th>
                                        <th><span>شركة طيران</span></th>
                                        <th><span>مطار المغادرة</span></th>
                                        <th><span>مطار الوجهة</span></th>
                                        <th><span>رقم الرحلة</span></th>
                                        <th><span>فئة الطيران</span></th>
                                    </tr>
                                </thead>
    
                                @child
                            </table>
                        </face>
    
                        <face filter="Field in ('hotel','transfer','insurance')"></face>
                        <face filter="Field in ('departure') and type in ('array')">
                            <tbody>
                                <tr>
                                    <td colspan="10"
                                        style="background:#FFF4E3;text-align:right;padding-right:22px;font-family:IRANSansWeb">
                                        معلومات المغادرة
                                    </td>
                                </tr>
                                @child
                            </tbody>
                        </face>
    
                        <face filter="Field in ('return') and type in ('array')">
                            <tbody>
                                <tr>
                                    <td colspan="10"
                                        style="background:#FFF4E3;text-align:right;padding-right:22px;font-family:IRANSansWeb">
                                        عودة المعلومات
                                    </td>
                                </tr>
                                @child
                            </tbody>
                        </face>
    
                        <face filter="Field in ('route') and type in ('object')">
                            <tr>@child</tr>
                        </face>
                        <face filter="Field in ('route') and type in ('scalar.String')">
                            <td style="font-family:IRANSansWeb">@value</td>
                        </face>
                        <face filter="Field in ('etime','atime','class','routecode') and type in ('scalar.String')">
                            <td>@value</td>
                        </face>
                        <face filter="Field in ('airline')">
                            <td>@value</td>
                        </face>
    
                        <face filter="Field in ('routeDate')">
                            <td>@Child</td>
                        </face>
                        <face filter="Field in ('mstring')">
                            <div>@value</div>
                        </face>
    
    
                        <face filter="Field in ('startairport','endairport')">
                            <td style="font-family:IRANSansWeb">@Child</td>
                        </face>
                        <face filter="Field in ('airport')">
                            <div>@value</div>
                        </face>
                        <face filter="Field in ('startotherinfo')">
                            <div>@Child</div>
                        </face>
                        <face filter="Field in ('shortname')">@value | </face>
                        <face filter="Field in ('city')">@value</face>
                        <face filter="type in ('Array','object')">@Child</face>
                    </basis>
                </basis:2>
    
                <!-- type == 3 -->
                <basis:3 core="group" if="[##db.InvoiceType.Value##] in ('3','4','6','10')">
                    <basis core="tree" datamembername="db.InvoiceView_Tree" idcol="id" parentidcol="parentid"
                        nullvalue="null">
                        <face
                            filter="Field in ('invoiceDate','travelDate','account','passengers','passengersvisa','priceDetails','baggages','bill','creditPay')">
                        </face>
                        <face filter="Field in ('products')">
                            <table class="invoice_tbl">
                                <caption class="invoice_caption"><span>قائمة الغرف</span></caption>
                                <thead>
                                    <tr>
                                        <th><span>اسم فندق</span></th>
                                        <th><span>فندق الدرجة</span></th>
                                        <th><span>مدينة</span></th>
                                        <th><span>مجال</span></th>
                                        <th><span>نوع الغرفة</span></th>
                                        <th><span>تحقق في</span></th>
                                        <th><span>الدفع</span></th>
                                        <th><span>ركاب</span></th>
                                        <th><span>خدمات</span></th>
                                    </tr>
                                </thead>
    
                                @child
                            </table>
                        </face>
    
                        <face filter="Field in ('departure','return','transfer','insurance','transfers','services')"></face>
                        <face filter="Field in ('hotel') and type in ('array')">
                            <tbody>
                                <tr>
                                    <td colspan="9" style="background:#FFF4E3;text-align:right;padding:15px 0"></td>
                                </tr>
                                @child
                            </tbody>
                        </face>
    
                        <face filter="Field in ('room')">
                            <tr>@Child</tr>
                        </face>
                        <face filter="Field in ('hotelName','cityName','roomNumber','roomType','service')">
                            <td>@value</td>
                        </face>
                        <face filter="Field in ('hotelStar')">
                            <td>@value</td>
                        </face>
    
                        <face filter="Field in ('fromDate','toDate','passengers')">
                            <td>@child</td>
                        </face>
                        <face filter="Field in ('mstring')">
                            <div>@value</div>
                        </face>
    
    
                        <face filter="Field in ('passengersRoom')">
                            <td>@child</td>
                        </face>
                        <face filter="Field in ('adult')"><span class="passengers">@value بالغ</span></face>
                        <face filter="Field in ('child Withbed') and value <> '0'"><span class="passengers">@value طفل (مع
                                السرير)</span></face>
                        <face filter="Field in ('child Withoutbed') and value <> '0'"><span class="passengers">@value طفل
                                (بدون سرير)</span></face>
                        <face filter="Field in ('infant') and value <> '0'"><span class="passengers">@value رضيع</span>
                        </face>
                        <face filter="Field in ('extra Adult') and value <> '0'"><span class="passengers">@value بالغ
                                إضافي</span></face>
                        <face filter="type in ('Array','object')">@Child</face>
                    </basis>
                </basis:3>
    
                <basis:333 core="group" if="'[##db.InvoiceType.Value##]' in ('3','6')">
                    <basis core="tree" datamembername="db.InvoiceView_Tree" idcol="id" parentidcol="parentid"
                        nullvalue="null">
                        <face
                            filter="Field in ('invoiceDate','travelDate','account','passengers','passengersvisa','priceDetails','baggages','bill','creditPay')">
                        </face>
                        <face filter="Field in ('products')">
                            @child
                        </face>
    
                        <face filter="Field in ('departure','return','transfer','insurance','hotel','transfers')"></face>
                        <face filter="Field in ('services') and type in ('array') and value <> '[]'">
                            <table class="invoice_tbl product_tbl">
                                <caption class="invoice_caption">
                                    <p>معلومات الخدمة</p>
                                </caption>
                                <thead>
                                    <tr>
    
                                        <td>اسم الراكب</td>
                                        <td>اسم الخدمة</td>
                                        <td>خدمة ويب</td>
                                        <td>السعر الكلي</td>
                                        <td>وحدة</td>
    
                                    </tr>
                                </thead>
    
                                <tbody class="invoice_tbody"> @child</tbody>
                            </table>
                        </face>
    
                        <face filter="Field in ('service')">
                            <tr>@Child</tr>
                        </face>
                        <face filter="Field in ('service_passengerlist')">
                            <td>@Child</td>
                        </face>
                        <face filter="Field in ('servicename')">
                            <td>@value</td>
                        </face>
                        <face filter="Field in ('webservices')">
                            <td>@child</td>
                        </face>
                        <face filter="Field in ('webservice')">@value</face>
                        <face filter="Field in ('refnumber')">/@value</face>
                        <face filter="Field in ('servicecost')">
                            <td>@value</td>
                        </face>
                        <face filter="Field in ('serviceunit')">
                            <td>@value</td>
                        </face>
                        <face filter="Field in ('firstname')">
                            <div><span>@value-</span>
                        </face>
                        <face filter="Field in ('lastname')"><span>@value</span></div>
                        </face>
    
    
                        <face filter="Field in ('cancel') and value ='1'">
    
                            <input type="hidden" name="" class="canceli" value="1">
                        </face>
                        <face filter="Field in ('cancel') and value ='0'">
    
                            <input type="hidden" name="" class="canceli" value="0">
                        </face>
    
                        <face filter="Field in ('error') and value ='1'">
                            <td class="Webervice_Refnumber">
                                <div>غير ناجح</div>
                                <div>
                                    <a href="/reservation/invoice/Get_Refnumber.bc?id=[##cms.form.id##]&type=3&clear=[##cms.form.clear##]"
                                        class="Webervice_Link" title="اصدار الفندق">
                                        اصدار الفندق
                                        <i class="fa fa-external-link-square-alt"></i>
                                    </a>
                                </div>
                            </td>
                        </face>
    
    
                        <face filter="type in ('Array','object')">@Child</face>
                    </basis>
    
                    <basis core="tree" datamembername="db.InvoiceView_Tree" idcol="id" parentidcol="parentid"
                        nullvalue="null">
                        <face
                            filter="Field in ('invoiceDate','travelDate','account','passengers','passengersvisa','priceDetails','baggages','bill','creditPay')">
                        </face>
                        <face filter="Field in ('products')">
                            @child
                        </face>
    
                        <face filter="Field in ('departure','return','transfer','insurance','hotel','services')"></face>
                        <face filter="Field in ('transfers')">
                            <table class="invoice_tbl product_tbl">
                                <caption class="invoice_caption">
                                    <p>نقل المعلومات</p>
                                </caption>
                                <thead>
                                    <tr>
    
                                        <td>اسم الخدمة</td>
                                        <td>اسم التحويل</td>
                                        <td>اكتب التحويل</td>
                                        <td>مطار</td>
    
                                        <td>تاريخ المغادرة</td>
                                        <td>تاريخ العودة</td>
                                        <td>كود طريق المغادرة</td>
                                        <td>عودة كود الطريق</td>
    
                                        <td>ساعة المغادرة</td>
                                        <td>ساعة العودة</td>
                                        <td>خدمة ويب</td>
                                        <td>السعر الكلي</td>
                                        <td>وحدة</td>
    
                                    </tr>
                                </thead>
    
                                <tbody class="invoice_tbody">
                                    <tr>@Child</tr>
                                </tbody>
                            </table>
                        </face>
    
    
                        <face filter="Field in ('t_servicename')">
                            <td>@value</td>
                        </face>
                        <face filter="Field in ('transfername')">
                            <td>@value</td>
                        </face>
                        <face filter="Field in ('routename')">
                            <td>@value</td>
                        </face>
                        <face filter="Field in ('airport')">
                            <td>@value</td>
                        </face>
                        <face filter="Field in ('departure_Date')">
                            <td>@value</td>
                        </face>
                        <face filter="Field in ('return_Date')">
                            <td>@value</td>
                        </face>
                        <face filter="Field in ('departure_routecode')">
                            <td>@value</td>
                        </face>
                        <face filter="Field in ('return_routecode')">
                            <td>@value</td>
                        </face>
                        <face filter="Field in ('departure_hour')">
                            <td>@value</td>
                        </face>
                        <face filter="Field in ('return_hour')">
                            <td>@value</td>
                        </face>
                        <face filter="Field in ('transfercost')">
                            <td>@value</td>
                        </face>
                        <face filter="Field in ('transferunit')">
                            <td>@value</td>
                        </face>
                        <face filter="Field in ('webservices')">
                            <td>@child</td>
                        </face>
                        <face filter="Field in ('webservice')">@value</face>
                        <face filter="Field in ('refnumber')">/@value</face>
    
    
    
                        <face filter="Field in ('cancel') and value ='1'">
    
                            <input type="hidden" name="" class="canceli" value="1">
                        </face>
                        <face filter="Field in ('cancel') and value ='0'">
    
                            <input type="hidden" name="" class="canceli" value="0">
                        </face>
    
                        <face filter="Field in ('error') and value ='1'">
                            <td class="Webervice_Refnumber">
                                <div>غير ناجح</div>
                                <div>
                                    <a href="/reservation/invoice/Get_Refnumber.bc?id=[##cms.form.id##]&type=3&clear=[##cms.form.clear##]"
                                        class="Webervice_Link" title="اصدار الفندق">
                                        اصدار الفندق
                                        <i class="fa fa-external-link-square-alt"></i>
                                    </a>
                                </div>
                            </td>
                        </face>
                        <face filter="type in ('Array','object')">@Child</face>
                    </basis>
    
                </basis:333>
    
    
                <!-- type == 4 -->
                <basis:4 core="group" if="[##db.InvoiceType.Value##] in ('4')">
                    <!-- city Transfer in tour -->
                    <basis core="tree" datamembername="db.InvoiceView_Tree" idcol="id" parentidcol="parentid"
                        nullvalue="null">
                        <face
                            filter="Field in ('invoiceDate','travelDate','account','passengers','priceDetails','baggages','bill','creditPay')">
                        </face>
                        <face filter="Field in ('transfer') and value <> '[]'">
                            <table class="invoice_tbl">
                                <caption class="invoice_caption"><span>معلومات النقل بين المدن</span></caption>
                                <thead>
                                    <tr>
                                        <th><span>من - الى</span></th>
                                        <th><span>تاريخ</span></th>
                                        <th><span>وقت الخروج</span></th>
                                        <th><span>وقت الوصول</span></th>
                                        <th><span>شركة طيران</span></th>
                                        <th><span>مطار المغادرة</span></th>
                                        <th><span>مطار الوجهة</span></th>
                                        <th><span>رقم الرحلة</span></th>
                                        <th><span>فئة الطيران</span></th>
                                    </tr>
                                </thead>
    
                                <tbody>@child</tbody>
                            </table>
                        </face>
    
                        <face filter="Field in ('departure','return','hotels','insurance')"></face>
                        <face filter="Field in ('route') and type in ('object')">
                            <tr>@child</tr>
                        </face>
                        <face filter="Field in ('route') and type in ('scalar.String')">
                            <td style="font-family:IRANSansWeb">@value</td>
                        </face>
                        <face filter="Field in ('etime','atime','class','routecode') and type in ('scalar.String')">
                            <td>@value</td>
                        </face>
                        <face filter="Field in ('airline')">
                            <td>@value</td>
                        </face>
    
    
                        <face filter="Field in ('routeDate')">
                            <td>@Child</td>
                        </face>
                        <face filter="Field in ('mstring')">
                            <div>@value</div>
                        </face>
    
    
                        <face filter="Field in ('startairport','endairport')">
                            <td>@Child</td>
                        </face>
                        <face filter="Field in ('airport')">
                            <div>@value</div>
                        </face>
                        <face filter="Field in ('startotherinfo')">
                            <div>@Child</div>
                        </face>
                        <face filter="Field in ('shortname')">@value | </face>
                        <face filter="Field in ('city')">@value</face>
                        <face filter="type in ('Array','object')">@Child</face>
                    </basis>
    
                    <!-- insurance in tour -->
                    <basis core="tree" datamembername="db.InvoiceView_Tree" idcol="id" parentidcol="parentid"
                        nullvalue="null">
                        <face
                            filter="Field in ('invoiceDetails','invoiceDate','account','passengers','priceDetails','baggages','bill','creditPay')">
                        </face>
                        <face filter="Field in ('products')">@Child</face>
                        <face filter="Field in ('insurance') and value <> '[]'">
                            <table class="invoice_tbl">
                                <caption class="invoice_caption"> <span>معلومات التأمين</span></caption>
                                <thead>
                                    <tr>
                                        <th><span>بلد</span></th>
                                        <th><span>نوع التأمين</span></th>
                                        <th><span>شركة تأمين</span></th>
                                    </tr>
                                </thead>
    
                                <tbody>
                                    <tr>@child</tr>
                                </tbody>
                            </table>
                        </face>
    
                        <face filter="Field in ('insuranceCountry','insuranceName','insuranceProvider')">
                            <td style="font-family:IRANSansWeb;">@value</td>
                        </face>
                        <face filter="type in ('Array','object')">@Child</face>
                    </basis>
    
                    <!-- tourDetails in tour -->
                    <basis core="tree" datamembername="db.InvoiceView_Tree" idcol="id" parentidcol="parentid"
                        nullvalue="null">
                        <face filter="Field in ('invoiceDate','travelDate')"></face>
                        <face filter="Field in ('products')">@Child</face>
                        <face filter="Field in ('tourDetails') and value <> '{}'">
                            <table class="invoice_tbl tourDetails">
                                <colgroup>
                                    <col width="20%">
                                    </col>
                                    <col width="80%">
                                    </col>
                                </colgroup>
    
                                <caption class="invoice_caption"> <span>جولة المعلومات </span></caption>
                                <tbody>@child</tbody>
                            </table>
                        </face>
    
                        <face filter="Field in ('type') and type in ('array')">
                            <tr>
                                <td><span>نوع الجولة</span></td>
                                <td>@child</td>
                            </tr>
                        </face>
    
                        <face filter="Field in ('appropriate') and type in ('array')">
                            <tr>
                                <td><span>مناسب ل</span></td>
                                <td>@child</td>
                            </tr>
                        </face>
    
                        <face filter="Field in ('diff') and type in ('array')">
                            <tr>
                                <td><span>مستوى الصلابة</span></td>
                                <td>@child</td>
                            </tr>
                        </face>
    
                        <face filter="Field in ('tool') and type in ('array')">
                            <tr>
                                <td><span>المتطلبات المطلوبة</span></td>
                                <td>@child</td>
                            </tr>
                        </face>
    
                        <face filter="Field in ('service11') and type in ('array')">
                            <tr>
                                <td><span>خدمات مجانية</span></td>
                                <td>@child</td>
                            </tr>
                        </face>
    
                        <face filter="Field in ('journey') and type in ('array')">
                            <tr>
                                <td><span>مسار الرحلة</span></td>
                                <td>@child</td>
                            </tr>
                        </face>
    
                        <face filter="Field in ('description') and type in ('array')">
                            <tr>
                                <td><span>وصف</span></td>
                                <td>@child</td>
                            </tr>
                        </face>
    
                        <face filter="Field in ('servicename','decs')"><span class="serviceName">@value</span></face>
                        <face filter="Field in ('journeytitle')"><span class="serviceName">@value : </face>
                        <face filter="Field in ('journeydesc')"> @value</span></face>
                        <face filter="type in ('Array','object')">@Child</face>
                    </basis>
                </basis:4>
    
                <!-- type == 5 -->
                <basis:5 core="group" if="[##db.InvoiceType.Value##] in ('5','6')">
                    <basis core="tree" datamembername="db.InvoiceView_Tree" idcol="id" parentidcol="parentid"
                        nullvalue="null">
                        <face
                            filter="Field in ('invoiceDate','travelDate','account','passengers','priceDetails','baggages','bill','creditPay')">
                        </face>
                        <face filter="Field in ('products')">@Child</face>
                        <face filter="Field in ('insurance')">
                            <table class="invoice_tbl">
                                <caption class="invoice_caption"><span>معلومات التأمين</span></caption>
                                <thead>
                                    <tr>
                                        <th><span>بلد</span></th>
                                        <th><span>اسم التأمين</span></th>
                                        <th><span>فترة من الزمن</span></th>
                                        <th><span>شركة تأمين</span></th>
    
                                    </tr>
                                </thead>
    
                                <tbody>
                                    <tr>@child</tr>
                                </tbody>
                            </table>
                        </face>
    
                        <face filter="Field in ('departure','return','hotel')"></face>
                        <face filter="Field in ('country','name','Provider')">
                            <td style="font-family:IRANSansWeb">@value</td>
                        </face>
                        <face filter="Field in ('duration') and type in ('object')">
                            <td style="direction:ltr;font-family:IRANSansWeb">@child</td>
                        </face>
                        <face filter="Field in ('duration') and type in ('Scalar.String')"><span
                                style="font-family:tahoma;margin:0 2px"> @value</span></face>
                        <face filter="Field in ('durationtype') and type in ('Scalar.String')"><span> @value</span></face>
                        <face filter="type in ('Array','object')">@Child</face>
                    </basis>
                </basis:5>
    
                <!-- products type == 8 -->
                <basis:6 core="group" if="[##db.InvoiceType.Value##] in ('8')">
                    <basis core="tree" datamembername="db.InvoiceView_Tree" idcol="id" parentidcol="parentid"
                        nullvalue="null">
                        <face
                            filter="Field in ('invoiceDate','travelDate','account','passengers','priceDetails','baggages','bill','creditPay')">
                        </face>
                        <face filter="Field in ('products')">
                            <table class="invoice_tbl">
                                <caption class="invoice_caption"><span>معلومات القطار في اتجاه واحد</span></caption>
                                <thead>
                                    <tr>
                                        <th><span>من - الى</span></th>
                                        <th><span>تاريخ</span></th>
                                        <th><span>وقت الخروج</span></th>
                                        <th><span>وقت الوصول</span></th>
                                        <th><span>شركة</span></th>
                                        <th><span>محطة المغادرة</span></th>
                                        <th><span>محطة الوجهة</span></th>
                                        <th><span>رقم القطار</span></th>
                                        <th><span>فئة القطار</span></th>
                                    </tr>
                                </thead>
    
                                <tbody>@child</tbody>
                            </table>
                        </face>
    
                        <face filter="Field in ('route') and type in ('object')">
                            <tr>@child</tr>
                        </face>
                        <face filter="Field in ('route','etime','atime','class','routecode') and type in ('scalar.String')">
                            <td style="direction:ltr">@value</td>
                        </face>
    
                        <face filter="Field in ('trainid')">
                            <td>@value</td>
                        </face>
    
                        <face filter="Field in ('routeDate')">
                            <td>@Child</td>
                        </face>
                        <face filter="Field in ('mstring')">
                            <div>@value</div>
                        </face>
    
    
                        <face filter="Field in ('startairport','endairport')">
                            <td>@Child</td>
                        </face>
                        <face filter="Field in ('airport')">
                            <div>@value</div>
                        </face>
                        <face filter="Field in ('startotherinfo')">
                            <div>@Child</div>
                        </face>
                        <face filter="Field in ('shortname')">@value | </face>
                        <face filter="Field in ('city')">@value</face>
                        <face filter="type in ('Array','object')">@Child</face>
                    </basis>
                </basis:6>
    
                <!-- products type == 9 -->
                <basis:7 core="group" if="'[##db.InvoiceType.Value##]' in ('9')">
                    <basis core="tree" datamembername="db.InvoiceView_Tree" idcol="id" parentidcol="parentid"
                        nullvalue="null">
                        <face
                            filter="Field in ('invoiceDate','travelDate','account','passengers','priceDetails','baggages','bill','creditPay')">
                        </face>
                        <face filter="Field in ('products')">
                            <table class="invoice_tbl">
                                <caption class="invoice_caption"> <span>معلومات عن القطار ذهابًا وإيابًا</span></caption>
                                <thead>
                                    <tr>
                                        <th><span>من - الى</span></th>
                                        <th><span>تاريخ</span></th>
                                        <th><span>وقت الخروج</span></th>
                                        <th><span>وقت الوصول</span></th>
                                        <th><span>شركة</span></th>
                                        <th><span>محطة المغادرة</span></th>
                                        <th><span>محطة الوجهة</span></th>
                                        <th><span>رقم القطار</span></th>
                                        <th><span>فئة القطار</span></th>
                                    </tr>
                                </thead>
    
                                @child
                            </table>
                        </face>
    
                        <face filter="Field in ('hotel','transfer','insurance')"></face>
                        <face filter="Field in ('departure') and type in ('array')">
                            <tbody>
                                <tr>
                                    <td colspan="10"
                                        style="background:#FFF4E3;text-align:right;padding-right:22px;font-family:IRANSansWeb">
                                        معلومات المغادرة
                                    </td>
                                </tr>
                                @child
                            </tbody>
                        </face>
    
                        <face filter="Field in ('return') and type in ('array')">
                            <tbody>
                                <tr>
                                    <td colspan="10"
                                        style="background:#FFF4E3;text-align:right;padding-right:22px;font-family:IRANSansWeb">
                                        عودة المعلومات
                                    </td>
                                </tr>
                                @child
                            </tbody>
                        </face>
    
                        <face filter="Field in ('route') and type in ('object')">
                            <tr>@child</tr>
                        </face>
                        <face filter="Field in ('route','etime','atime','class','routecode') and type in ('scalar.String')">
                            <td style="direction:ltr">@value</td>
                        </face>
                        <face filter="Field in ('trainid')">
                            <td>@value</td>
                        </face>
    
                        <face filter="Field in ('routeDate')">
                            <td>@Child</td>
                        </face>
                        <face filter="Field in ('mstring')">
                            <div>@value</div>
                        </face>
    
    
                        <face filter="Field in ('startairport','endairport')">
                            <td>@Child</td>
                        </face>
                        <face filter="Field in ('airport')">
                            <div>@value</div>
                        </face>
                        <face filter="Field in ('startotherinfo')">
                            <div>@Child</div>
                        </face>
                        <face filter="Field in ('shortname')">@value | </face>
                        <face filter="Field in ('city')">@value</face>
                        <face filter="type in ('Array','object')">@Child</face>
                    </basis>
                </basis:7>
                <!-- passengesr ########################################################################################### -->
                <basis core="tree" datamembername="db.InvoiceView_Tree" idcol="id" parentidcol="parentid" nullvalue="null">
                    <face
                        filter="Field in ('invoiceDetails','invoiceDate','products','account','priceDetails','baggages','bill','creditPay','passengersvisa')">
                    </face>
                    <face filter="Field in ('passengers')">
                        <table class="invoice_tbl">
                            <caption class="invoice_caption"><span>قائمة الركاب</span> / <span>PASSENGERS INFORMATION</span>
                            </caption>
                            <thead>
                                <tr>
                                    <th><span>اسم</span></th>
                                    <th><span>لقب</span></th>
                                    <th><span>تاريخ الولادة</span></th>
                                    <th><span>رمز دولي</span></th>
                                    <th><span>رقم جواز السفر</span></th>
                                    <th><span>تاريخ انتهاء صلاحية جواز السفر</span></th>
                                    <th><span>جنس</span></th>
                                    <th><span>الفئة العمرية</span></th>
                                </tr>
                            </thead>
                            <tbody class="invoice_tbody">@Child</tbody>
                        </table>
                    </face>
    
                    <face filter="Field in ('passengerinfo')">
                        <tr>@child</tr>
                    </face>
                    <face filter="Field in ('firstname','lastname','nationalcode','passportcode','passportexpiration')">
                        <td>@value</td>
                    </face>
    
                    <face filter="Field in ('birthdate') and type in ('object')">
                        <td>@child</td>
                    </face>
                    <face filter="Field in ('M_birthdate') and type in ('Scalar.String') and value not in ('-')">
                        <p>@value</p>
                    </face>
    
    
                    <face filter="Field in ('M_birthdate') and type in ('Scalar.String') and value in ('-')">
                        <p></p>
                    </face>
    
    
                    <face filter="Field in ('gender') and value = '0'">
                        <td>أنثى</td>
                    </face>
                    <face filter="Field in ('gender') and value = '1'">
                        <td>ذكر</td>
                    </face>
                    <face filter="Field in ('type') and value = '0'">
                        <td style="direction: ltr;">رضيع</td>
                    </face>
                    <face filter="Field in ('type') and value = '1'">
                        <td style="direction: ltr;">طفل</td>
                    </face>
                    <face filter="Field in ('type') and value = '2'">
                        <td style="direction: ltr;">الكبار</td>
                    </face>
                    <face filter="Field in ('type') and value = '3'">
                        <td style="direction: ltr;">طفل</td>
                    </face>
                    <face filter="Field in ('type') and value = '4'">
                        <td style="direction: ltr;">الكبار|إضافي </td>
                    </face>
                    <face filter="type in ('Array','object')">@Child</face>
                </basis>
    
                <!-- price Details ######################################################################################## -->
                <!-- type == 1,2,5,8,9 -->
                <basis:8 core="group" if="[##db.InvoiceType.Value##] in ('1','2','5','8','9')">
                    <basis core="tree" datamembername="db.InvoiceView_Tree" idcol="id" parentidcol="parentid"
                        nullvalue="null">
                        <face
                            filter="Field in ('invoiceDate','travelDate','account','passengers','passengersvisa','products','baggages','bill','creditPay')">
                        </face>
                        <face filter="Field in ('priceDetails')">
                            <table class="invoice_tbl">
                                <caption class="invoice_caption">
                                    <p><span>جدول التكلفة حسب الركاب</span></p>
                                </caption>
                                <thead>
                                    <tr>
                                        <th><span>الفئة العمرية</span></th>
                                        <th><span>عدد</span></th>
                                        <th><span>تكلفة الوحدة</span></th>
                                        <th><span>التكلفة الإجمالية</span></th>
                                        <th><span>وحدة</span></th>
                                    </tr>
                                </thead>
    
                                <tbody class="invoice_tbody ">@Child</tbody>
                            </table>
                        </face>
    
                        <face filter="Field in ('adult')  and type in ('Object')">
                            <tr>
                                <td>الكبار</td>
                                @Child
                            </tr>
                        </face>
    
                        <face filter="Field in ('child')  and type in ('Object')">
                            <tr>
                                <td>طفل</td>
                                @Child
                            </tr>
                        </face>
    
                        <face filter="Field in ('infant') and type in ('Object')">
                            <tr>
                                <td>رضيع</td>
                                @Child
                            </tr>
                        </face>
    
                        <face filter="Field in ('perperson','total')">
                            <td>@value</td>
                        </face>
                        <face filter="Field in ('count')">
                            <td>@value</td>
                        </face>
                        <face filter="Field in ('unit')">
                            <td style="font-family:IRANSansWeb;">@value</td>
                        </face>
                        <face filter="type in ('Array','object')">@Child</face>
                    </basis>
                </basis:8>
    
                <!-- type == 3 -->
                <basis:9 core="group" if="[##db.InvoiceType.Value##] in ('3')">
                    <basis core="tree" datamembername="db.InvoiceView_Tree" idcol="id" parentidcol="parentid"
                        nullvalue="null">
                        <face
                            filter="Field in ('invoiceDate','travelDate','account','passengers','passengersvisa','products','baggages','bill','creditPay')">
                        </face>
                        <face filter="Field in ('priceDetails')">
                            <table class="invoice_tbl hidden">
                                <caption class="invoice_caption">
                                    <p><span>جدول التكلفة بالركاب - الغرفة</span></p>
                                </caption>
                                <thead>
                                    <tr>
                                        <th><span>الفئة العمرية</span></th>
                                        <th><span>مجال</span></th>
                                        <th><span>عدد</span></th>
                                        <th><span>تكلفة الوحدة (لكل راكب)</span></th>
                                        <th><span>التكلفة الإجمالية</span></th>
                                        <th><span>وحدة</span></th>
                                    </tr>
                                </thead>
    
                                @Child
                            </table>
                        </face>
    
                        <face filter="Field in ('room')">
                            <tbody class="invoice_tbody Room_priceDetails">@Child</tbody>
                        </face>
    
                        <face filter="Field in ('adult')">
                            <tr>
                                <td>الكبار</td>
                                @Child
                            </tr>
                        </face>
    
                        <face filter="Field in ('child Withbed')">
                            <tr>
                                <td>طفل (مع السرير)</td>
                                @Child
                            </tr>
                        </face>
    
                        <face filter="Field in ('child Withoutbed')">
                            <tr>
                                <td>طفل (بدون سرير)</td>
                                @Child
                            </tr>
                        </face>
    
                        <face filter="Field in ('infant')">
                            <tr>
                                <td>رضيع</td>
                                @Child
                            </tr>
                        </face>
    
                        <face filter="Field in ('extra Adult')">
                            <tr>
                                <td>بالغ إضافي</td>
                                @Child
                            </tr>
                        </face>
    
                        <face filter="Field in ('rooms')">
                            <tr>
                                <td>-</td>
                                @Child
                            </tr>
                        </face>
    
                        <face filter="Field in ('roomIndex','perperson','total') and value = ''">
                            <td>-</td>
                        </face>
                        <face filter="Field in ('roomIndex','perperson','total') and value <> ''">
                            <td>@value</td>
                        </face>
                        <face filter="Field in ('count')">
                            <td>@value</td>
                        </face>
                        <face filter="Field in ('unit')">
                            <td style="font-family:IRANSansWeb;">@value</td>
                        </face>
                        <face filter="type in ('Array','object')">@Child</face>
                    </basis>
                </basis:9>
    
                <!-- type == 4 -->
                <basis:10 core="group" if="[##db.InvoiceType.Value##] in ('4','10')">
                    <br><br>
                    <basis core="tree" datamembername="db.InvoiceView_Tree" idcol="id" parentidcol="parentid"
                        nullvalue="null">
                        <face
                            filter="Field in ('invoiceDate','travelDate','account','passengers','passengersvisa','products','baggages','bill','creditPay')">
                        </face>
                        <face filter="Field in ('priceDetails')">
                            <table class="invoice_tbl">
                                <caption class="invoice_caption">
                                    <p> <span>جدول التكلفة بالركاب - الغرفة</span></p>
                                </caption>
                                <thead>
                                    <tr>
                                        <th><span>الفئة العمرية</span></th>
                                        <th><span>مجال</span></th>
                                        <th><span>عدد</span></th>
                                        <th><span>تكلفة الوحدة</span></th>
                                        <th><span>التكلفة الإجمالية</span></th>
                                        <th><span>وحدة</span></th>
                                    </tr>
                                </thead>
    
                                @Child
                            </table>
                        </face>
    
                        <face filter="Field in ('room')">
                            <tbody class="invoice_tbody Room_priceDetails">@Child</tbody>
                        </face>
    
                        <face filter="Field in ('adult') and type = 'object'">
                            <tr>
                                <td>بالغ</td>
                                @Child
                            </tr>
                        </face>
    
                        <face filter="Field in ('child Withbed') and type = 'object'">
                            <tr>
                                <td>طفل (مع السرير)</td>
                                @Child
                            </tr>
                        </face>
    
                        <face filter="Field in ('child Withoutbed') and type = 'object'">
                            <tr>
                                <td>طفل (بدون سرير)</td>
                                @Child
                            </tr>
                        </face>
    
                        <face filter="Field in ('infant') and type = 'object'">
                            <tr>
                                <td>رضيع</td>
                                @Child
                            </tr>
                        </face>
    
                        <face filter="Field in ('extra Adult') and type = 'object'">
                            <tr>
                                <td>بالغ إضافي</td>
                                @Child
                            </tr>
                        </face>
    
                        <face filter="Field in ('rooms')">
                            <tr>
                                <td>-</td>
                                @Child
                            </tr>
                        </face>
    
                        <face filter="Field in ('roomIndex','perperson','total') and value = ''">
                            <td>-</td>
                        </face>
                        <face filter="Field in ('roomIndex','perperson','total') and value <> ''">
                            <td>@value</td>
                        </face>
                        <face filter="Field in ('count')">
                            <td>@value</td>
                        </face>
                        <face filter="Field in ('unit')">
                            <td style="font-family:IRANSansWeb;">@value</td>
                        </face>
                        <face filter="type in ('Array','object')">@Child</face>
                    </basis>
                </basis:10>
    
                <!-- type == 6 -->
                <basis:11 core="group" if="[##db.InvoiceType.Value##] in ('6')">
                    <basis core="tree" datamembername="db.InvoiceView_Tree" idcol="id" parentidcol="parentid"
                        nullvalue="null">
                        <face
                            filter="Field in ('invoiceDetails','invoiceDate','travelDate','account','passengers','passengersvisa','products','baggages','bill','creditPay')">
                        </face>
    
                        <face filter="Field in ('priceDetails')">
                            <table class="invoice_tbl">
                                <caption class="invoice_caption"> <span>جدول التكلفة حسب المنتج</span></caption>
                                <thead>
                                    <tr>
                                        <th><span>طيران</span></th>
                                        <th><span>الفندق</span></th>
                                        <th><span>تأمين</span></th>
                                        <th><span>التكلفة الإجمالية</span></th>
                                        <th><span>وحدة</span></th>
                                    </tr>
                                </thead>
    
                                <tbody class="invoice_tbody ">
                                    <tr>@Child</tr>
                                </tbody>
                            </table>
                        </face>
    
                        <face filter="Field in ('flight','hotel','insurance','total')">
                            <td>@value</td>
                        </face>
                        <face filter="Field in ('unit')">
                            <td style="font-family:IRANSansWeb;">@value</td>
                        </face>
                        <face filter="type in ('Array','object')">@Child</face>
                    </basis>
                </basis:11>
    
                <basis:12 core="group" if="[##db.InvoiceType.Value##] in ('11')">
                    <basis core="tree" datamembername="db.InvoiceView_Tree" idcol="id" parentidcol="parentid"
                        nullvalue="null">
                        <face
                            filter="Field in ('invoiceDate','travelDate','account','passengers','passengersvisa','priceDetails','baggages','bill','creditPay')">
                        </face>
                        <face filter="Field in ('products')">
                            <table class="invoice_tbl">
                                <caption class="invoice_caption"><span>معلومات الصالة</span></caption>
                                <thead>
                                    <tr>
                                        <th><span>اسم المنتج</span></th>
                                        <th><span>اسم المطار</span></th>
                                        <th><span>مدينة</span></th>
                                        <th><span>شركة طيران</span></th>
                                        <th><span>كود الطريق</span></th>
                                        <th><span>تاريخ</span></th>
                                        <th><span>زمن</span></th>
                                        <th><span>نوع السفر</span></th>
                                        <th><span>نوع الرحلة</span></th>
    
                                    </tr>
                                </thead>
    
                                <tbody>@child</tbody>
                            </table>
                        </face>
    
                        <face filter="Field in ('cip') and type in ('object')">
                            <tr>@child</tr>
                        </face>
                        <face
                            filter="Field in ('loungename','airportname','route','time','airline','routecode') and type in ('scalar.String')">
                            <td>@value</td>
                        </face>
                        <face filter="Field in ('travelType') and value in ('1')">
                            <td>داخلي</td>
                        </face>
                        <face filter="Field in ('travelType') and value in ('2')">
                            <td>خارجي</td>
                        </face>
                        <face filter="Field in ('flightType') and value in ('1')">
                            <td>مدخل
                        </face>
                        <face filter="Field in ('flightType') and value in ('2')">
                            <td>انتاج
                        </face>
                        <face filter="Field in ('city_flight')">-@value</td>
                        </face>
                        <face filter="Field in ('routeDate')">
                            <td>@Child</td>
                        </face>
                        <face filter="Field in ('mstring')">
                            <div>@value</div>
                        </face>
    
                        <face filter="type in ('Array','object')">@Child</face>
                    </basis>
                </basis:12>
    
                <basis:13 core="group" if="[##db.InvoiceType.Value##] in ('11')">
                    <basis core="tree" datamembername="db.InvoiceView_Tree" idcol="id" parentidcol="parentid"
                        nullvalue="null">
                        <face
                            filter="Field in ('invoiceDate','travelDate','account','passengers','passengersvisa','products','baggages','bill','creditPay','transfers','services','wheelchair','escortinfo')">
                        </face>
                        <face filter="Field in ('priceDetails')">
                            <table class="invoice_tbl">
                                <caption class="invoice_caption">
                                    <p> <span>جدول التكلفة حسب الركاب</span></p>
                                </caption>
                                <thead>
                                    <tr>
                                        <th><span>الفئة العمرية</span></th>
                                        <th><span>عدد</span></th>
                                        <th><span>تكلفة الوحدة</span></th>
                                        <th><span>التكلفة الإجمالية</span></th>
                                        <th><span>وحدة</span></th>
                                    </tr>
                                </thead>
    
                                <tbody class="invoice_tbody ">@Child</tbody>
                            </table>
                        </face>
    
                        <face filter="Field in ('adult') and type in ('object')">
                            <tr>
                                <td>الكبار</td>
                                @Child
                            </tr>
                        </face>
    
                        <face filter="Field in ('child') and type in ('object')">
                            <tr>
                                <td>طفل</td>
                                @Child
                            </tr>
                        </face>
    
                        <face filter="Field in ('infant') and type in ('object')">
                            <tr>
                                <td>رضيع</td>
                                @Child
                            </tr>
                        </face>
    
                        <face filter="Field in ('perperson','total')">
                            <td>@value</td>
                        </face>
                        <face filter="Field in ('count')">
                            <td>@value</td>
                        </face>
                        <face filter="Field in ('unit')">
                            <td style="font-family:IRANSansWeb;">@value</td>
                        </face>
                        <face filter="type in ('Array','object')">@Child</face>
                    </basis>
    
                    <basis core="tree" datamembername="db.InvoiceView_Tree" idcol="id" parentidcol="parentid"
                        nullvalue="null">
                        <face
                            filter="Field in ('invoiceDate','travelDate','account','passengers','products','baggages','bill','creditPay','adult','child','infant','services','wheelchair','escortinfo')">
                        </face>
                        <face filter="Field in ('transfers') and value not in ('[]')">
                            <table class="invoice_tbl">
                                <caption class="invoice_caption">
                                    <p> <span>جدول التكلفة عن طريق التحويلات</span></p>
                                </caption>
                                <thead>
                                    <tr>
                                        <th><span>اسم التحويل</span></th>
                                        <th><span>تبوك</span></th>
                                        <th><span>زمن</span></th>
                                        <th><span>هاتف</span></th>
                                        <th><span>تكلفة الوحدة</span></th>
                                        <th><span>التكلفة الإجمالية</span></th>
                                        <th><span>وحدة</span></th>
                                        <th><span>وصف</span></th>
                                    </tr>
                                </thead>
    
                                <tbody class="invoice_tbody ">@Child</tbody>
                            </table>
                        </face>
    
    
    
                        <face filter="Field in ('car_name','address','time','phone','perperson','total','des_transfer')">
                            <td>@value</td>
                        </face>
    
                        <face filter="Field in ('unit')">
                            <td style="font-family:IRANSansWeb;">@value</td>
                        </face>
                        <face filter="type in ('Array','object')">@Child</face>
                    </basis>
                    <basis core="tree" datamembername="db.InvoiceView_Tree" idcol="id" parentidcol="parentid"
                        nullvalue="null">
                        <face
                            filter="Field in ('invoiceDate','travelDate','account','passengers','products','baggages','bill','creditPay','adult','child','infant','transfers','wheelchair','escortinfo')">
                        </face>
                        <face filter="Field in ('services') and type in ('Array') and value not in ('[]')">
                            <table class="invoice_tbl">
                                <caption class="invoice_caption">
                                    <p><span>جدول التكلفة حسب الخدمات</span></p>
                                </caption>
                                <thead>
                                    <tr>
                                        <th><span>اسم الخدمة</span></th>
                                        <th><span>عدد</span></th>
                                        <th><span>تكلفة الوحدة</span></th>
                                        <th><span>التكلفة الإجمالية</span></th>
                                        <th><span>وحدة</span></th>
                                        <th><span>وصف</span></th>
                                    </tr>
                                </thead>
    
                                <tbody class="invoice_tbody ">@Child</tbody>
                            </table>
                        </face>
    
    
    
                        <face filter="Field in ('service') and type in ('Object')">
                            <tr>@child</tr>
                        </face>
                        <face filter="Field in ('perperson','total')">
                            <td class="Seprator">@value</td>
                        </face>
                        <face filter="Field in ('count','unit','name','des_service')">
                            <td>@value</td>
                        </face>
                        <face filter="type in ('Array','object')">@Child</face>
                    </basis>
                    <basis core="tree" datamembername="db.InvoiceView_Tree" idcol="id" parentidcol="parentid"
                        nullvalue="null">
                        <face
                            filter="Field in ('invoiceDate','travelDate','account','passengers','products','baggages','bill','creditPay','adult','child','infant','transfers','services','escortinfo')">
                        </face>
                        <face filter="Field in ('wheelchair') and type in ('Object')">
                            <table class="invoice_tbl">
                                <caption class="invoice_caption">
                                    <p>جدول سعر كرسي متحرك</p>
                                </caption>
                                <thead>
                                    <tr>
    
                                        <td>عدد الكراسي المتحركة</td>
                                        <td>سعر الوحدة</td>
                                        <td>السعر الكلي</td>
                                        <td>وحدة</td>
                                    </tr>
                                </thead>
    
                                <tbody class="invoice_tbody ">
                                    <tr>@Child</tr>
                                </tbody>
                            </table>
                        </face>
                        <face filter="Field in ('perperson','total')">
                            <td class="Seprator">@value</td>
                        </face>
                        <face filter="Field in ('count','unit')">
                            <td>@value</td>
                        </face>
                        <face filter="type in ('Array','object')">@Child</face>
                    </basis>
    
                    <basis core="tree" datamembername="db.InvoiceView_Tree" idcol="id" parentidcol="parentid"
                        nullvalue="null">
                        <face
                            filter="Field in ('invoiceDate','travelDate','account','passengers','products','baggages','bill','creditPay','adult','child','infant','transfers','services','wheelchair')">
                        </face>
                        <face filter="Field in ('escortinfo') and type in ('Array') and value not in ('[]')">
                            <table class="invoice_tbl">
                                <caption class="invoice_caption">
                                    <p>جدول الأسعار المصاحب</p>
                                </caption>
                                <thead>
                                    <tr>
                                        <td>اسم</td>
                                        <td>اللقب</td>
                                        <td>جنس</td>
                                        <td>سعر الوحدة</td>
                                        <td>السعر الكلي</td>
                                        <td>وحدة</td>
                                    </tr>
                                </thead>
    
                                <tbody class="invoice_tbody ">@Child</tbody>
                            </table>
                        </face>
                        <face filter="Field in ('escort') and type in ('Object')">
                            <tr>@child</tr>
                        </face>
                        <face filter="Field in ('perperson','total')">
                            <td class="Seprator">@value</td>
                        </face>
                        <face filter="Field in ('unit','firsname','lastname')">
                            <td>@value</td>
                        </face>
                        <face filter="Field in ('gender') and value in ('0')">
                            <td>أنثى</td>
                        </face>
                        <face filter="Field in ('gender') and value in ('1')">
                            <td>ذكر</td>
                        </face>
                        <face filter="type in ('Array','object')">@Child</face>
                    </basis>
    
                </basis:13>
    
    
                <!-- bill ################################################################################################# -->
                <basis core="tree" datamembername="db.InvoiceView_Tree" idcol="id" parentidcol="parentid" nullvalue="null">
                    <face
                        filter="Field in ('invoiceDetails','invoiceDate','account','passengers','passengersvisa','products','priceDetails','baggages','creditPay')">
                    </face>
                    <face filter="Field in ('bill')">
                        <table class="invoice_tbl">
                            <caption class="invoice_caption"><span>جدول التكلفة الإجمالية</span></caption>
                            <thead>
                                <tr>
                                    <th><span>التكلفة الإجمالية</span></th>
                                    <th><span>لجنة</span></th>
                                    <th><span>تخفيض</span></th>
                                    <th><span>رمز التخفيض</span></th>
                                    <th><span>التكلفة حسب العمولة</span></th>
                                    <th><span>وحدة</span></th>
                                </tr>
                            </thead>
    
                            <tbody class="invoice_tbody">
                                <tr>@Child</tr>
                            </tbody>
                        </table>
                    </face>
    
                    <face filter="Field in ('totalprice','commission','couponcost','totalwithcommisions')">
                        <td style="direction:ltr">@value</td>
                    </face>
                    <face filter="Field in ('unit','couponcode')">
                        <td style="font-family:IRANSansWeb;">@value</td>
                    </face>
                    <face filter="Field in ('pdf_description') and value in ('[]')">
    
                        <div class="pdf_description">
                            <p style="margin:15px 0">
                                <span style="font-weight:bold;">المادة 1 : </span> <br>
                                <span style="color:#CE0E0E">موضوع العقد: </span>
                                موضوع هذا العقد هو تحديد حدود واجبات ومسؤوليات الأطراف في العقد ، وكذلك تكلفة الخدمات
                                السياحية لتقديمها كما هو موضح في العقد.
                            </p>
    
                            <p style="margin:15px 0">
                                <span style="font-weight:bold;">المادة 2 : </span> <br>
                                <span style="color:#CE0E0E">بنود العقد : </span>
                                إذا كانت الجولة غير مجدية من قبل الوسيط بسبب عدم اكتمال النصاب ، يلتزم الوسيط بإبلاغ السائح
                                قبل موعد الجولة من خلال تقديم الأسباب المناسبة وإعادة جميع الأموال التي حصل عليها من السائح.
                            </p>
    
                            <p style="margin:15px 0;color:#CE0E0E">
                                <span style="color:#CE0E0E">انتباه </span>
                                في حالة عدم التأكيد ، سيتم استبدال فندق آخر ، وفي حالة اختلاف السعر وفقًا للباقة ، سيتم
                                استلام سعرنا وفقًا للاختلاف.
                            </p>
    
                            <p style="margin:15px 0">
                                <span style="font-weight:bold;">المادة 3 : </span> <br>
                                يكون وقت إخلاء غرف الفندق وفق القواعد والأنظمة التي تحكم الوجهة ويلتزم السائح بالتقيد بها.
                                إذا تم تسليم الغرفة في وقت أبكر من الموعد المحدد من قبل السائح ، فلن يتم رد أي مبلغ للسائح.
                            </p>
    
                            <p style="margin:15px 0">
                                <span style="font-weight:bold;">المادة 4 : </span> <br>
                                يخضع السائحون الأفراد (العزاب) لقواعد ومعدلات استخدام غرفة فردية عند التسجيل.
                            </p>
    
                            <p style="margin:15px 0">
                                <span style="font-weight:bold;">المادة 5 : </span> <br>
                                بالنسبة للجولات المجدولة مع الرحلات غير المستأجرة ، سيتم تطبيق شروط الإلغاء وفقًا للوائح
                                شركة الطيران ذات الصلة وفندق الإقامة.
                            </p>
    
                            <p style="margin:15px 0">
                                <span style="font-weight:bold;">المادة 6: </span> <br>
                                إذا في بعض الحالات ، عند وصول السائح إلى مطار بلد المقصد ، يتم الحصول على جواز سفره
                                والاحتفاظ به من قبل السلطات المختصة لإعادته إلى السائح عند العودة إلى المطار ، في مثل هذه
                                الظروف ، لن يكون الوسيط مسؤول.
                            </p>
    
                            <p style="margin:15px 0">
                                <span style="font-weight:bold;">المادة 7 : </span> <br>
                                إذا تم الحصول على ضمان من الوسيط ، وفقًا للشروط التي أعلنتها السفارة بخصوص عودة السائح ، فإن
                                السائح ملزم بتقديم نفس مبلغ الضمان البنكي إلى الوسيط.
                            </p>
    
                            <p style="margin:15px 0">
                                <span style="font-weight:bold;">ملحوظة 1 :</span> <br>
                                بعد العودة من الرحلة ، يجب على السائح الرجوع إلى الوسيط بجواز السفر الأصلي وصورة الصفحة
                                المتعلقة بختم الدخول والخروج لبلد الوجهة من أجل استلام الضمان البنكي المودع ، ويلتزم الوسيط
                                بتأكيد الأصالة ودقة الوثائق المقدمة. ، على الفور اتخاذ إجراء ضد فك الضمان.
                            </p>
    
                            <p style="margin:15px 0">
                                <span style="font-weight:bold;">المادة 8 : </span> <br>
                                إذا كانت التأشيرة الصادرة تنص على فترة زمنية محددة للإقامة ، إذا رفض أي من السائحين العودة
                                إلى البلاد في التاريخ المحدد مسبقًا ، وسيؤدي ذلك إلى إلحاق أضرار بالوسيط وفقًا لالتزام
                                السائح ، فيتم تفويض الوسيط. من خلال تقديم مستند مسبب ، سيحصل / تحصل على ما يعادل التكلفة
                                (الضرر) الذي تكبده من خلال مصادرة الضمان لصالحه.
                            </p>
    
                            <p style="margin:15px 0">
                                <span style="font-weight:bold;">المادة 9 : </span> <br>
                                إذا لم يتم إصدار التأشيرة من قبل بلد المقصد ، فلن يكون الوسيط مسؤولاً في هذا الصدد ، ولكن
                                إذا تكبد الوسيط رسومًا في هذا الصدد ، فمن أجل الحصول على التكاليف المتكبدة ملزم بتقديم
                                مستندات صالحة للسائح.
                            </p>
    
                            <p style="margin:15px 0">
                                <span style="font-weight:bold;">المادة 10 : </span> <br>
                                إذا أزعج السائح سياحًا آخرين أو قائد المجموعة والمرشدين المحليين وجميع المشاركين في الدورية
                                أو ارتكب أعمالًا مخالفة للأعراف والأخلاق في الدولة ، يكون قائد المجموعة ملزمًا وفقًا للمحضر
                                وأعضاء المجموعة الآخرين اعتمادًا على في حالة اتخاذ القرار اللازم بشأن ذلك السائح وإبلاغ
                                الوكيل التنفيذي بالخطوات.
                            </p>
    
                            <p style="margin:15px 0">
                                <span style="font-weight:bold;">المادة 11 : </span> <br>
                                تنظيم التراث الثقافي والحرف اليدوية والسياحة هو المسؤول عن حل أي نزاعات بيننا بين أطراف
                                العقد من خلال تقديم الأسباب ، والأصوات الصادرة عن المنظمة ملزمة للأطراف.
                            </p>
    
                            <p style="margin:15px 0">
                                <span style="font-weight:bold;">المادة 12 : </span> <br>
                                فيما يتعلق بالتسجيل الجماعي في الظروف العادية (غير الإجبارية) ، يُسمح فقط للشخص الذي قام
                                بالتسجيل والتوقيع على عقد نيابة عن السائحين بالرجوع إلى الوسيط لمتابعة أو إلغاء أو استلام
                                الدفع ، ويُسمح بالسياح الآخرين في هذا الصدد . لا تذهب إلى الوسيط.
                            </p>
    
                            <p style="margin:15px 0">
                                <span style="font-weight:bold;">المادة 13 : </span> <br>
                                مراعاة الأخلاق والأخلاق أثناء الرحلة من قبل السائح إلزامي ، كما أن السائح ملزم بالامتثال
                                لجميع اللوائح في بلد المقصد. لذلك فإن تبعات ارتكاب أي مخالفة ونتائج تعاطي المخدرات التي قد
                                تكون غير مشروعة في بلد المقصد تقع على عاتق السائح ، وإذا دفع الوسيط غرامة في هذا الصدد يمكنه
                                استلام التكلفة من السائح. من خلال توفير المستندات.
                            </p>
    
                            <p style="margin:15px 0">
                                <span style="font-weight:bold;">المادة 14: </span> <br>
                                إذا كانت الرحلة للمجموعات والعائلات ، إذا تم رفض طلب التأشيرة لأي سائح أو تم استلامه متأخرًا
                                ، يتعين على بقية السياح استخدام الخدمات المطلوبة ، وإذا لم يتم استخدامها ، فيجب عليهم دفع
                                جميع التكاليف المتعلقة بالإلغاء.
                            </p>
    
                            <p style="margin:15px 0">
                                <span style="font-weight:bold;">ملحوظة 2 : </span> <br>
                                بالنسبة للأقارب من الدرجة الأولى (الأب ، الأم ، الزوج ، الأطفال غير المتزوجين) ، سيتم فرض
                                رسوم تأشيرة وإقامة ليلة واحدة في الفندق ورسوم إلغاء التذكرة.
                            </p>
    
                            <p style="margin:15px 0">
                                <span style="font-weight:bold;">المادة 15 : </span> <br>
                                حماية الممتلكات الشخصية والوثائق هي مسؤولية السائح وفي حالة ضياعها لن يكون المدير أو السمسار
                                مسؤولاً.
                            </p>
    
                            <p style="margin:15px 0">
                                <span style="font-weight:bold;">المادة 16 : </span> <br>
                                إذا تم إصدار التأشيرات وجوازات السفر من قبل بعض السفارات في الساعات الأخيرة قبل بدء الرحلة ،
                                فيجب أن تكون السائحة قد أعدت ترتيبات سفرها مسبقًا.
                            </p>
    
                            <p style="margin:15px 0">
                                <span style="font-weight:bold;">ملحوظة 3 : </span> <br>
                                المبدأ هو أن التأشيرة عادية ، ولكن إذا أصر السائح على الحصول على التأشيرة فورًا ، فسيتحمل
                                السائح المسؤوليات الناتجة.
                            </p>
    
                            <p style="margin:15px 0">
                                <span style="font-weight:bold;">المادة 17 : </span> <br>
                                بناءً على طلب السفارة المعنية لإجراء مقابلة مع سائح أو أخذ بصمات لإصدار تأشيرة ، يجب على
                                السائح حضور المقابلة في قنصلية السفارة المعنية والمشاركة في المقابلة في الوقت المناسب ، وإذا
                                كان بسبب عدم القيام بذلك ، التأشيرة الصادرة عن السفارة إذا لم يكن كذلك ، سيتم فرض غرامات.
                            </p>
    
                            <p style="margin:15px 0">
                                <span style="font-weight:bold;">المادة 18 : </span> <br>
                                يلتزم السائح بالمشاركة في جولة المطار وبرامج النقل خلال الساعات المعلنة ، وفي حالة عدم
                                تواجده في الوقت المحدد أثناء الجولة ، يجب عليه شخصياً دفع الرسوم ذات الصلة للانضمام إلى
                                المجموعة ومتابعة برنامج الرحلة ، وإلا وكيل لن يكون لديه أي مسؤولية في هذا الصدد.
                            </p>
    
                            <p style="margin:15px 0">
                                <span style="font-weight:bold;">المادة 19 : </span> <br>
                                في حالة إلغاء الرحلة من قبل السائح ، سيسمح للوسيط بإلغاء التأشيرة الصادرة للسائح من قبل
                                مسؤولي السفارة التي أصدرت التأشيرة.
                            </p>
    
                            <p style="margin:15px 0">
                                <span style="font-weight:bold;">المادة 20 : </span> <br>
                                في حالة حدوث أي زيادة غير إرادية في سعر الرحلة ، سواء كانت زيادة في سعر التذكرة أو خدمات
                                أخرى ، يلتزم السائح بدفع الفرق الذي يعلنه الوسيط عن طريق تقديم إثبات مستندي من قبل الوسيط
                                بموافقة منظمة.
                            </p>
    
                            <p style="margin:15px 0">
                                <span style="font-weight:bold;">ملحوظة 4 : </span> <br>
                                دفع جميع ضرائب الخروج من مسؤولية السائح.
                            </p>
    
                            <p style="margin:15px 0">
                                <span style="font-weight:bold;">المادة 21 : </span> <br>
                                إذا لم يُسمح للسائح بالمغادرة أو منعته السلطات المحلية من دخول البلاد عند وصوله ، فسيُطلب من
                                السائح دفع الرسوم التي يتكبدها الوسيط من خلال تقديم المستندات ذات الصلة. كما يلتزم مشرف
                                الدورية أيضًا بالتعاون من أجل عودة السائح إلى الدولة ولن يكون الوسيط مسؤولاً عن ذلك.
                            </p>
    
                            <p style="margin:15px 0">
                                <span style="font-weight:bold;">المادة 22 : </span> <br>
                                إذا قام السائح بالخارج بشكل مستقل وخارج برنامج الرحلة المقترح بشراء خدمات اختيارية والمشاركة
                                فيه ، فإن التكلفة والمسؤولية عن عواقب الحوادث سيتحملها السائح.
                            </p>
    
                            <p style="margin:15px 0">
                                <span style="font-weight:bold;">المادة 23 : </span> <br>
                                يلتزم الوسيط باتخاذ الإجراءات اللازمة فيما يتعلق بالتغطية التأمينية الإلزامية والاختيارية
                                وفقًا لتعليمات التأمين التي تخطر بها المؤسسة ، وفي حالة وقوع أي حادث أثناء الرحلة ، بالإضافة
                                إلى التصرف وفقًا لشروط التأمين المغطاة ، التعاون وأخذ المساعدة اللازمة في هذا الصدد.
                            </p>
    
                            <p style="margin:15px 0">
                                <span style="font-weight:bold;">المادة 24:</span> <br>
                                تقع مسؤولية مراقبة الوثائق السياحية ، بما في ذلك تاريخ صلاحية جواز السفر السياحي وشروط عمر
                                المرافقين ، على عاتق الوسيط. لذلك ، في حالة إهمال الوسيط في هذا الصدد ، يتحمل الوسيط جميع
                                التكاليف والأضرار.
                            </p>
    
                            <p style="margin:15px 0">
                                <span style="font-weight:bold;">المادة 25:</span> <br>
                                يتعهد الوسيط بتنفيذ جدول السفر والدوريات المتفق عليه بشكل كامل ودقيق ، ولكن في حالة وقوع
                                أحداث غير متوقعة مثل الحرب وأعمال الشغب والإضرابات والمشاكل الخارجة عن سيطرة الوسيط وتسبب في
                                إلغاء الخطة أو تغييرها. لن يكون الوسيط مسؤولاً ، لكن الوسيط ملزم بإعادة الأموال المستلمة إلى
                                السائح.
                            </p>
    
                            <p style="margin:15px 0">
                                <span style="font-weight:bold;">المادة 26:</span> <br>
                                إذا لم يتم تنفيذ خطة الجولة التي قدمها الوسيط أثناء الرحلة أو لم يتم تقديمها بمستوى أعلى مما
                                تم الاتفاق عليه في العقد ، يُسمح للسائح بإبلاغ الوسيط عن العناصر لأسباب وجيهة ، ويلتزم
                                الوسيط بإرضاء سائح. في حالة وجود أي نزاع ، سيتم قبول قرار المنظمة كقرار من قبل الأطراف. ينظم
                                هذا العقد في نسختين تتكونان من 25 مادة و 4 ملاحظات ، كل منها لها جملة واحدة وتستند إلى
                                المواد 230 من القانون المدني ، وهي ملزمة للأطراف أو ممثليهم القانونيين.
                            </p>
                            <p style="margin:15px 0">
                                <span style="font-weight:bold;">المادة 27: </span> <br>
                                في حالة الإلغاء الكتابي للمسافر من مرافقة الرحلة ، حتى شهر واحد قبل الرحلة يساوي 20 ٪ من
                                إجمالي سعر الرحلة ومن شهر واحد إلى ثلاثة أسابيع قبل الرحلة يساوي 30 ٪ من إجمالي سعر الرحلة
                                ومن من ثلاثة أسابيع إلى 72 ساعة قبل الرحلة بما يعادل 50٪ من السعر الإجمالي للجولة وفي أقل من
                                72 ساعة قبل الرحلة ، سيتم خصم 70٪ من إجمالي سعر الرحلة كغرامة وبقية سيتم دفع الأموال للراكب.
                            </p>
                        </div>
                    </face>
                    <face filter="Field in ('pdf_description') and value not in ('[]')">
                        <div class="pdf_description">
                            @child
                        </div>
                    </face>
                    <face filter="Field in ('note')">
                        <p style="margin:15px 0">
                            @child
    
                        </p>
                    </face>
                    <face filter="Field in ('title')">
    
                        <span style="font-weight:bold;">@value : </span> <br>
    
    
                    </face>
                    <face filter="Field in ('text')">
                        @value
                    </face>
    
                    <face filter="type in ('Array','object')">@Child</face>
                </basis>
    
                </div>
    
                <style type="text/css">
                    @font-face{
                        font-family:'IRANSansWeb';
                        src:url('[##cms.cms.domainname##]/_fonts/IRANSansWeb.eot');src:local('?'),
                        url('[##cms.cms.domainname##]/_fonts/IRANSansWeb.woff2') format("woff"),
                        url('[##cms.cms.domainname##]/_fonts/IRANSansWeb.ttf') format("truetype"),
                        url('[##cms.cms.domainname##]/_fonts/IRANSansWeb.otf') format("otf");
                        font-weight:400;font-style:normal
                    }
                    @font-face{
                        font-family:'FontAwesome';
                        src:local('FontAwesome'),
                        url('[##cms.cms.domainname##]/_fonts/fontawesome-webfont.eot?#iefix');src:local('?'),
                        url('[##cms.cms.domainname##]/_fonts/fontawesome-webfont.woff') format("woff"),
                        url('[##cms.cms.domainname##]/_fonts/fontawesome-webfont.ttf') format("truetype"),
                        url('[##cms.cms.domainname##]/_fonts/fontawesome-webfont.otf') format("otf");
                        font-weight:400;font-style:normal
                    }
                    *{margin: 0;padding:0;}
                     body{font-family:IRANSansWeb;font-size:10px;color:#3b3838;font-weight:bold}
                     span,i{display:inline-block;}
                     p{text-align:justify;}
                     strong{color:#CE0E0E}
                    .clr{clear: both;}
                    .Panel_pdf{margin:0 auto;direction:rtl}
                    .pdf_title{text-align: center;font-weight: bold;}
                    .pdf_description {margin:10px 0;text-align:justify;}
                    .pdf_direct{direction:ltr;}
                    .Panel_pdf table{width:100%;margin:10px 0;}
                    .Panel_pdf table caption{text-align:right;border-right: 1px solid #fff;border-left: 1px solid #fff;font-size:10px;}
                    .Panel_pdf table caption span{padding:5px}
                    .Panel_pdf table tr th{text-align:center;font-weight:normal;background:#DDE8F0;padding:3px 2px;font-size:9px}
                    .Panel_pdf table tr td{text-align:center;padding:3px 2px;direction: ltr;border: 1px solid #CBDDEA;background:#F4F8FB;font-size:9px;}
                    .Panel_pdf table tr td p{text-align:center;}
                    .Panel_pdf table.tourDetails tr td{text-align:right;padding:3px 5px;font-family:IRANSansWeb;}
                    .Panel_pdf table.tourDetails tr td:nth-child(1){background:#DDE8F0;font-family:IRANSansWeb;padding:3px 5px}
                    .passengers::after {content: "+";display: inline-block;margin: 0 3px;}
                    .passengers:last-child:after{display:none;}
                     th span{display: block;}
                    .invoice_caption{font-size: 10px;}
                    break::before{content: "\a";white-space: pre;}
                    .hidden {display: none;}
                </style>
            </body>
    
            </html>
        </basis>
    </basis>
</basis>
<basis core="group" name="check-version" if="'[##cms.cms.server_main_version##]' <> '4'">
    <basis core="call" lid="3" file="Panel-HeaderPdf.inc" />
    <basis core="call" lid="3" file="Client_CheckRkey.inc"></basis> <!-- updated login -->
    <basis core="group" if="[##db.checkrkey.userid##]=0  ">
        <!DOCTYPE html>
        <html>
    
        <head>
            <meta charset="UTF-8" />
            <title>فاتورة</title>
        </head>
    
        <body>
            <p style="text-align:center">لا يسمح لك للوصول إلى هذه الصفحة</p>
            <style type="text/css">
                @font-face{
                    font-family:'IRANSansWeb';
                    src:url('[##cms.cms.domainname##]/_fonts/IRANSansWeb.eot');src:local('?'),
                    url('[##cms.cms.domainname##]/_fonts/IRANSansWeb.woff2') format("woff"),
                    url('[##cms.cms.domainname##]/_fonts/IRANSansWeb.ttf') format("truetype"),
                    url('[##cms.cms.domainname##]/_fonts/IRANSansWeb.otf') format("otf");
                    font-weight:400;font-style:normal
                }
                body{font-family:IRANSansWeb;font-size:20px;color:#3b3838;}
                break::before{content: "\a";white-space: pre;}
            </style>
        </body>
        </html>
    </basis>
    <basis core="group" if="[##db.checkrkey.userid##]<>0">
        <basis core="external.fly.ws" source="cmsDbService2" name="db" procedurename="dbsource">
            <member method="cms" name="InvoiceView" query='
          { 
              "name": "db", 
              "mid": "20", 
              "member":
              [
                  { 
                      "name": "q", 
                      "type":"list", 
                      "request":"invoiceview", 
                      "id":"[##cms.query.id##]",
                      "lid":"3"
    
                  }
              ] 
          }' />
        </basis>
    
        <basis core="group" name="Delay_2">
            <basis core='inlinesource' name='db'>
                <member name="InvoiceView_Tree" format="json" preview="">{"root":[##db.InvoiceView.result##]}</member>
                <member name='InvoiceOwnerid' format="json"
                    postsql="select value from [db.InvoiceOwnerid] where Field = 'ownerid'" preview="">
                    {"root":[##db.InvoiceView.result##]}
                </member>
    
                <member name='InvoiceOpen' format="json" postsql="select value from [db.InvoiceOpen] where Field = 'open'"
                    preview="">
                    {"root":[##db.InvoiceView.result##]}
                </member>
    
                <member name='InvoiceType' format="json"
                    postsql="select value from [db.InvoiceType] where Field = 'invoicetype'" preview="">
                    {"root":[##db.InvoiceView.result##]}
                </member>
            </basis>
    
            <basis core="dbsource" source="basiscore" mid="5" name="db" lid="3" usedforid="[##db.InvoiceOwnerid.Value##]">
                <member type="view" name="AgancyName" postsql="select Answer from [db.AgancyName] where typeid=150" />
            </basis>
    
            <html>
    
            <head>
                <title>فاتورة</title>
                <meta charset="utf-8">
            </head>
    
            <body>
                <div class="Panel_pdf">
                    <div class="pdf_title">
                        <basis:00 core="group" if="[##db.InvoiceOpen.Value|(0)##]=0">
                            <basis:02 core="group" if="[##cms.query.status|(0)##]=0">
    
                                <div>عقد
                            </basis:02>
                            <basis:03 core="group" if="[##cms.query.status|(0)##]=1">
    
                                <div>عقد مسبق
                            </basis:03>
                        </basis:00>
                        <basis:01 core="group" if="[##db.InvoiceOpen.Value|(0)##]=1">
                            <div>عقد مسبق
                        </basis:01>
                        تقديم خدمات السفر والسياحة
                    </div>
                </div>
                <div class="pdf_description">
                    <div><span>رقم : </span>[##cms.query.id##]</div>
                    <basis core="tree" datamembername="db.InvoiceView_Tree" idcol="id" parentidcol="parentid"
                        nullvalue="null">
                        <face
                            filter="Field in ('invoiceDate','account','products','passengers','passengersvisa','priceDetails','baggages','bill','creditPay')">
                        </face>
                        <face filter="Field in ('invoiceDetails')">@child</face>
                        <face filter="Field in ('counterName')">
                            <div>اسم العداد : <span> @value</span> </div>
                        </face>
                        <face filter="type in ('Array','object')">@Child</face>
                    </basis>
    
                    <basis core="tree" datamembername="db.InvoiceView_Tree" idcol="id" parentidcol="parentid"
                        nullvalue="null">
                        <face filter="Field in ('travelDate','invoiceDetails','products','creditPay')"></face>
                        <face filter="Field in ('invoiceDate')">
                            <div class="invoice_Details">تاريخ تسجيل العقد : @child</div>
                        </face>
    
                        <face filter="Field in ('mstring')"><span>@value</span></face>
    
                        <face filter="type in ('Array','object')">@Child</face>
                    </basis>
    
                    <basis core="tree" datamembername="db.InvoiceView_Tree" idcol="id" parentidcol="parentid"
                        nullvalue="null">
                        <face filter="Field in ('baggage')"></face>
                        <face filter="Field in ('title')">
                            <div style="direction:ltr;"><span>نوع الخدمة: </span> @value</div>
                        </face>
                        <face filter="type in ('Array','object')">@Child</face>
                    </basis>
                </div>
    
                <div class="pdf_description">
                    <basis core="tree" datamembername="db.InvoiceView_Tree" idcol="id" parentidcol="parentid"
                        nullvalue="null">
                        <face
                            filter="Field in ('invoiceDetails','invoiceDate','products','passengers','passengersvisa','priceDetails','baggages','bill','creditPay')">
                        </face>
                        <face filter="Field in ('account','person')">@child</face>
    
                        <face filter="Field in ('firstname')">هذا العقد بين السيدة / السيد. @value </face>
                        <face filter="Field in ('lastname')">@value </face>
                        <face filter="Field in ('address')">إلى العنوان ( @value ) </face>
                        <face filter="Field in ('tel')"> لديه رقم هاتف أرضي <span class="pdf_direct"> ( @value ) </span>
                        </face>
                        <face filter="Field in ('mobile')">ورقم الجوال<span class="pdf_direct">( @value ) </span></face>
    
                        <face filter="Field in ('agencyname')">هذا العقد بين @value</face>
                        <face filter="Field in ('agencymanegername')"> مع الإدارة @value</face>
                        <face filter="Field in ('agencytell')">إلى رقم الاتصال <span class="pdf_direct"> ( @value ) </span>
                        </face>
    
                        <face filter="type in ('Array','object')">@Child</face>
                    </basis>
    
                    <basis core="tree" datamembername="db.InvoiceView_Tree" idcol="id" parentidcol="parentid"
                        nullvalue="null">
                        <face
                            filter="Field in ('invoiceDate','account','products','passengers','passengersvisa','priceDetails','baggages','bill','creditPay')">
                        </face>
                        <face filter="Field in ('invoiceDetails')">@child</face>
                        <face filter="Field in ('persons')">
                            بشكل فردي أو نيابة عن الأشخاص التالية أسماؤهم من قبل ما مجموعه @value ، المشار إليهم فيما يلي
                            باسم "السياح" ، من ناحية والمكتب <strong>[##db.AgancyName.Answer##]</strong>يشار إليه فيما يلي
                            باسم "الوسيط" ، مثل <strong> التسوق عبر الإنترنت </strong> تم الانتهاء منه.
                        </face>
    
                        <face filter="type in ('Array','object')">@Child</face>
                    </basis>
                </div>
    
    
    
                <!-- products ############################################################################################# -->
                <!-- type == 1 -->
                <basis:1 core="group" if="[##db.InvoiceType.Value##] in ('1')">
                    <basis core="tree" datamembername="db.InvoiceView_Tree" idcol="id" parentidcol="parentid"
                        nullvalue="null">
                        <face
                            filter="Field in ('invoiceDate','travelDate','account','passengers','priceDetails','baggages','bill','creditPay')">
                        </face>
                        <face filter="Field in ('products')">
                            <table class="invoice_tbl">
                                <caption class="invoice_caption"><span>معلومات الرحلة</span></caption>
                                <thead>
                                    <tr>
                                        <th><span>من - الى</span></th>
                                        <th><span>تاريخ</span></th>
                                        <th><span>وقت الخروج</span></th>
                                        <th><span>وقت الوصول</span></th>
                                        <th><span>شركة طيران</span></th>
                                        <th><span>مطار المغادرة</span></th>
                                        <th><span>مطار الوجهة</span></th>
                                        <th><span>رقم الرحلة</span></th>
                                        <th><span>فئة الطيران</span></th>
                                    </tr>
                                </thead>
    
                                <tbody>@child</tbody>
                            </table>
                        </face>
    
                        <face filter="Field in ('route') and type in ('object')">
                            <tr>@child</tr>
                        </face>
                        <face filter="Field in ('route') and type in ('scalar.String')">
                            <td style="font-family:IRANSansWeb;">@value</td>
                        </face>
                        <face filter="Field in ('etime','atime','class','routecode') and type in ('scalar.String')">
                            <td>@value</td>
                        </face>
    
                        <face filter="Field in ('airline')">
                            <td>@value</td>
                        </face>
                        <face filter="Field in ('routeDate')">
                            <td>@Child</td>
                        </face>
                        <face filter="Field in ('mstring')">
                            <div>@value</div>
                        </face>
    
    
                        <face filter="Field in ('startairport','endairport')">
                            <td style="font-family:IRANSansWeb;">@Child</td>
                        </face>
                        <face filter="Field in ('airport')">
                            <div>@value</div>
                        </face>
                        <face filter="Field in ('startotherinfo')">
                            <div>@Child</div>
                        </face>
                        <face filter="Field in ('shortname')">@value | </face>
                        <face filter="Field in ('city')">@value</face>
                        <face filter="type in ('Array','object')">@Child</face>
                    </basis>
                </basis:1>
    
                <!-- type == 2 -->
                <basis:2 core="group" if="[##db.InvoiceType.Value##] in ('2','4','6')">
                    <basis core="tree" datamembername="db.InvoiceView_Tree" idcol="id" parentidcol="parentid"
                        nullvalue="null">
                        <face
                            filter="Field in ('invoiceDate','travelDate','account','passengers','priceDetails','baggages','bill','creditPay')">
                        </face>
                        <face filter="Field in ('products')">
                            <table class="invoice_tbl">
                                <caption class="invoice_caption"><span>معلومات الرحلة</span></caption>
                                <thead>
                                    <tr>
                                        <th><span>من - الى</span></th>
                                        <th><span>تاريخ</span></th>
                                        <th><span>وقت الخروج</span></th>
                                        <th><span>وقت الوصول</span></th>
                                        <th><span>شركة طيران</span></th>
                                        <th><span>مطار المغادرة</span></th>
                                        <th><span>مطار الوجهة</span></th>
                                        <th><span>رقم الرحلة</span></th>
                                        <th><span>فئة الطيران</span></th>
                                    </tr>
                                </thead>
    
                                @child
                            </table>
                        </face>
    
                        <face filter="Field in ('hotel','transfer','insurance')"></face>
                        <face filter="Field in ('departure') and type in ('array')">
                            <tbody>
                                <tr>
                                    <td colspan="10"
                                        style="background:#FFF4E3;text-align:right;padding-right:22px;font-family:IRANSansWeb">
                                        معلومات المغادرة
                                    </td>
                                </tr>
                                @child
                            </tbody>
                        </face>
    
                        <face filter="Field in ('return') and type in ('array')">
                            <tbody>
                                <tr>
                                    <td colspan="10"
                                        style="background:#FFF4E3;text-align:right;padding-right:22px;font-family:IRANSansWeb">
                                        عودة المعلومات
                                    </td>
                                </tr>
                                @child
                            </tbody>
                        </face>
    
                        <face filter="Field in ('route') and type in ('object')">
                            <tr>@child</tr>
                        </face>
                        <face filter="Field in ('route') and type in ('scalar.String')">
                            <td style="font-family:IRANSansWeb">@value</td>
                        </face>
                        <face filter="Field in ('etime','atime','class','routecode') and type in ('scalar.String')">
                            <td>@value</td>
                        </face>
                        <face filter="Field in ('airline')">
                            <td>@value</td>
                        </face>
    
                        <face filter="Field in ('routeDate')">
                            <td>@Child</td>
                        </face>
                        <face filter="Field in ('mstring')">
                            <div>@value</div>
                        </face>
    
    
                        <face filter="Field in ('startairport','endairport')">
                            <td style="font-family:IRANSansWeb">@Child</td>
                        </face>
                        <face filter="Field in ('airport')">
                            <div>@value</div>
                        </face>
                        <face filter="Field in ('startotherinfo')">
                            <div>@Child</div>
                        </face>
                        <face filter="Field in ('shortname')">@value | </face>
                        <face filter="Field in ('city')">@value</face>
                        <face filter="type in ('Array','object')">@Child</face>
                    </basis>
                </basis:2>
    
                <!-- type == 3 -->
                <basis:3 core="group" if="[##db.InvoiceType.Value##] in ('3','4','6','10')">
                    <basis core="tree" datamembername="db.InvoiceView_Tree" idcol="id" parentidcol="parentid"
                        nullvalue="null">
                        <face
                            filter="Field in ('invoiceDate','travelDate','account','passengers','passengersvisa','priceDetails','baggages','bill','creditPay')">
                        </face>
                        <face filter="Field in ('products')">
                            <table class="invoice_tbl">
                                <caption class="invoice_caption"><span>قائمة الغرف</span></caption>
                                <thead>
                                    <tr>
                                        <th><span>اسم فندق</span></th>
                                        <th><span>فندق الدرجة</span></th>
                                        <th><span>مدينة</span></th>
                                        <th><span>مجال</span></th>
                                        <th><span>نوع الغرفة</span></th>
                                        <th><span>تحقق في</span></th>
                                        <th><span>الدفع</span></th>
                                        <th><span>ركاب</span></th>
                                        <th><span>خدمات</span></th>
                                    </tr>
                                </thead>
    
                                @child
                            </table>
                        </face>
    
                        <face filter="Field in ('departure','return','transfer','insurance','transfers','services')"></face>
                        <face filter="Field in ('hotel') and type in ('array')">
                            <tbody>
                                <tr>
                                    <td colspan="9" style="background:#FFF4E3;text-align:right;padding:15px 0"></td>
                                </tr>
                                @child
                            </tbody>
                        </face>
    
                        <face filter="Field in ('room')">
                            <tr>@Child</tr>
                        </face>
                        <face filter="Field in ('hotelName','cityName','roomNumber','roomType','service')">
                            <td>@value</td>
                        </face>
                        <face filter="Field in ('hotelStar')">
                            <td>@value</td>
                        </face>
    
                        <face filter="Field in ('fromDate','toDate','passengers')">
                            <td>@child</td>
                        </face>
                        <face filter="Field in ('mstring')">
                            <div>@value</div>
                        </face>
    
    
                        <face filter="Field in ('passengersRoom')">
                            <td>@child</td>
                        </face>
                        <face filter="Field in ('adult')"><span class="passengers">@value بالغ</span></face>
                        <face filter="Field in ('child Withbed') and value <> '0'"><span class="passengers">@value طفل (مع
                                السرير)</span></face>
                        <face filter="Field in ('child Withoutbed') and value <> '0'"><span class="passengers">@value طفل
                                (بدون سرير)</span></face>
                        <face filter="Field in ('infant') and value <> '0'"><span class="passengers">@value رضيع</span>
                        </face>
                        <face filter="Field in ('extra Adult') and value <> '0'"><span class="passengers">@value بالغ
                                إضافي</span></face>
                        <face filter="type in ('Array','object')">@Child</face>
                    </basis>
                </basis:3>
    
                <basis:333 core="group" if="'[##db.InvoiceType.Value##]' in ('3','6')">
                    <basis core="tree" datamembername="db.InvoiceView_Tree" idcol="id" parentidcol="parentid"
                        nullvalue="null">
                        <face
                            filter="Field in ('invoiceDate','travelDate','account','passengers','passengersvisa','priceDetails','baggages','bill','creditPay')">
                        </face>
                        <face filter="Field in ('products')">
                            @child
                        </face>
    
                        <face filter="Field in ('departure','return','transfer','insurance','hotel','transfers')"></face>
                        <face filter="Field in ('services') and type in ('array') and value <> '[]'">
                            <table class="invoice_tbl product_tbl">
                                <caption class="invoice_caption">
                                    <p>معلومات الخدمة</p>
                                </caption>
                                <thead>
                                    <tr>
    
                                        <td>اسم الراكب</td>
                                        <td>اسم الخدمة</td>
                                        <td>خدمة ويب</td>
                                        <td>السعر الكلي</td>
                                        <td>وحدة</td>
    
                                    </tr>
                                </thead>
    
                                <tbody class="invoice_tbody"> @child</tbody>
                            </table>
                        </face>
    
                        <face filter="Field in ('service')">
                            <tr>@Child</tr>
                        </face>
                        <face filter="Field in ('service_passengerlist')">
                            <td>@Child</td>
                        </face>
                        <face filter="Field in ('servicename')">
                            <td>@value</td>
                        </face>
                        <face filter="Field in ('webservices')">
                            <td>@child</td>
                        </face>
                        <face filter="Field in ('webservice')">@value</face>
                        <face filter="Field in ('refnumber')">/@value</face>
                        <face filter="Field in ('servicecost')">
                            <td>@value</td>
                        </face>
                        <face filter="Field in ('serviceunit')">
                            <td>@value</td>
                        </face>
                        <face filter="Field in ('firstname')">
                            <div><span>@value-</span>
                        </face>
                        <face filter="Field in ('lastname')"><span>@value</span></div>
                        </face>
    
    
                        <face filter="Field in ('cancel') and value ='1'">
    
                            <input type="hidden" name="" class="canceli" value="1">
                        </face>
                        <face filter="Field in ('cancel') and value ='0'">
    
                            <input type="hidden" name="" class="canceli" value="0">
                        </face>
    
                        <face filter="Field in ('error') and value ='1'">
                            <td class="Webervice_Refnumber">
                                <div>غير ناجح</div>
                                <div>
                                    <a href="/reservation/invoice/Get_Refnumber.bc?id=[##cms.form.id##]&type=3&clear=[##cms.form.clear##]"
                                        class="Webervice_Link" title="اصدار الفندق">
                                        اصدار الفندق
                                        <i class="fa fa-external-link-square-alt"></i>
                                    </a>
                                </div>
                            </td>
                        </face>
    
    
                        <face filter="type in ('Array','object')">@Child</face>
                    </basis>
    
                    <basis core="tree" datamembername="db.InvoiceView_Tree" idcol="id" parentidcol="parentid"
                        nullvalue="null">
                        <face
                            filter="Field in ('invoiceDate','travelDate','account','passengers','passengersvisa','priceDetails','baggages','bill','creditPay')">
                        </face>
                        <face filter="Field in ('products')">
                            @child
                        </face>
    
                        <face filter="Field in ('departure','return','transfer','insurance','hotel','services')"></face>
                        <face filter="Field in ('transfers')">
                            <table class="invoice_tbl product_tbl">
                                <caption class="invoice_caption">
                                    <p>نقل المعلومات</p>
                                </caption>
                                <thead>
                                    <tr>
    
                                        <td>اسم الخدمة</td>
                                        <td>اسم التحويل</td>
                                        <td>اكتب التحويل</td>
                                        <td>مطار</td>
    
                                        <td>تاريخ المغادرة</td>
                                        <td>تاريخ العودة</td>
                                        <td>كود طريق المغادرة</td>
                                        <td>عودة كود الطريق</td>
    
                                        <td>ساعة المغادرة</td>
                                        <td>ساعة العودة</td>
                                        <td>خدمة ويب</td>
                                        <td>السعر الكلي</td>
                                        <td>وحدة</td>
    
                                    </tr>
                                </thead>
    
                                <tbody class="invoice_tbody">
                                    <tr>@Child</tr>
                                </tbody>
                            </table>
                        </face>
    
    
                        <face filter="Field in ('t_servicename')">
                            <td>@value</td>
                        </face>
                        <face filter="Field in ('transfername')">
                            <td>@value</td>
                        </face>
                        <face filter="Field in ('routename')">
                            <td>@value</td>
                        </face>
                        <face filter="Field in ('airport')">
                            <td>@value</td>
                        </face>
                        <face filter="Field in ('departure_Date')">
                            <td>@value</td>
                        </face>
                        <face filter="Field in ('return_Date')">
                            <td>@value</td>
                        </face>
                        <face filter="Field in ('departure_routecode')">
                            <td>@value</td>
                        </face>
                        <face filter="Field in ('return_routecode')">
                            <td>@value</td>
                        </face>
                        <face filter="Field in ('departure_hour')">
                            <td>@value</td>
                        </face>
                        <face filter="Field in ('return_hour')">
                            <td>@value</td>
                        </face>
                        <face filter="Field in ('transfercost')">
                            <td>@value</td>
                        </face>
                        <face filter="Field in ('transferunit')">
                            <td>@value</td>
                        </face>
                        <face filter="Field in ('webservices')">
                            <td>@child</td>
                        </face>
                        <face filter="Field in ('webservice')">@value</face>
                        <face filter="Field in ('refnumber')">/@value</face>
    
    
    
                        <face filter="Field in ('cancel') and value ='1'">
    
                            <input type="hidden" name="" class="canceli" value="1">
                        </face>
                        <face filter="Field in ('cancel') and value ='0'">
    
                            <input type="hidden" name="" class="canceli" value="0">
                        </face>
    
                        <face filter="Field in ('error') and value ='1'">
                            <td class="Webervice_Refnumber">
                                <div>غير ناجح</div>
                                <div>
                                    <a href="/reservation/invoice/Get_Refnumber.bc?id=[##cms.form.id##]&type=3&clear=[##cms.form.clear##]"
                                        class="Webervice_Link" title="اصدار الفندق">
                                        اصدار الفندق
                                        <i class="fa fa-external-link-square-alt"></i>
                                    </a>
                                </div>
                            </td>
                        </face>
                        <face filter="type in ('Array','object')">@Child</face>
                    </basis>
    
                </basis:333>
    
    
                <!-- type == 4 -->
                <basis:4 core="group" if="[##db.InvoiceType.Value##] in ('4')">
                    <!-- city Transfer in tour -->
                    <basis core="tree" datamembername="db.InvoiceView_Tree" idcol="id" parentidcol="parentid"
                        nullvalue="null">
                        <face
                            filter="Field in ('invoiceDate','travelDate','account','passengers','priceDetails','baggages','bill','creditPay')">
                        </face>
                        <face filter="Field in ('transfer') and value <> '[]'">
                            <table class="invoice_tbl">
                                <caption class="invoice_caption"><span>معلومات النقل بين المدن</span></caption>
                                <thead>
                                    <tr>
                                        <th><span>من - الى</span></th>
                                        <th><span>تاريخ</span></th>
                                        <th><span>وقت الخروج</span></th>
                                        <th><span>وقت الوصول</span></th>
                                        <th><span>شركة طيران</span></th>
                                        <th><span>مطار المغادرة</span></th>
                                        <th><span>مطار الوجهة</span></th>
                                        <th><span>رقم الرحلة</span></th>
                                        <th><span>فئة الطيران</span></th>
                                    </tr>
                                </thead>
    
                                <tbody>@child</tbody>
                            </table>
                        </face>
    
                        <face filter="Field in ('departure','return','hotels','insurance')"></face>
                        <face filter="Field in ('route') and type in ('object')">
                            <tr>@child</tr>
                        </face>
                        <face filter="Field in ('route') and type in ('scalar.String')">
                            <td style="font-family:IRANSansWeb">@value</td>
                        </face>
                        <face filter="Field in ('etime','atime','class','routecode') and type in ('scalar.String')">
                            <td>@value</td>
                        </face>
                        <face filter="Field in ('airline')">
                            <td>@value</td>
                        </face>
    
    
                        <face filter="Field in ('routeDate')">
                            <td>@Child</td>
                        </face>
                        <face filter="Field in ('mstring')">
                            <div>@value</div>
                        </face>
    
    
                        <face filter="Field in ('startairport','endairport')">
                            <td>@Child</td>
                        </face>
                        <face filter="Field in ('airport')">
                            <div>@value</div>
                        </face>
                        <face filter="Field in ('startotherinfo')">
                            <div>@Child</div>
                        </face>
                        <face filter="Field in ('shortname')">@value | </face>
                        <face filter="Field in ('city')">@value</face>
                        <face filter="type in ('Array','object')">@Child</face>
                    </basis>
    
                    <!-- insurance in tour -->
                    <basis core="tree" datamembername="db.InvoiceView_Tree" idcol="id" parentidcol="parentid"
                        nullvalue="null">
                        <face
                            filter="Field in ('invoiceDetails','invoiceDate','account','passengers','priceDetails','baggages','bill','creditPay')">
                        </face>
                        <face filter="Field in ('products')">@Child</face>
                        <face filter="Field in ('insurance') and value <> '[]'">
                            <table class="invoice_tbl">
                                <caption class="invoice_caption"> <span>معلومات التأمين</span></caption>
                                <thead>
                                    <tr>
                                        <th><span>بلد</span></th>
                                        <th><span>نوع التأمين</span></th>
                                        <th><span>شركة تأمين</span></th>
                                    </tr>
                                </thead>
    
                                <tbody>
                                    <tr>@child</tr>
                                </tbody>
                            </table>
                        </face>
    
                        <face filter="Field in ('insuranceCountry','insuranceName','insuranceProvider')">
                            <td style="font-family:IRANSansWeb;">@value</td>
                        </face>
                        <face filter="type in ('Array','object')">@Child</face>
                    </basis>
    
                    <!-- tourDetails in tour -->
                    <basis core="tree" datamembername="db.InvoiceView_Tree" idcol="id" parentidcol="parentid"
                        nullvalue="null">
                        <face filter="Field in ('invoiceDate','travelDate')"></face>
                        <face filter="Field in ('products')">@Child</face>
                        <face filter="Field in ('tourDetails') and value <> '{}'">
                            <table class="invoice_tbl tourDetails">
                                <colgroup>
                                    <col width="20%">
                                    </col>
                                    <col width="80%">
                                    </col>
                                </colgroup>
    
                                <caption class="invoice_caption"> <span>جولة المعلومات </span></caption>
                                <tbody>@child</tbody>
                            </table>
                        </face>
    
                        <face filter="Field in ('type') and type in ('array')">
                            <tr>
                                <td><span>نوع الجولة</span></td>
                                <td>@child</td>
                            </tr>
                        </face>
    
                        <face filter="Field in ('appropriate') and type in ('array')">
                            <tr>
                                <td><span>مناسب ل</span></td>
                                <td>@child</td>
                            </tr>
                        </face>
    
                        <face filter="Field in ('diff') and type in ('array')">
                            <tr>
                                <td><span>مستوى الصلابة</span></td>
                                <td>@child</td>
                            </tr>
                        </face>
    
                        <face filter="Field in ('tool') and type in ('array')">
                            <tr>
                                <td><span>المتطلبات المطلوبة</span></td>
                                <td>@child</td>
                            </tr>
                        </face>
    
                        <face filter="Field in ('service11') and type in ('array')">
                            <tr>
                                <td><span>خدمات مجانية</span></td>
                                <td>@child</td>
                            </tr>
                        </face>
    
                        <face filter="Field in ('journey') and type in ('array')">
                            <tr>
                                <td><span>مسار الرحلة</span></td>
                                <td>@child</td>
                            </tr>
                        </face>
    
                        <face filter="Field in ('description') and type in ('array')">
                            <tr>
                                <td><span>وصف</span></td>
                                <td>@child</td>
                            </tr>
                        </face>
    
                        <face filter="Field in ('servicename','decs')"><span class="serviceName">@value</span></face>
                        <face filter="Field in ('journeytitle')"><span class="serviceName">@value : </face>
                        <face filter="Field in ('journeydesc')"> @value</span></face>
                        <face filter="type in ('Array','object')">@Child</face>
                    </basis>
                </basis:4>
    
                <!-- type == 5 -->
                <basis:5 core="group" if="[##db.InvoiceType.Value##] in ('5','6')">
                    <basis core="tree" datamembername="db.InvoiceView_Tree" idcol="id" parentidcol="parentid"
                        nullvalue="null">
                        <face
                            filter="Field in ('invoiceDate','travelDate','account','passengers','priceDetails','baggages','bill','creditPay')">
                        </face>
                        <face filter="Field in ('products')">@Child</face>
                        <face filter="Field in ('insurance')">
                            <table class="invoice_tbl">
                                <caption class="invoice_caption"><span>معلومات التأمين</span></caption>
                                <thead>
                                    <tr>
                                        <th><span>بلد</span></th>
                                        <th><span>اسم التأمين</span></th>
                                        <th><span>فترة من الزمن</span></th>
                                        <th><span>شركة تأمين</span></th>
    
                                    </tr>
                                </thead>
    
                                <tbody>
                                    <tr>@child</tr>
                                </tbody>
                            </table>
                        </face>
    
                        <face filter="Field in ('departure','return','hotel')"></face>
                        <face filter="Field in ('country','name','Provider')">
                            <td style="font-family:IRANSansWeb">@value</td>
                        </face>
                        <face filter="Field in ('duration') and type in ('object')">
                            <td style="direction:ltr;font-family:IRANSansWeb">@child</td>
                        </face>
                        <face filter="Field in ('duration') and type in ('Scalar.String')"><span
                                style="font-family:tahoma;margin:0 2px"> @value</span></face>
                        <face filter="Field in ('durationtype') and type in ('Scalar.String')"><span> @value</span></face>
                        <face filter="type in ('Array','object')">@Child</face>
                    </basis>
                </basis:5>
    
                <!-- products type == 8 -->
                <basis:6 core="group" if="[##db.InvoiceType.Value##] in ('8')">
                    <basis core="tree" datamembername="db.InvoiceView_Tree" idcol="id" parentidcol="parentid"
                        nullvalue="null">
                        <face
                            filter="Field in ('invoiceDate','travelDate','account','passengers','priceDetails','baggages','bill','creditPay')">
                        </face>
                        <face filter="Field in ('products')">
                            <table class="invoice_tbl">
                                <caption class="invoice_caption"><span>معلومات القطار في اتجاه واحد</span></caption>
                                <thead>
                                    <tr>
                                        <th><span>من - الى</span></th>
                                        <th><span>تاريخ</span></th>
                                        <th><span>وقت الخروج</span></th>
                                        <th><span>وقت الوصول</span></th>
                                        <th><span>شركة</span></th>
                                        <th><span>محطة المغادرة</span></th>
                                        <th><span>محطة الوجهة</span></th>
                                        <th><span>رقم القطار</span></th>
                                        <th><span>فئة القطار</span></th>
                                    </tr>
                                </thead>
    
                                <tbody>@child</tbody>
                            </table>
                        </face>
    
                        <face filter="Field in ('route') and type in ('object')">
                            <tr>@child</tr>
                        </face>
                        <face filter="Field in ('route','etime','atime','class','routecode') and type in ('scalar.String')">
                            <td style="direction:ltr">@value</td>
                        </face>
    
                        <face filter="Field in ('trainid')">
                            <td>@value</td>
                        </face>
    
                        <face filter="Field in ('routeDate')">
                            <td>@Child</td>
                        </face>
                        <face filter="Field in ('mstring')">
                            <div>@value</div>
                        </face>
    
    
                        <face filter="Field in ('startairport','endairport')">
                            <td>@Child</td>
                        </face>
                        <face filter="Field in ('airport')">
                            <div>@value</div>
                        </face>
                        <face filter="Field in ('startotherinfo')">
                            <div>@Child</div>
                        </face>
                        <face filter="Field in ('shortname')">@value | </face>
                        <face filter="Field in ('city')">@value</face>
                        <face filter="type in ('Array','object')">@Child</face>
                    </basis>
                </basis:6>
    
                <!-- products type == 9 -->
                <basis:7 core="group" if="'[##db.InvoiceType.Value##]' in ('9')">
                    <basis core="tree" datamembername="db.InvoiceView_Tree" idcol="id" parentidcol="parentid"
                        nullvalue="null">
                        <face
                            filter="Field in ('invoiceDate','travelDate','account','passengers','priceDetails','baggages','bill','creditPay')">
                        </face>
                        <face filter="Field in ('products')">
                            <table class="invoice_tbl">
                                <caption class="invoice_caption"> <span>معلومات عن القطار ذهابًا وإيابًا</span></caption>
                                <thead>
                                    <tr>
                                        <th><span>من - الى</span></th>
                                        <th><span>تاريخ</span></th>
                                        <th><span>وقت الخروج</span></th>
                                        <th><span>وقت الوصول</span></th>
                                        <th><span>شركة</span></th>
                                        <th><span>محطة المغادرة</span></th>
                                        <th><span>محطة الوجهة</span></th>
                                        <th><span>رقم القطار</span></th>
                                        <th><span>فئة القطار</span></th>
                                    </tr>
                                </thead>
    
                                @child
                            </table>
                        </face>
    
                        <face filter="Field in ('hotel','transfer','insurance')"></face>
                        <face filter="Field in ('departure') and type in ('array')">
                            <tbody>
                                <tr>
                                    <td colspan="10"
                                        style="background:#FFF4E3;text-align:right;padding-right:22px;font-family:IRANSansWeb">
                                        معلومات المغادرة
                                    </td>
                                </tr>
                                @child
                            </tbody>
                        </face>
    
                        <face filter="Field in ('return') and type in ('array')">
                            <tbody>
                                <tr>
                                    <td colspan="10"
                                        style="background:#FFF4E3;text-align:right;padding-right:22px;font-family:IRANSansWeb">
                                        عودة المعلومات
                                    </td>
                                </tr>
                                @child
                            </tbody>
                        </face>
    
                        <face filter="Field in ('route') and type in ('object')">
                            <tr>@child</tr>
                        </face>
                        <face filter="Field in ('route','etime','atime','class','routecode') and type in ('scalar.String')">
                            <td style="direction:ltr">@value</td>
                        </face>
                        <face filter="Field in ('trainid')">
                            <td>@value</td>
                        </face>
    
                        <face filter="Field in ('routeDate')">
                            <td>@Child</td>
                        </face>
                        <face filter="Field in ('mstring')">
                            <div>@value</div>
                        </face>
    
    
                        <face filter="Field in ('startairport','endairport')">
                            <td>@Child</td>
                        </face>
                        <face filter="Field in ('airport')">
                            <div>@value</div>
                        </face>
                        <face filter="Field in ('startotherinfo')">
                            <div>@Child</div>
                        </face>
                        <face filter="Field in ('shortname')">@value | </face>
                        <face filter="Field in ('city')">@value</face>
                        <face filter="type in ('Array','object')">@Child</face>
                    </basis>
                </basis:7>
                <!-- passengesr ########################################################################################### -->
                <basis core="tree" datamembername="db.InvoiceView_Tree" idcol="id" parentidcol="parentid" nullvalue="null">
                    <face
                        filter="Field in ('invoiceDetails','invoiceDate','products','account','priceDetails','baggages','bill','creditPay','passengersvisa')">
                    </face>
                    <face filter="Field in ('passengers')">
                        <table class="invoice_tbl">
                            <caption class="invoice_caption"><span>قائمة الركاب</span> / <span>PASSENGERS INFORMATION</span>
                            </caption>
                            <thead>
                                <tr>
                                    <th><span>اسم</span></th>
                                    <th><span>لقب</span></th>
                                    <th><span>تاريخ الولادة</span></th>
                                    <th><span>رمز دولي</span></th>
                                    <th><span>رقم جواز السفر</span></th>
                                    <th><span>تاريخ انتهاء صلاحية جواز السفر</span></th>
                                    <th><span>جنس</span></th>
                                    <th><span>الفئة العمرية</span></th>
                                </tr>
                            </thead>
                            <tbody class="invoice_tbody">@Child</tbody>
                        </table>
                    </face>
    
                    <face filter="Field in ('passengerinfo')">
                        <tr>@child</tr>
                    </face>
                    <face filter="Field in ('firstname','lastname','nationalcode','passportcode','passportexpiration')">
                        <td>@value</td>
                    </face>
    
                    <face filter="Field in ('birthdate') and type in ('object')">
                        <td>@child</td>
                    </face>
                    <face filter="Field in ('M_birthdate') and type in ('Scalar.String') and value not in ('-')">
                        <p>@value</p>
                    </face>
    
    
                    <face filter="Field in ('M_birthdate') and type in ('Scalar.String') and value in ('-')">
                        <p></p>
                    </face>
    
    
                    <face filter="Field in ('gender') and value = '0'">
                        <td>أنثى</td>
                    </face>
                    <face filter="Field in ('gender') and value = '1'">
                        <td>ذكر</td>
                    </face>
                    <face filter="Field in ('type') and value = '0'">
                        <td style="direction: ltr;">رضيع</td>
                    </face>
                    <face filter="Field in ('type') and value = '1'">
                        <td style="direction: ltr;">طفل</td>
                    </face>
                    <face filter="Field in ('type') and value = '2'">
                        <td style="direction: ltr;">الكبار</td>
                    </face>
                    <face filter="Field in ('type') and value = '3'">
                        <td style="direction: ltr;">طفل</td>
                    </face>
                    <face filter="Field in ('type') and value = '4'">
                        <td style="direction: ltr;">الكبار|إضافي </td>
                    </face>
                    <face filter="type in ('Array','object')">@Child</face>
                </basis>
    
                <!-- price Details ######################################################################################## -->
                <!-- type == 1,2,5,8,9 -->
                <basis:8 core="group" if="[##db.InvoiceType.Value##] in ('1','2','5','8','9')">
                    <basis core="tree" datamembername="db.InvoiceView_Tree" idcol="id" parentidcol="parentid"
                        nullvalue="null">
                        <face
                            filter="Field in ('invoiceDate','travelDate','account','passengers','passengersvisa','products','baggages','bill','creditPay')">
                        </face>
                        <face filter="Field in ('priceDetails')">
                            <table class="invoice_tbl">
                                <caption class="invoice_caption">
                                    <p><span>جدول التكلفة حسب الركاب</span></p>
                                </caption>
                                <thead>
                                    <tr>
                                        <th><span>الفئة العمرية</span></th>
                                        <th><span>عدد</span></th>
                                        <th><span>تكلفة الوحدة</span></th>
                                        <th><span>التكلفة الإجمالية</span></th>
                                        <th><span>وحدة</span></th>
                                    </tr>
                                </thead>
    
                                <tbody class="invoice_tbody ">@Child</tbody>
                            </table>
                        </face>
    
                        <face filter="Field in ('adult')  and type in ('Object')">
                            <tr>
                                <td>الكبار</td>
                                @Child
                            </tr>
                        </face>
    
                        <face filter="Field in ('child')  and type in ('Object')">
                            <tr>
                                <td>طفل</td>
                                @Child
                            </tr>
                        </face>
    
                        <face filter="Field in ('infant') and type in ('Object')">
                            <tr>
                                <td>رضيع</td>
                                @Child
                            </tr>
                        </face>
    
                        <face filter="Field in ('perperson','total')">
                            <td>@value</td>
                        </face>
                        <face filter="Field in ('count')">
                            <td>@value</td>
                        </face>
                        <face filter="Field in ('unit')">
                            <td style="font-family:IRANSansWeb;">@value</td>
                        </face>
                        <face filter="type in ('Array','object')">@Child</face>
                    </basis>
                </basis:8>
    
                <!-- type == 3 -->
                <basis:9 core="group" if="[##db.InvoiceType.Value##] in ('3')">
                    <basis core="tree" datamembername="db.InvoiceView_Tree" idcol="id" parentidcol="parentid"
                        nullvalue="null">
                        <face
                            filter="Field in ('invoiceDate','travelDate','account','passengers','passengersvisa','products','baggages','bill','creditPay')">
                        </face>
                        <face filter="Field in ('priceDetails')">
                            <table class="invoice_tbl hidden">
                                <caption class="invoice_caption">
                                    <p><span>جدول التكلفة بالركاب - الغرفة</span></p>
                                </caption>
                                <thead>
                                    <tr>
                                        <th><span>الفئة العمرية</span></th>
                                        <th><span>مجال</span></th>
                                        <th><span>عدد</span></th>
                                        <th><span>تكلفة الوحدة (لكل راكب)</span></th>
                                        <th><span>التكلفة الإجمالية</span></th>
                                        <th><span>وحدة</span></th>
                                    </tr>
                                </thead>
    
                                @Child
                            </table>
                        </face>
    
                        <face filter="Field in ('room')">
                            <tbody class="invoice_tbody Room_priceDetails">@Child</tbody>
                        </face>
    
                        <face filter="Field in ('adult')">
                            <tr>
                                <td>الكبار</td>
                                @Child
                            </tr>
                        </face>
    
                        <face filter="Field in ('child Withbed')">
                            <tr>
                                <td>طفل (مع السرير)</td>
                                @Child
                            </tr>
                        </face>
    
                        <face filter="Field in ('child Withoutbed')">
                            <tr>
                                <td>طفل (بدون سرير)</td>
                                @Child
                            </tr>
                        </face>
    
                        <face filter="Field in ('infant')">
                            <tr>
                                <td>رضيع</td>
                                @Child
                            </tr>
                        </face>
    
                        <face filter="Field in ('extra Adult')">
                            <tr>
                                <td>بالغ إضافي</td>
                                @Child
                            </tr>
                        </face>
    
                        <face filter="Field in ('rooms')">
                            <tr>
                                <td>-</td>
                                @Child
                            </tr>
                        </face>
    
                        <face filter="Field in ('roomIndex','perperson','total') and value = ''">
                            <td>-</td>
                        </face>
                        <face filter="Field in ('roomIndex','perperson','total') and value <> ''">
                            <td>@value</td>
                        </face>
                        <face filter="Field in ('count')">
                            <td>@value</td>
                        </face>
                        <face filter="Field in ('unit')">
                            <td style="font-family:IRANSansWeb;">@value</td>
                        </face>
                        <face filter="type in ('Array','object')">@Child</face>
                    </basis>
                </basis:9>
    
                <!-- type == 4 -->
                <basis:10 core="group" if="[##db.InvoiceType.Value##] in ('4','10')">
                    <br><br>
                    <basis core="tree" datamembername="db.InvoiceView_Tree" idcol="id" parentidcol="parentid"
                        nullvalue="null">
                        <face
                            filter="Field in ('invoiceDate','travelDate','account','passengers','passengersvisa','products','baggages','bill','creditPay')">
                        </face>
                        <face filter="Field in ('priceDetails')">
                            <table class="invoice_tbl">
                                <caption class="invoice_caption">
                                    <p> <span>جدول التكلفة بالركاب - الغرفة</span></p>
                                </caption>
                                <thead>
                                    <tr>
                                        <th><span>الفئة العمرية</span></th>
                                        <th><span>مجال</span></th>
                                        <th><span>عدد</span></th>
                                        <th><span>تكلفة الوحدة</span></th>
                                        <th><span>التكلفة الإجمالية</span></th>
                                        <th><span>وحدة</span></th>
                                    </tr>
                                </thead>
    
                                @Child
                            </table>
                        </face>
    
                        <face filter="Field in ('room')">
                            <tbody class="invoice_tbody Room_priceDetails">@Child</tbody>
                        </face>
    
                        <face filter="Field in ('adult') and type = 'object'">
                            <tr>
                                <td>بالغ</td>
                                @Child
                            </tr>
                        </face>
    
                        <face filter="Field in ('child Withbed') and type = 'object'">
                            <tr>
                                <td>طفل (مع السرير)</td>
                                @Child
                            </tr>
                        </face>
    
                        <face filter="Field in ('child Withoutbed') and type = 'object'">
                            <tr>
                                <td>طفل (بدون سرير)</td>
                                @Child
                            </tr>
                        </face>
    
                        <face filter="Field in ('infant') and type = 'object'">
                            <tr>
                                <td>رضيع</td>
                                @Child
                            </tr>
                        </face>
    
                        <face filter="Field in ('extra Adult') and type = 'object'">
                            <tr>
                                <td>بالغ إضافي</td>
                                @Child
                            </tr>
                        </face>
    
                        <face filter="Field in ('rooms')">
                            <tr>
                                <td>-</td>
                                @Child
                            </tr>
                        </face>
    
                        <face filter="Field in ('roomIndex','perperson','total') and value = ''">
                            <td>-</td>
                        </face>
                        <face filter="Field in ('roomIndex','perperson','total') and value <> ''">
                            <td>@value</td>
                        </face>
                        <face filter="Field in ('count')">
                            <td>@value</td>
                        </face>
                        <face filter="Field in ('unit')">
                            <td style="font-family:IRANSansWeb;">@value</td>
                        </face>
                        <face filter="type in ('Array','object')">@Child</face>
                    </basis>
                </basis:10>
    
                <!-- type == 6 -->
                <basis:11 core="group" if="[##db.InvoiceType.Value##] in ('6')">
                    <basis core="tree" datamembername="db.InvoiceView_Tree" idcol="id" parentidcol="parentid"
                        nullvalue="null">
                        <face
                            filter="Field in ('invoiceDetails','invoiceDate','travelDate','account','passengers','passengersvisa','products','baggages','bill','creditPay')">
                        </face>
    
                        <face filter="Field in ('priceDetails')">
                            <table class="invoice_tbl">
                                <caption class="invoice_caption"> <span>جدول التكلفة حسب المنتج</span></caption>
                                <thead>
                                    <tr>
                                        <th><span>طيران</span></th>
                                        <th><span>الفندق</span></th>
                                        <th><span>تأمين</span></th>
                                        <th><span>التكلفة الإجمالية</span></th>
                                        <th><span>وحدة</span></th>
                                    </tr>
                                </thead>
    
                                <tbody class="invoice_tbody ">
                                    <tr>@Child</tr>
                                </tbody>
                            </table>
                        </face>
    
                        <face filter="Field in ('flight','hotel','insurance','total')">
                            <td>@value</td>
                        </face>
                        <face filter="Field in ('unit')">
                            <td style="font-family:IRANSansWeb;">@value</td>
                        </face>
                        <face filter="type in ('Array','object')">@Child</face>
                    </basis>
                </basis:11>
    
                <basis:12 core="group" if="[##db.InvoiceType.Value##] in ('11')">
                    <basis core="tree" datamembername="db.InvoiceView_Tree" idcol="id" parentidcol="parentid"
                        nullvalue="null">
                        <face
                            filter="Field in ('invoiceDate','travelDate','account','passengers','passengersvisa','priceDetails','baggages','bill','creditPay')">
                        </face>
                        <face filter="Field in ('products')">
                            <table class="invoice_tbl">
                                <caption class="invoice_caption"><span>معلومات الصالة</span></caption>
                                <thead>
                                    <tr>
                                        <th><span>اسم المنتج</span></th>
                                        <th><span>اسم المطار</span></th>
                                        <th><span>مدينة</span></th>
                                        <th><span>شركة طيران</span></th>
                                        <th><span>كود الطريق</span></th>
                                        <th><span>تاريخ</span></th>
                                        <th><span>زمن</span></th>
                                        <th><span>نوع السفر</span></th>
                                        <th><span>نوع الرحلة</span></th>
    
                                    </tr>
                                </thead>
    
                                <tbody>@child</tbody>
                            </table>
                        </face>
    
                        <face filter="Field in ('cip') and type in ('object')">
                            <tr>@child</tr>
                        </face>
                        <face
                            filter="Field in ('loungename','airportname','route','time','airline','routecode') and type in ('scalar.String')">
                            <td>@value</td>
                        </face>
                        <face filter="Field in ('travelType') and value in ('1')">
                            <td>داخلي</td>
                        </face>
                        <face filter="Field in ('travelType') and value in ('2')">
                            <td>خارجي</td>
                        </face>
                        <face filter="Field in ('flightType') and value in ('1')">
                            <td>مدخل
                        </face>
                        <face filter="Field in ('flightType') and value in ('2')">
                            <td>انتاج
                        </face>
                        <face filter="Field in ('city_flight')">-@value</td>
                        </face>
                        <face filter="Field in ('routeDate')">
                            <td>@Child</td>
                        </face>
                        <face filter="Field in ('mstring')">
                            <div>@value</div>
                        </face>
    
                        <face filter="type in ('Array','object')">@Child</face>
                    </basis>
                </basis:12>
    
                <basis:13 core="group" if="[##db.InvoiceType.Value##] in ('11')">
                    <basis core="tree" datamembername="db.InvoiceView_Tree" idcol="id" parentidcol="parentid"
                        nullvalue="null">
                        <face
                            filter="Field in ('invoiceDate','travelDate','account','passengers','passengersvisa','products','baggages','bill','creditPay','transfers','services','wheelchair','escortinfo')">
                        </face>
                        <face filter="Field in ('priceDetails')">
                            <table class="invoice_tbl">
                                <caption class="invoice_caption">
                                    <p> <span>جدول التكلفة حسب الركاب</span></p>
                                </caption>
                                <thead>
                                    <tr>
                                        <th><span>الفئة العمرية</span></th>
                                        <th><span>عدد</span></th>
                                        <th><span>تكلفة الوحدة</span></th>
                                        <th><span>التكلفة الإجمالية</span></th>
                                        <th><span>وحدة</span></th>
                                    </tr>
                                </thead>
    
                                <tbody class="invoice_tbody ">@Child</tbody>
                            </table>
                        </face>
    
                        <face filter="Field in ('adult') and type in ('object')">
                            <tr>
                                <td>الكبار</td>
                                @Child
                            </tr>
                        </face>
    
                        <face filter="Field in ('child') and type in ('object')">
                            <tr>
                                <td>طفل</td>
                                @Child
                            </tr>
                        </face>
    
                        <face filter="Field in ('infant') and type in ('object')">
                            <tr>
                                <td>رضيع</td>
                                @Child
                            </tr>
                        </face>
    
                        <face filter="Field in ('perperson','total')">
                            <td>@value</td>
                        </face>
                        <face filter="Field in ('count')">
                            <td>@value</td>
                        </face>
                        <face filter="Field in ('unit')">
                            <td style="font-family:IRANSansWeb;">@value</td>
                        </face>
                        <face filter="type in ('Array','object')">@Child</face>
                    </basis>
    
                    <basis core="tree" datamembername="db.InvoiceView_Tree" idcol="id" parentidcol="parentid"
                        nullvalue="null">
                        <face
                            filter="Field in ('invoiceDate','travelDate','account','passengers','products','baggages','bill','creditPay','adult','child','infant','services','wheelchair','escortinfo')">
                        </face>
                        <face filter="Field in ('transfers') and value not in ('[]')">
                            <table class="invoice_tbl">
                                <caption class="invoice_caption">
                                    <p> <span>جدول التكلفة عن طريق التحويلات</span></p>
                                </caption>
                                <thead>
                                    <tr>
                                        <th><span>اسم التحويل</span></th>
                                        <th><span>تبوك</span></th>
                                        <th><span>زمن</span></th>
                                        <th><span>هاتف</span></th>
                                        <th><span>تكلفة الوحدة</span></th>
                                        <th><span>التكلفة الإجمالية</span></th>
                                        <th><span>وحدة</span></th>
                                        <th><span>وصف</span></th>
                                    </tr>
                                </thead>
    
                                <tbody class="invoice_tbody ">@Child</tbody>
                            </table>
                        </face>
    
    
    
                        <face filter="Field in ('car_name','address','time','phone','perperson','total','des_transfer')">
                            <td>@value</td>
                        </face>
    
                        <face filter="Field in ('unit')">
                            <td style="font-family:IRANSansWeb;">@value</td>
                        </face>
                        <face filter="type in ('Array','object')">@Child</face>
                    </basis>
                    <basis core="tree" datamembername="db.InvoiceView_Tree" idcol="id" parentidcol="parentid"
                        nullvalue="null">
                        <face
                            filter="Field in ('invoiceDate','travelDate','account','passengers','products','baggages','bill','creditPay','adult','child','infant','transfers','wheelchair','escortinfo')">
                        </face>
                        <face filter="Field in ('services') and type in ('Array') and value not in ('[]')">
                            <table class="invoice_tbl">
                                <caption class="invoice_caption">
                                    <p><span>جدول التكلفة حسب الخدمات</span></p>
                                </caption>
                                <thead>
                                    <tr>
                                        <th><span>اسم الخدمة</span></th>
                                        <th><span>عدد</span></th>
                                        <th><span>تكلفة الوحدة</span></th>
                                        <th><span>التكلفة الإجمالية</span></th>
                                        <th><span>وحدة</span></th>
                                        <th><span>وصف</span></th>
                                    </tr>
                                </thead>
    
                                <tbody class="invoice_tbody ">@Child</tbody>
                            </table>
                        </face>
    
    
    
                        <face filter="Field in ('service') and type in ('Object')">
                            <tr>@child</tr>
                        </face>
                        <face filter="Field in ('perperson','total')">
                            <td class="Seprator">@value</td>
                        </face>
                        <face filter="Field in ('count','unit','name','des_service')">
                            <td>@value</td>
                        </face>
                        <face filter="type in ('Array','object')">@Child</face>
                    </basis>
                    <basis core="tree" datamembername="db.InvoiceView_Tree" idcol="id" parentidcol="parentid"
                        nullvalue="null">
                        <face
                            filter="Field in ('invoiceDate','travelDate','account','passengers','products','baggages','bill','creditPay','adult','child','infant','transfers','services','escortinfo')">
                        </face>
                        <face filter="Field in ('wheelchair') and type in ('Object')">
                            <table class="invoice_tbl">
                                <caption class="invoice_caption">
                                    <p>جدول سعر كرسي متحرك</p>
                                </caption>
                                <thead>
                                    <tr>
    
                                        <td>عدد الكراسي المتحركة</td>
                                        <td>سعر الوحدة</td>
                                        <td>السعر الكلي</td>
                                        <td>وحدة</td>
                                    </tr>
                                </thead>
    
                                <tbody class="invoice_tbody ">
                                    <tr>@Child</tr>
                                </tbody>
                            </table>
                        </face>
                        <face filter="Field in ('perperson','total')">
                            <td class="Seprator">@value</td>
                        </face>
                        <face filter="Field in ('count','unit')">
                            <td>@value</td>
                        </face>
                        <face filter="type in ('Array','object')">@Child</face>
                    </basis>
    
                    <basis core="tree" datamembername="db.InvoiceView_Tree" idcol="id" parentidcol="parentid"
                        nullvalue="null">
                        <face
                            filter="Field in ('invoiceDate','travelDate','account','passengers','products','baggages','bill','creditPay','adult','child','infant','transfers','services','wheelchair')">
                        </face>
                        <face filter="Field in ('escortinfo') and type in ('Array') and value not in ('[]')">
                            <table class="invoice_tbl">
                                <caption class="invoice_caption">
                                    <p>جدول الأسعار المصاحب</p>
                                </caption>
                                <thead>
                                    <tr>
                                        <td>اسم</td>
                                        <td>اللقب</td>
                                        <td>جنس</td>
                                        <td>سعر الوحدة</td>
                                        <td>السعر الكلي</td>
                                        <td>وحدة</td>
                                    </tr>
                                </thead>
    
                                <tbody class="invoice_tbody ">@Child</tbody>
                            </table>
                        </face>
                        <face filter="Field in ('escort') and type in ('Object')">
                            <tr>@child</tr>
                        </face>
                        <face filter="Field in ('perperson','total')">
                            <td class="Seprator">@value</td>
                        </face>
                        <face filter="Field in ('unit','firsname','lastname')">
                            <td>@value</td>
                        </face>
                        <face filter="Field in ('gender') and value in ('0')">
                            <td>أنثى</td>
                        </face>
                        <face filter="Field in ('gender') and value in ('1')">
                            <td>ذكر</td>
                        </face>
                        <face filter="type in ('Array','object')">@Child</face>
                    </basis>
    
                </basis:13>
    
    
                <!-- bill ################################################################################################# -->
                <basis core="tree" datamembername="db.InvoiceView_Tree" idcol="id" parentidcol="parentid" nullvalue="null">
                    <face
                        filter="Field in ('invoiceDetails','invoiceDate','account','passengers','passengersvisa','products','priceDetails','baggages','creditPay')">
                    </face>
                    <face filter="Field in ('bill')">
                        <table class="invoice_tbl">
                            <caption class="invoice_caption"><span>جدول التكلفة الإجمالية</span></caption>
                            <thead>
                                <tr>
                                    <th><span>التكلفة الإجمالية</span></th>
                                    <th><span>لجنة</span></th>
                                    <th><span>تخفيض</span></th>
                                    <th><span>رمز التخفيض</span></th>
                                    <th><span>التكلفة حسب العمولة</span></th>
                                    <th><span>وحدة</span></th>
                                </tr>
                            </thead>
    
                            <tbody class="invoice_tbody">
                                <tr>@Child</tr>
                            </tbody>
                        </table>
                    </face>
    
                    <face filter="Field in ('totalprice','commission','couponcost','totalwithcommisions')">
                        <td style="direction:ltr">@value</td>
                    </face>
                    <face filter="Field in ('unit','couponcode')">
                        <td style="font-family:IRANSansWeb;">@value</td>
                    </face>
                    <face filter="Field in ('pdf_description') and value in ('[]')">
    
                        <div class="pdf_description">
                            <p style="margin:15px 0">
                                <span style="font-weight:bold;">المادة 1 : </span> <br>
                                <span style="color:#CE0E0E">موضوع العقد: </span>
                                موضوع هذا العقد هو تحديد حدود واجبات ومسؤوليات الأطراف في العقد ، وكذلك تكلفة الخدمات
                                السياحية لتقديمها كما هو موضح في العقد.
                            </p>
    
                            <p style="margin:15px 0">
                                <span style="font-weight:bold;">المادة 2 : </span> <br>
                                <span style="color:#CE0E0E">بنود العقد : </span>
                                إذا كانت الجولة غير مجدية من قبل الوسيط بسبب عدم اكتمال النصاب ، يلتزم الوسيط بإبلاغ السائح
                                قبل موعد الجولة من خلال تقديم الأسباب المناسبة وإعادة جميع الأموال التي حصل عليها من السائح.
                            </p>
    
                            <p style="margin:15px 0;color:#CE0E0E">
                                <span style="color:#CE0E0E">انتباه </span>
                                في حالة عدم التأكيد ، سيتم استبدال فندق آخر ، وفي حالة اختلاف السعر وفقًا للباقة ، سيتم
                                استلام سعرنا وفقًا للاختلاف.
                            </p>
    
                            <p style="margin:15px 0">
                                <span style="font-weight:bold;">المادة 3 : </span> <br>
                                يكون وقت إخلاء غرف الفندق وفق القواعد والأنظمة التي تحكم الوجهة ويلتزم السائح بالتقيد بها.
                                إذا تم تسليم الغرفة في وقت أبكر من الموعد المحدد من قبل السائح ، فلن يتم رد أي مبلغ للسائح.
                            </p>
    
                            <p style="margin:15px 0">
                                <span style="font-weight:bold;">المادة 4 : </span> <br>
                                يخضع السائحون الأفراد (العزاب) لقواعد ومعدلات استخدام غرفة فردية عند التسجيل.
                            </p>
    
                            <p style="margin:15px 0">
                                <span style="font-weight:bold;">المادة 5 : </span> <br>
                                بالنسبة للجولات المجدولة مع الرحلات غير المستأجرة ، سيتم تطبيق شروط الإلغاء وفقًا للوائح
                                شركة الطيران ذات الصلة وفندق الإقامة.
                            </p>
    
                            <p style="margin:15px 0">
                                <span style="font-weight:bold;">المادة 6: </span> <br>
                                إذا في بعض الحالات ، عند وصول السائح إلى مطار بلد المقصد ، يتم الحصول على جواز سفره
                                والاحتفاظ به من قبل السلطات المختصة لإعادته إلى السائح عند العودة إلى المطار ، في مثل هذه
                                الظروف ، لن يكون الوسيط مسؤول.
                            </p>
    
                            <p style="margin:15px 0">
                                <span style="font-weight:bold;">المادة 7 : </span> <br>
                                إذا تم الحصول على ضمان من الوسيط ، وفقًا للشروط التي أعلنتها السفارة بخصوص عودة السائح ، فإن
                                السائح ملزم بتقديم نفس مبلغ الضمان البنكي إلى الوسيط.
                            </p>
    
                            <p style="margin:15px 0">
                                <span style="font-weight:bold;">ملحوظة 1 :</span> <br>
                                بعد العودة من الرحلة ، يجب على السائح الرجوع إلى الوسيط بجواز السفر الأصلي وصورة الصفحة
                                المتعلقة بختم الدخول والخروج لبلد الوجهة من أجل استلام الضمان البنكي المودع ، ويلتزم الوسيط
                                بتأكيد الأصالة ودقة الوثائق المقدمة. ، على الفور اتخاذ إجراء ضد فك الضمان.
                            </p>
    
                            <p style="margin:15px 0">
                                <span style="font-weight:bold;">المادة 8 : </span> <br>
                                إذا كانت التأشيرة الصادرة تنص على فترة زمنية محددة للإقامة ، إذا رفض أي من السائحين العودة
                                إلى البلاد في التاريخ المحدد مسبقًا ، وسيؤدي ذلك إلى إلحاق أضرار بالوسيط وفقًا لالتزام
                                السائح ، فيتم تفويض الوسيط. من خلال تقديم مستند مسبب ، سيحصل / تحصل على ما يعادل التكلفة
                                (الضرر) الذي تكبده من خلال مصادرة الضمان لصالحه.
                            </p>
    
                            <p style="margin:15px 0">
                                <span style="font-weight:bold;">المادة 9 : </span> <br>
                                إذا لم يتم إصدار التأشيرة من قبل بلد المقصد ، فلن يكون الوسيط مسؤولاً في هذا الصدد ، ولكن
                                إذا تكبد الوسيط رسومًا في هذا الصدد ، فمن أجل الحصول على التكاليف المتكبدة ملزم بتقديم
                                مستندات صالحة للسائح.
                            </p>
    
                            <p style="margin:15px 0">
                                <span style="font-weight:bold;">المادة 10 : </span> <br>
                                إذا أزعج السائح سياحًا آخرين أو قائد المجموعة والمرشدين المحليين وجميع المشاركين في الدورية
                                أو ارتكب أعمالًا مخالفة للأعراف والأخلاق في الدولة ، يكون قائد المجموعة ملزمًا وفقًا للمحضر
                                وأعضاء المجموعة الآخرين اعتمادًا على في حالة اتخاذ القرار اللازم بشأن ذلك السائح وإبلاغ
                                الوكيل التنفيذي بالخطوات.
                            </p>
    
                            <p style="margin:15px 0">
                                <span style="font-weight:bold;">المادة 11 : </span> <br>
                                تنظيم التراث الثقافي والحرف اليدوية والسياحة هو المسؤول عن حل أي نزاعات بيننا بين أطراف
                                العقد من خلال تقديم الأسباب ، والأصوات الصادرة عن المنظمة ملزمة للأطراف.
                            </p>
    
                            <p style="margin:15px 0">
                                <span style="font-weight:bold;">المادة 12 : </span> <br>
                                فيما يتعلق بالتسجيل الجماعي في الظروف العادية (غير الإجبارية) ، يُسمح فقط للشخص الذي قام
                                بالتسجيل والتوقيع على عقد نيابة عن السائحين بالرجوع إلى الوسيط لمتابعة أو إلغاء أو استلام
                                الدفع ، ويُسمح بالسياح الآخرين في هذا الصدد . لا تذهب إلى الوسيط.
                            </p>
    
                            <p style="margin:15px 0">
                                <span style="font-weight:bold;">المادة 13 : </span> <br>
                                مراعاة الأخلاق والأخلاق أثناء الرحلة من قبل السائح إلزامي ، كما أن السائح ملزم بالامتثال
                                لجميع اللوائح في بلد المقصد. لذلك فإن تبعات ارتكاب أي مخالفة ونتائج تعاطي المخدرات التي قد
                                تكون غير مشروعة في بلد المقصد تقع على عاتق السائح ، وإذا دفع الوسيط غرامة في هذا الصدد يمكنه
                                استلام التكلفة من السائح. من خلال توفير المستندات.
                            </p>
    
                            <p style="margin:15px 0">
                                <span style="font-weight:bold;">المادة 14: </span> <br>
                                إذا كانت الرحلة للمجموعات والعائلات ، إذا تم رفض طلب التأشيرة لأي سائح أو تم استلامه متأخرًا
                                ، يتعين على بقية السياح استخدام الخدمات المطلوبة ، وإذا لم يتم استخدامها ، فيجب عليهم دفع
                                جميع التكاليف المتعلقة بالإلغاء.
                            </p>
    
                            <p style="margin:15px 0">
                                <span style="font-weight:bold;">ملحوظة 2 : </span> <br>
                                بالنسبة للأقارب من الدرجة الأولى (الأب ، الأم ، الزوج ، الأطفال غير المتزوجين) ، سيتم فرض
                                رسوم تأشيرة وإقامة ليلة واحدة في الفندق ورسوم إلغاء التذكرة.
                            </p>
    
                            <p style="margin:15px 0">
                                <span style="font-weight:bold;">المادة 15 : </span> <br>
                                حماية الممتلكات الشخصية والوثائق هي مسؤولية السائح وفي حالة ضياعها لن يكون المدير أو السمسار
                                مسؤولاً.
                            </p>
    
                            <p style="margin:15px 0">
                                <span style="font-weight:bold;">المادة 16 : </span> <br>
                                إذا تم إصدار التأشيرات وجوازات السفر من قبل بعض السفارات في الساعات الأخيرة قبل بدء الرحلة ،
                                فيجب أن تكون السائحة قد أعدت ترتيبات سفرها مسبقًا.
                            </p>
    
                            <p style="margin:15px 0">
                                <span style="font-weight:bold;">ملحوظة 3 : </span> <br>
                                المبدأ هو أن التأشيرة عادية ، ولكن إذا أصر السائح على الحصول على التأشيرة فورًا ، فسيتحمل
                                السائح المسؤوليات الناتجة.
                            </p>
    
                            <p style="margin:15px 0">
                                <span style="font-weight:bold;">المادة 17 : </span> <br>
                                بناءً على طلب السفارة المعنية لإجراء مقابلة مع سائح أو أخذ بصمات لإصدار تأشيرة ، يجب على
                                السائح حضور المقابلة في قنصلية السفارة المعنية والمشاركة في المقابلة في الوقت المناسب ، وإذا
                                كان بسبب عدم القيام بذلك ، التأشيرة الصادرة عن السفارة إذا لم يكن كذلك ، سيتم فرض غرامات.
                            </p>
    
                            <p style="margin:15px 0">
                                <span style="font-weight:bold;">المادة 18 : </span> <br>
                                يلتزم السائح بالمشاركة في جولة المطار وبرامج النقل خلال الساعات المعلنة ، وفي حالة عدم
                                تواجده في الوقت المحدد أثناء الجولة ، يجب عليه شخصياً دفع الرسوم ذات الصلة للانضمام إلى
                                المجموعة ومتابعة برنامج الرحلة ، وإلا وكيل لن يكون لديه أي مسؤولية في هذا الصدد.
                            </p>
    
                            <p style="margin:15px 0">
                                <span style="font-weight:bold;">المادة 19 : </span> <br>
                                في حالة إلغاء الرحلة من قبل السائح ، سيسمح للوسيط بإلغاء التأشيرة الصادرة للسائح من قبل
                                مسؤولي السفارة التي أصدرت التأشيرة.
                            </p>
    
                            <p style="margin:15px 0">
                                <span style="font-weight:bold;">المادة 20 : </span> <br>
                                في حالة حدوث أي زيادة غير إرادية في سعر الرحلة ، سواء كانت زيادة في سعر التذكرة أو خدمات
                                أخرى ، يلتزم السائح بدفع الفرق الذي يعلنه الوسيط عن طريق تقديم إثبات مستندي من قبل الوسيط
                                بموافقة منظمة.
                            </p>
    
                            <p style="margin:15px 0">
                                <span style="font-weight:bold;">ملحوظة 4 : </span> <br>
                                دفع جميع ضرائب الخروج من مسؤولية السائح.
                            </p>
    
                            <p style="margin:15px 0">
                                <span style="font-weight:bold;">المادة 21 : </span> <br>
                                إذا لم يُسمح للسائح بالمغادرة أو منعته السلطات المحلية من دخول البلاد عند وصوله ، فسيُطلب من
                                السائح دفع الرسوم التي يتكبدها الوسيط من خلال تقديم المستندات ذات الصلة. كما يلتزم مشرف
                                الدورية أيضًا بالتعاون من أجل عودة السائح إلى الدولة ولن يكون الوسيط مسؤولاً عن ذلك.
                            </p>
    
                            <p style="margin:15px 0">
                                <span style="font-weight:bold;">المادة 22 : </span> <br>
                                إذا قام السائح بالخارج بشكل مستقل وخارج برنامج الرحلة المقترح بشراء خدمات اختيارية والمشاركة
                                فيه ، فإن التكلفة والمسؤولية عن عواقب الحوادث سيتحملها السائح.
                            </p>
    
                            <p style="margin:15px 0">
                                <span style="font-weight:bold;">المادة 23 : </span> <br>
                                يلتزم الوسيط باتخاذ الإجراءات اللازمة فيما يتعلق بالتغطية التأمينية الإلزامية والاختيارية
                                وفقًا لتعليمات التأمين التي تخطر بها المؤسسة ، وفي حالة وقوع أي حادث أثناء الرحلة ، بالإضافة
                                إلى التصرف وفقًا لشروط التأمين المغطاة ، التعاون وأخذ المساعدة اللازمة في هذا الصدد.
                            </p>
    
                            <p style="margin:15px 0">
                                <span style="font-weight:bold;">المادة 24:</span> <br>
                                تقع مسؤولية مراقبة الوثائق السياحية ، بما في ذلك تاريخ صلاحية جواز السفر السياحي وشروط عمر
                                المرافقين ، على عاتق الوسيط. لذلك ، في حالة إهمال الوسيط في هذا الصدد ، يتحمل الوسيط جميع
                                التكاليف والأضرار.
                            </p>
    
                            <p style="margin:15px 0">
                                <span style="font-weight:bold;">المادة 25:</span> <br>
                                يتعهد الوسيط بتنفيذ جدول السفر والدوريات المتفق عليه بشكل كامل ودقيق ، ولكن في حالة وقوع
                                أحداث غير متوقعة مثل الحرب وأعمال الشغب والإضرابات والمشاكل الخارجة عن سيطرة الوسيط وتسبب في
                                إلغاء الخطة أو تغييرها. لن يكون الوسيط مسؤولاً ، لكن الوسيط ملزم بإعادة الأموال المستلمة إلى
                                السائح.
                            </p>
    
                            <p style="margin:15px 0">
                                <span style="font-weight:bold;">المادة 26:</span> <br>
                                إذا لم يتم تنفيذ خطة الجولة التي قدمها الوسيط أثناء الرحلة أو لم يتم تقديمها بمستوى أعلى مما
                                تم الاتفاق عليه في العقد ، يُسمح للسائح بإبلاغ الوسيط عن العناصر لأسباب وجيهة ، ويلتزم
                                الوسيط بإرضاء سائح. في حالة وجود أي نزاع ، سيتم قبول قرار المنظمة كقرار من قبل الأطراف. ينظم
                                هذا العقد في نسختين تتكونان من 25 مادة و 4 ملاحظات ، كل منها لها جملة واحدة وتستند إلى
                                المواد 230 من القانون المدني ، وهي ملزمة للأطراف أو ممثليهم القانونيين.
                            </p>
                            <p style="margin:15px 0">
                                <span style="font-weight:bold;">المادة 27: </span> <br>
                                في حالة الإلغاء الكتابي للمسافر من مرافقة الرحلة ، حتى شهر واحد قبل الرحلة يساوي 20 ٪ من
                                إجمالي سعر الرحلة ومن شهر واحد إلى ثلاثة أسابيع قبل الرحلة يساوي 30 ٪ من إجمالي سعر الرحلة
                                ومن من ثلاثة أسابيع إلى 72 ساعة قبل الرحلة بما يعادل 50٪ من السعر الإجمالي للجولة وفي أقل من
                                72 ساعة قبل الرحلة ، سيتم خصم 70٪ من إجمالي سعر الرحلة كغرامة وبقية سيتم دفع الأموال للراكب.
                            </p>
                        </div>
                    </face>
                    <face filter="Field in ('pdf_description') and value not in ('[]')">
                        <div class="pdf_description">
                            @child
                        </div>
                    </face>
                    <face filter="Field in ('note')">
                        <p style="margin:15px 0">
                            @child
    
                        </p>
                    </face>
                    <face filter="Field in ('title')">
    
                        <span style="font-weight:bold;">@value : </span> <br>
    
    
                    </face>
                    <face filter="Field in ('text')">
                        @value
                    </face>
    
                    <face filter="type in ('Array','object')">@Child</face>
                </basis>
    
                </div>
                <style type="text/css">
                    @font-face{
                        font-family:'IRANSansWeb';
                        src:url('[##cms.cms.domainname##]/_fonts/IRANSansWeb.eot');src:local('?'),
                        url('[##cms.cms.domainname##]/_fonts/IRANSansWeb.woff2') format("woff"),
                        url('[##cms.cms.domainname##]/_fonts/IRANSansWeb.ttf') format("truetype"),
                        url('[##cms.cms.domainname##]/_fonts/IRANSansWeb.otf') format("otf");
                        font-weight:400;font-style:normal
                    }
                    @font-face{
                        font-family:'FontAwesome';
                        src:local('FontAwesome'),
                        url('[##cms.cms.domainname##]/_fonts/fontawesome-webfont.eot?#iefix');src:local('?'),
                        url('[##cms.cms.domainname##]/_fonts/fontawesome-webfont.woff') format("woff"),
                        url('[##cms.cms.domainname##]/_fonts/fontawesome-webfont.ttf') format("truetype"),
                        url('[##cms.cms.domainname##]/_fonts/fontawesome-webfont.otf') format("otf");
                        font-weight:400;font-style:normal
                    }
                    *{margin:0; padding:0;}
                    body{font-family:IRANSansWeb;font-size:20px;color:#3b3838;}
                    span,i{display:inline-block;}
                    p{text-align:justify;}
                    strong{color:#CE0E0E}
                    .clr{clear: both;}
                    .Panel_pdf{width:1400px;margin:0 auto;direction:rtl}
                    .pdf_title{text-align: center;margin-bottom: 15px;font-weight: bold;}
                    .pdf_description {margin:30px 0;text-align:justify;}
                    .pdf_direct{direction:ltr;}
                    .Panel_pdf table{width:100%;margin:40px 0;}
                    .Panel_pdf table caption{text-align:right;border-right: 1px solid #fff;border-left: 1px solid #fff;font-size:20px;}
                    .Panel_pdf table caption span{padding:5px}
                    .Panel_pdf table tr th{text-align:center;font-weight:normal;background:#DDE8F0;padding:6px 2px;font-size:18px}
                    .Panel_pdf table tr td{text-align:center;padding:6px 2px;direction: ltr;border: 1px solid #CBDDEA;background:#F4F8FB;font-size:18px;}
                    .Panel_pdf table tr td p{text-align:center;}
                    .Panel_pdf table.tourDetails tr td{text-align:right;padding:6px 5px;font-family:IRANSansWeb;}
                    .Panel_pdf table.tourDetails tr td:nth-child(1){background:#DDE8F0;font-family:IRANSansWeb;padding:6px 5px}
                    .passengers::after {content: "+";display: inline-block;margin: 0 3px;}
                    .passengers:last-child:after{display:none;}
                    th span{display: block;}
                    break::before{content: "\a";white-space: pre;}
                    .hidden {display: none;}
                </style>
            </body>
            </html>
        </basis>
    </basis>
</basis>