<basis core="tracking" name="tracking" source="Monitoring" collectionname="activity" dbname="tracking"
    addcookie="true" />
<basis core="cookie" name="trackingid" value="[##tracking.inserted.id|(0)##]" />
<basis core="external.fly.ws" source="cmsDbService2" procedurename="dbsource" name="db">
    <member method="cms" name="dep_city"
        query='{ "name": "db", "mid": "20", "member":[ { "type":"list", "name": "q", "request": "citySearch",  "functype": "0", "title": "[##cms.query.from##]", "status": "city", "lid": "2"}]}'
        preview="" />
</basis>
<basis core="external.fly.ws" source="cmsDbService2" procedurename="dbsource" name="db">
    <member method="cms" name="des_city"
        query='{ "name": "db", "mid": "20", "member":[ { "type":"list", "name": "q", "request": "citySearch", "functype": "0", "title": "[##cms.query.to##]",   "status": "city", "lid": "2"}]}'
        preview="" />
</basis>
<basis core="group" name="Delay_1">
    <basis core="inlinesource" name="db">
        <member name="dep_city_tree" format="json" preview=""> {"root":[##db.dep_city.result##]} </member>
        <member name="des_city_tree" format="json" preview=""> {"root":[##db.des_city.result##]}</member>
    </basis>
    <!DOCTYPE html>
    <html lang="en">

    <head>
        <meta charset="UTF-8">
        <title>Round-Trip</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
        <meta property="og:type" content="website">
        <meta property="og:title" content="">
        <meta property="og:image" content="[##cms.cms.cdn##]/images/icon-logo.png">
        <meta property="og:image:width" content="">
        <meta property="og:image:height" content="">
        <meta property="og:image:secure_url" content="[##cms.cms.cdn##]/images/icon-logo.png">
        <meta property="og:image:type" content="image/png">
        <meta property="og:image:alt" content="">
        <meta name="author" content="BasisCore">
        <!----------------CSS FILE---------------->
        <!----CSS MAIN STYLE---->
        <link href="https://www.basisfly.com/css/reservation_tem3_style_res_en.css" type="text/css" rel="stylesheet" />
        <link href="[##cms.cms.cdn##]/css/style_tem_en.css" type="text/css" rel="stylesheet" />
    </head>

    <body onload="onloadFunc();">
        <main class="dir-ltr">
            <basis core="call" lid="2" file="header.inc" />
            <section class="content">
                <div id="bg-popup" class="unvisible"></div>
                <div class="message-box unvisible">
                    <i class="icon-message-box">
                        <svg width="50pt" height="50pt" fill="#666" version="1.0" viewBox="0 0 512 512"
                            xmlns="http://www.w3.org/2000/svg">
                            <g transform="translate(0 512) scale(.1 -.1)">
                                <path
                                    d="m1958 5059c-518-43-1e3 -273-1362-649-741-772-795-1960-128-2804 30-39 105-121 166-181 338-337 774-546 1256-605 123-15 398-12 519 5 57 8 105 14 106 12 2-1 15-27 30-57 118-235 344-454 600-582 403-202 889-190 1280 32 141 81 174 132 120 185-32 33-60 31-115-6-25-16-83-50-130-73-388-197-846-171-1215 68-119 77-291 251-363 369-303 490-231 1110 175 1512 101 100 186 160 318 225 404 200 875 163 1242-96 87-62 225-200 286-285 222-314 284-722 166-1089-41-126-140-303-219-394-42-47-51-76-35-114 15-34 48-48 89-38 37 9 162 179 229 313 154 304 186 664 92 999-35 120-140 330-219 435-129 171-323 329-509 415l-85 39 5 170c16 517-142 993-465 1403-92 116-135 155-173 155-21 0-38-7-51-22-34-43-24-72 58-167 144-168 276-388 353-588 88-230 124-429 125-693 1-105-2-194-6-198s-44 0-90 9c-46 8-115 18-154 22l-71 6-6 187c-4 135-11 213-27 286-144 676-673 1185-1350 1302-64 11-153 17-270 17s-206-6-270-17c-683-118-1209-630-1352-1315-30-146-33-456-4-607 25-137 63-256 88-277 28-25 70-22 96 5 28 30 28 48-2 151-71 243-75 531-11 782 195 770 974 1261 1749 1103 144-29 233-60 381-134 414-206 703-586 801-1055 13-62 18-132 19-259v-175l-100-17c-410-73-756-315-963-674-90-157-156-367-169-537-3-47-9-91-12-97-3-5-61-15-129-21-334-31-681 63-976 263-127 85-303 264-396 402-71 104-77 110-112 113-27 2-43-3-57-17-36-36-27-71 48-183 342-509 932-786 1547-725l82 8 7-53c3-29 18-100 31-156 14-57 24-105 22-107-11-11-183-25-311-25-167 0-269 10-422 42-354 72-712 266-975 528-704 700-787 1795-197 2587 568 762 1591 1015 2445 603 119-57 248-136 341-206 26-20 55-34 72-34 39 0 69 32 69 74 0 41-31 71-171 163-307 201-630 311-1004 343-134 11-195 11-337-1z" />
                                <path
                                    d="m2080 4260c-17-17-20-33-20-105s3-88 20-105c25-25 71-26 99-2 41 33 41 172 0 213-25 25-74 24-99-1z" />
                                <path
                                    d="m1186 3889c-44-35-36-73 31-141 47-47 63-58 90-58 42 0 73 30 73 72 0 25-12 43-58 90-65 64-92 72-136 37z" />
                                <path
                                    d="m2938 3852c-46-47-58-65-58-90 0-43 31-72 76-72 29 0 44 9 90 54 63 63 72 106 31 144-40 38-73 29-139-36z" />
                                <path
                                    d="m2082 3670c-22-20-22-26-22-300 0-154-4-280-8-280s-37 30-72 66c-36 36-76 70-89 75-46 18-101-24-101-78 0-22 275-298 311-314 40-16 84 3 98 43 15 43 15 714 0 757-19 53-77 68-117 31z" />
                                <path
                                    d="m810 2990c-30-30-27-83 6-109 22-17 41-21 101-21 65 0 77 3 98 25 30 30 32 64 4 99-19 24-26 26-105 26-71 0-87-3-104-20z" />
                                <path
                                    d="m3245 2985c-14-13-25-36-25-50s11-37 25-50c21-22 33-25 94-25 39 0 81 5 95 11 49 23 53 104 7 128-11 6-54 11-96 11-67 0-79-3-100-25z" />
                                <path
                                    d="m3653 2359c-48-23-89-67-110-116-10-26-13-136-13-533 0-490 0-501 21-546 35-73 118-124 204-124 81 0 157 47 198 124 22 40 22 48 25 516 2 324 0 491-8 526-13 63-67 129-124 155-56 26-140 25-193-2zm153-150c18-20 19-43 19-501v-480l-24-19c-31-25-69-24-98 3l-23 21v479c0 465 1 479 20 498 27 27 81 26 106-1z" />
                                <path
                                    d="m1265 2172c-16-11-47-38-67-60-58-64-50-125 20-147 29-8 80 22 127 78 42 49 46 87 10 122-29 30-50 31-90 7z" />
                                <path
                                    d="m2140 1813c-43-16-50-34-50-123 0-78 2-89 23-108 44-41 107-19 123 43 12 48-1 144-22 164-22 22-53 32-74 24z" />
                                <path
                                    d="m3653 979c-91-45-123-109-123-249 0-115 20-174 74-215 123-94 281-63 347 68 27 51 36 175 20 245-15 62-69 128-125 153-56 26-140 25-193-2zm153-150c15-17 19-36 19-101 0-72-2-82-24-99-31-25-69-24-98 3-20 19-23 31-23 100 0 65 3 81 20 98 27 27 81 26 106-1z" />
                            </g>
                        </svg>
                    </i>
                    <div class="line-one font_20 font-weight">
                        Your search has been expired
                    </div>
                    <div class="line-two">
                        Please reload the page to get the latest rates
                    </div>
                    <button class="background-color_2 color_white font_16 border-radius cursor-pointer"
                        onclick="window.location='/EN'">Home</button>
                    <button class="background-color_1 color_white font_16 border-radius cursor-pointer"
                        onclick=" location.reload()">Search Again</button>
                </div>
                <section class="searched-container">
                    <div class="bc-main">
                        <div class="width_85 float-left text-left">
                            <div class="flight-summary-info">
                                <div class="item font_16">
                                    <basis core="print" datamembername="db.dep_city_tree">
                                        <face filter="Field = 'title'">
                                            <span class="departure"><span class="title">Departure :
                                                </span>@value</span>
                                        </face>
                                    </basis>
                                    <span class="dash"><i class="fa fa-arrow-right"></i></span>
                                    <basis core="print" datamembername="db.des_city_tree">
                                        <face filter="Field = 'title'">
                                            <span class="arrival"> <span class="title">Arrival : </span>@value
                                            </span>
                                        </face>
                                    </basis>
                                </div>
                                <div class="item font_15">
                                    <span class="dash"><i class="far fa-calendar-check"></i></span>
                                    <span class="title">Departure Date :
                                    </span><span>[##cms.query.fdate##]</span>
                                    <span class="dash"></span>
                                    <span class="title">Arrival Date : </span><span>[##cms.query.tdate##]</span>
                                </div>
                                <div class="item font_13 cursor-pointer color_white background-color_1 border-radius btn"
                                    onclick="show_research(this)">
                                    <i class="fa fa-search"></i> Modify Search
                                </div>
                                <div class="clr"></div>
                            </div>
                        </div>
                        <div class="width_15 float-right font_13 next-prev-container text-right">
                            <span class="before-btn cursor-pointer background-color_white"><i
                                    class="fa fa-angle-left color_1"></i>Prev Day
                            </span>
                            <span class="after-btn cursor-pointer background-color_white">Next Day
                                <i class="fa fa-angle-right color_1"></i></span>
                        </div>
                        <div class="clr"></div>
                        <div class="searched-items-container unvisible">
                            <i class="fa fa-times close-research cursor-pointer" onclick="close_research(this)"></i>
                            <ul class="flight_type font_15 color_gray font-weight">
                                <li id="backtoback"
                                    onclick="document.getElementById('flight-form').action='/Tem3_Roundtrip_Search.bc?lid=2';"
                                    class="active cursor-pointer">Round-Trip
                                </li>

                                <li id="oneway"
                                    onclick="document.getElementById('flight-form').action='/Tem3_Oneway_Search.bc?lid=2';"
                                    class="cursor-pointer">One-Way
                                </li>
                                <div class="clr"></div>
                            </ul>
                            <div class="searched-items width_100 background-color_white">
                                <form method="get" action="/Tem3_Roundtrip_Search.bc?lid=2" class="form-research"
                                    id="flight-form">
                                    <input type="hidden" value="[##cms.query.select-age##]" name="select-age"
                                        class="select-age-value" />
                                    <input type="hidden" class="child_count" value="[##cms.query.child##]" />
                                    <input type="hidden" value="[##cms.query.currentdate##]" class="currentdate"
                                        name="currentdate" />
                                    <div class="searched-item width_30 float-left has-border">
                                        <div class="inner width_50 float-left p-relative city">
                                            <basis core="print" datamembername="db.dep_city_tree">
                                                <face filter="Field = 'title'">
                                                    <input type="text" oninput="city_search(this)"
                                                        onclick="empty_value(this)" required data-type='1'
                                                        autocomplete="off" value="@value"
                                                        class="country FCD1 text-center" />
                                                </face>
                                                <face filter="Field = 'id'">
                                                    <input type="hidden" value="@value" class="co-id FCDid1"
                                                        name="from">
                                                </face>
                                            </basis>
                                            <span class="mini-loading p-absolute unvisible"><i
                                                    class="fas fa-spinner"></i></span>
                                            <div class="countryFlight font_12 background-color_white"></div>
                                            <div class="searchList font_12 p-absolute unvisible">
                                                <ul>
                                                    <li class="category-title"><span>Popular Destinations</span>
                                                    </li>
                                                    <li onclick="SelectPlace(this)" data-id="1203548"><i
                                                            class="flaticon-map-marker"></i><span>Tehran - All
                                                            Airports</span></li>
                                                    <li onclick="SelectPlace(this)" data-id="1177676"><i
                                                            class="flaticon-map-marker"></i><span>Istanbul - All
                                                            Airports</span></li>
                                                    <li onclick="SelectPlace(this)" data-id="1192689"><i
                                                            class="flaticon-map-marker"></i><span>Yerevan - All
                                                            Airports</span></li>
                                                    <li onclick="SelectPlace(this)" data-id="1211083"><i
                                                            class="flaticon-map-marker"></i><span>Mashhad - All
                                                            Airports</span></li>
                                                    <li onclick="SelectPlace(this)" data-id="1211110"><i
                                                            class="flaticon-map-marker"></i><span>Kish - All
                                                            Airports</span>
                                                    </li>
                                                    <li onclick="SelectPlace(this)" data-id="1173505"><i
                                                            class="flaticon-map-marker"></i><span>Dubai - All
                                                            Airports</span></li>
                                                    <li onclick="SelectPlace(this)" data-id="1168092"><i
                                                            class="flaticon-map-marker"></i><span>Antalya - All
                                                            Airports</span></li>
                                                    <li onclick="SelectPlace(this)" data-id="1189731"><i
                                                            class="flaticon-map-marker"></i><span>Tbilisi - All
                                                            Airports</span></li>
                                                    <li onclick="SelectPlace(this)" data-id="1211086"><i
                                                            class="flaticon-map-marker"></i><span>Shiraz - All
                                                            Airports</span></li>
                                                    <li onclick="SelectPlace(this)" data-id="1211084"><i
                                                            class="flaticon-map-marker"></i><span>Isfahan - All
                                                            Airports</span></li>
                                                    <li onclick="SelectPlace(this)" data-id="1178542"><i
                                                            class="flaticon-map-marker"></i><span>Kuala Lumpur -
                                                            All
                                                            Airports</span></li>
                                                    <li onclick="SelectPlace(this)" data-id="1196609"><i
                                                            class="flaticon-map-marker"></i><span>Ahvaz - All
                                                            Airports</span></li>
                                                    <li onclick="SelectPlace(this)" data-id="1211091"><i
                                                            class="flaticon-map-marker"></i><span>Kerman - All
                                                            Airports</span></li>
                                                    <li onclick="SelectPlace(this)" data-id="1196620"><i
                                                            class="flaticon-map-marker"></i><span>Kermanshah -
                                                            All
                                                            Airports</span></li>
                                                    <li onclick="SelectPlace(this)" data-id="1184034"><i
                                                            class="flaticon-map-marker"></i><span>Paris - All
                                                            Airports</span></li>
                                                    <li onclick="SelectPlace(this)" data-id="1196639"><i
                                                            class="flaticon-map-marker"></i><span>Qeshm - All
                                                            Airports</span></li>
                                                    <li onclick="SelectPlace(this)" data-id="1211085"><i
                                                            class="flaticon-map-marker"></i><span>Tabriz - All
                                                            Airports</span></li>
                                                    <li onclick="SelectPlace(this)" data-id="1196659"><i
                                                            class="flaticon-map-marker"></i><span>Chabahar - All
                                                            Airports</span></li>
                                                    <li onclick="SelectPlace(this)" data-id="1211090"><i
                                                            class="flaticon-map-marker"></i><span>Yazd - All
                                                            Airports</span>
                                                    </li>
                                                    <li onclick="SelectPlace(this)" data-id="1196635"><i
                                                            class="flaticon-map-marker"></i><span>Bandar Abbas -
                                                            All
                                                            Airports</span></li>
                                                    <li onclick="SelectPlace(this)" data-id="1211104"><i
                                                            class="flaticon-map-marker"></i><span>Ramsar - All
                                                            Airports</span></li>
                                                </ul>
                                            </div>
                                            <i class="fas fa-exchange-alt exchange-icon p-absolute cursor-pointer"></i>
                                        </div>
                                        <div class="inner width_50 float-right p-relative city">
                                            <basis core="print" datamembername="db.des_city_tree">
                                                <face filter="Field = 'title'">
                                                    <input type="text" value="@value" oninput="city_search(this)"
                                                        onclick="empty_value(this)" required data-type='1'
                                                        autocomplete="off" value="@value"
                                                        class="country FCD2 text-center" />
                                                </face>
                                                <face filter="Field = 'id'">
                                                    <input type="hidden" value="@value" class="co-id FCDid2" name="to">
                                                </face>
                                            </basis>
                                            <span class="mini-loading p-absolute unvisible"><i
                                                    class="fas fa-spinner"></i></span>
                                            <div class="countryFlight font_12 background-color_white"></div>
                                            <div class="searchList font_12 p-absolute unvisible">
                                                <ul>
                                                    <li class="category-title"><span>Popular Destinations</span>
                                                    </li>
                                                    <li onclick="SelectPlace(this)" data-id="1203548"><i
                                                            class="flaticon-map-marker"></i><span>Tehran - All
                                                            Airports</span></li>
                                                    <li onclick="SelectPlace(this)" data-id="1177676"><i
                                                            class="flaticon-map-marker"></i><span>Istanbul - All
                                                            Airports</span></li>
                                                    <li onclick="SelectPlace(this)" data-id="1192689"><i
                                                            class="flaticon-map-marker"></i><span>Yerevan - All
                                                            Airports</span></li>
                                                    <li onclick="SelectPlace(this)" data-id="1211083"><i
                                                            class="flaticon-map-marker"></i><span>Mashhad - All
                                                            Airports</span></li>
                                                    <li onclick="SelectPlace(this)" data-id="1211110"><i
                                                            class="flaticon-map-marker"></i><span>Kish - All
                                                            Airports</span>
                                                    </li>
                                                    <li onclick="SelectPlace(this)" data-id="1173505"><i
                                                            class="flaticon-map-marker"></i><span>Dubai - All
                                                            Airports</span></li>
                                                    <li onclick="SelectPlace(this)" data-id="1168092"><i
                                                            class="flaticon-map-marker"></i><span>Antalya - All
                                                            Airports</span></li>
                                                    <li onclick="SelectPlace(this)" data-id="1189731"><i
                                                            class="flaticon-map-marker"></i><span>Tbilisi - All
                                                            Airports</span></li>
                                                    <li onclick="SelectPlace(this)" data-id="1211086"><i
                                                            class="flaticon-map-marker"></i><span>Shiraz - All
                                                            Airports</span></li>
                                                    <li onclick="SelectPlace(this)" data-id="1211084"><i
                                                            class="flaticon-map-marker"></i><span>Isfahan - All
                                                            Airports</span></li>
                                                    <li onclick="SelectPlace(this)" data-id="1178542"><i
                                                            class="flaticon-map-marker"></i><span>Kuala Lumpur -
                                                            All
                                                            Airports</span></li>
                                                    <li onclick="SelectPlace(this)" data-id="1196609"><i
                                                            class="flaticon-map-marker"></i><span>Ahvaz - All
                                                            Airports</span></li>
                                                    <li onclick="SelectPlace(this)" data-id="1211091"><i
                                                            class="flaticon-map-marker"></i><span>Kerman - All
                                                            Airports</span></li>
                                                    <li onclick="SelectPlace(this)" data-id="1196620"><i
                                                            class="flaticon-map-marker"></i><span>Kermanshah -
                                                            All
                                                            Airports</span></li>
                                                    <li onclick="SelectPlace(this)" data-id="1184034"><i
                                                            class="flaticon-map-marker"></i><span>Paris - All
                                                            Airports</span></li>
                                                    <li onclick="SelectPlace(this)" data-id="1196639"><i
                                                            class="flaticon-map-marker"></i><span>Qeshm - All
                                                            Airports</span></li>
                                                    <li onclick="SelectPlace(this)" data-id="1211085"><i
                                                            class="flaticon-map-marker"></i><span>Tabriz - All
                                                            Airports</span></li>
                                                    <li onclick="SelectPlace(this)" data-id="1196659"><i
                                                            class="flaticon-map-marker"></i><span>Chabahar - All
                                                            Airports</span></li>
                                                    <li onclick="SelectPlace(this)" data-id="1211090"><i
                                                            class="flaticon-map-marker"></i><span>Yazd - All
                                                            Airports</span>
                                                    </li>
                                                    <li onclick="SelectPlace(this)" data-id="1196635"><i
                                                            class="flaticon-map-marker"></i><span>Bandar Abbas -
                                                            All
                                                            Airports</span></li>
                                                    <li onclick="SelectPlace(this)" data-id="1211104"><i
                                                            class="flaticon-map-marker"></i><span>Ramsar - All
                                                            Airports</span></li>
                                                </ul>
                                            </div>
                                        </div>
                                        <div class="clr"></div>
                                    </div>
                                    <div class="searched-item width_30 float-left has-border Basis_Date_Box">
                                        <div class="inner width_50 float-left p-relative has-border_">
                                            <input type="text" value="[##cms.query.fdate##]" name="fdate"
                                                class="Basis_Date start_date"
                                                onclick="Basis_Calendar(this,'[##cms.cms.date##]', 1)" data-active="0"
                                                data-cache="0" readonly="true" autocomplete="off" required />
                                            <input value="[##cms.query.mstring_fdate##]" class="mstring_fdate"
                                                type="hidden" />

                                        </div>
                                        <div class="inner width_50 float-left p-relative nextCalOpening">
                                            <input type="text" value="[##cms.query.tdate##]" name="tdate"
                                                class="Basis_Date end_date end_date_filled"
                                                onclick="Basis_Calendar(this,'[##cms.cms.date##]', 1)" data-active="0"
                                                data-cache="0" readonly="true" autocomplete="off" required />
                                            <input value="[##cms.query.mstring_tdate##]" class="mstring_tdate"
                                                type="hidden" />

                                        </div>
                                        <div class="clr"></div>
                                    </div>
                                    <div class="searched-item p-relative width_20 float-left">
                                        <div class="Wrapper-CountPassenger font_13 cursor-pointer"
                                            onclick="show_passengers(this)">
                                            <span class="count-adult">
                                                <span class="count">[##cms.query.adult##]</span>
                                                <span>Adult</span>
                                            </span>
                                            <span class="count-child unvisible">
                                                <span class="count split_num_1"></span>
                                                <span>Child</span>
                                            </span>
                                            <div class="clr"></div>
                                        </div>
                                        <div class="CountPassenger unvisible p-absolute font_11">
                                            <div class="item-CountPassenger">
                                                <div class="first-part-CountPassenger width_50 float-left">
                                                    Flight Class
                                                </div>
                                                <div class="second-part-CountPassenger p-relative width_50 float-right">
                                                    <select name="FlightClass" class="FlightClass">
                                                        <option value="[##cms.query.FlightClass##]">
                                                            [##cms.query.FlightClass##]</option>
                                                        <option value="Economy">Economy</option>
                                                        <option value="BusinessClass">Bussines</option>
                                                        <option value="FirstClass">First</option>
                                                    </select>
                                                </div>
                                                <div class="clr"></div>
                                            </div>
                                            <div class="item-CountPassenger">
                                                <div class="first-part-CountPassenger width_50 float-left">
                                                    Adult (+12)
                                                </div>
                                                <div class="second-part-CountPassenger width_50 float-right">
                                                    <div class="passenger-button plus-minus"><span
                                                            class="background-color_2  plus-btn">+</span></div>
                                                    <div class="passenger-button">
                                                        <input type="text" name="adult" class="adult" readonly
                                                            value="[##cms.query.adult##]" />
                                                    </div>
                                                    <div class="passenger-button plus-minus"><span
                                                            class="background-color_2  minus-btn">-</span></div>
                                                </div>
                                                <div class="clr"></div>
                                            </div>
                                            <div class="item-CountPassenger">
                                                <div class="first-part-CountPassenger width_50 float-left">Child
                                                    (-12)</div>
                                                <div class="second-part-CountPassenger width_50 float-right">
                                                    <div class="passenger-button plus-minus-ch" data-type="0"><span
                                                            class="background-color_2  plus-btn">+</span></div>
                                                    <div class="passenger-button">
                                                        <input type="text" class="split_num_2" readonly value="" />
                                                    </div>
                                                    <div class="passenger-button plus-minus-ch" data-type="0"><span
                                                            class="background-color_2 minus-btn">-</span></div>
                                                </div>
                                                <input type="hidden" value="[##cms.query.child##]" class="child"
                                                    name="child" />
                                                <div class="clr"></div>
                                                <div class="section-select-age"></div>
                                                <div class="clr"></div>
                                            </div>
                                            <div class="confirm background-color_1 color_white text-center border-radius cursor-pointer"
                                                onclick="confirm_search(this)">Confirm</div>
                                        </div>
                                        <i class="icon-passenger p-absolute"><svg xmlns="http://www.w3.org/2000/svg"
                                                width="24" height="24" viewBox="0 0 24 24">
                                                <rect width="24" height="24" opacity="0" />
                                                <path
                                                    d="M18.5,7.355a3.5,3.5,0,1,0-3.893,0,5.347,5.347,0,0,0-1.235.7A3.429,3.429,0,0,0,12.844,8,3.477,3.477,0,0,0,9.755,9.9a4.907,4.907,0,0,0-.923-.518,3.519,3.519,0,1,0-3.9.015A4.786,4.786,0,0,0,2,13.772v7.684a1.5,1.5,0,0,0,1.5,1.5H8.052v0l9.1-.037h3.332a1.5,1.5,0,0,0,1.5-1.5v-8.8A5.653,5.653,0,0,0,18.5,7.355Zm-4.452-2.9a2.5,2.5,0,1,1,2.5,2.5A2.5,2.5,0,0,1,14.05,4.452ZM12.844,9a2.482,2.482,0,1,1-2.485,2.482A2.488,2.488,0,0,1,12.844,9ZM4.351,6.473A2.517,2.517,0,1,1,6.868,8.987,2.518,2.518,0,0,1,4.351,6.473ZM3.507,21.958a.5.5,0,0,1-.5-.5V13.772A3.848,3.848,0,0,1,6.9,9.986a3.95,3.95,0,0,1,2.515.907,3.35,3.35,0,0,0-.06.588,3.476,3.476,0,0,0,1.555,2.894,4.787,4.787,0,0,0-2.862,4.373v3.211Zm5.545-3.211a3.792,3.792,0,0,1,7.584,0v3.176h-.193l-.014,0-7.377.031Zm11.935,2.679a.5.5,0,0,1-.5.5H17.636V18.747a4.784,4.784,0,0,0-2.861-4.372,3.458,3.458,0,0,0-.211-5.9,4.227,4.227,0,0,1,1.988-.5,4.552,4.552,0,0,1,4.435,4.652Z"
                                                    transform="translate(0 0.016)" fill="#000" />
                                            </svg>
                                        </i>
                                    </div>
                                    <div class="searched-item width_20 float-left">
                                        <button type="submit"
                                            class="font_13 cursor-pointer color_white background-color_1 width_100">Search</button>
                                    </div>
                                    <div class="clr"></div>
                                </form>
                                <div class="clr"></div>
                            </div>
                            <div class="warning unvisible font_11">The number of babies is more than the number
                                of adults or
                                the number of passengers is too much.</div>
                        </div>
                    </div>
                    <div class="clr"></div>

                </section>
                <section class="result-search-container">
                    <div class="bc-main">
                        <div class="waiting-search">
                            <div class="loading-container">
                                <div class="loading"></div>
                                <div class="loading-img"><img src="[##cms.cms.cdn##]/images/logo.png" width="" height=""
                                        alt="logo" /></div>
                            </div>
                            <p class="loading-text">Looking for the best flights ...</p>
                            <div class="waiting-content width_30 float-left">
                                <div class="stract-filters float-left width_95 ">
                                    <div class="stract-filter stract-effect">
                                        <div class="stract-filter-head"></div>
                                        <div class="stract-filter-row">
                                            <div class="stract-filter-item"></div>
                                            <div class="stract-filter-item"></div>
                                        </div>
                                    </div>
                                    <div class="stract-filter stract-effect">
                                        <div class="stract-filter-head"></div>
                                        <div class="stract-filter-row">
                                            <div class="stract-filter-item"></div>
                                            <div class="stract-filter-item"></div>
                                        </div>
                                    </div>
                                    <div class="stract-filter stract-effect">
                                        <div class="stract-filter-head"></div>
                                        <div class="stract-filter-row">
                                            <div class="stract-filter-item"></div>
                                            <div class="stract-filter-item"></div>
                                        </div>
                                    </div>
                                    <div class="stract-filter stract-effect">
                                        <div class="stract-filter-head"></div>
                                        <div class="stract-filter-row">
                                            <div class="stract-filter-item"></div>
                                            <div class="stract-filter-item"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="waiting-content width_70 float-right ">
                                <div class="stract-sort-box">
                                    <div class="stract-sort-title float-left stract-effect"></div>
                                    <ul class="stract-sort-items d-flex border-radius float-right stract-effect">
                                        <li class="p-relative width_20"></li>
                                        <li class="p-relative width_20"></li>
                                        <li class="p-relative width_20"></li>
                                        <li class="p-relative width_20"></li>
                                        <li class="p-relative width_20"></li>
                                    </ul>
                                </div>
                                <div class="stract-result-item stract-effect">
                                    <div class="stract-provider-item p-absolute"></div>
                                    <div class="stract-first-col width_70 float-left p-relative">
                                        <div class="d-flex p-relative">
                                            <div class="stract-img-item float-right"></div>
                                            <div class="stract-infoes-item width_100">
                                                <div class="stract-info-item float-right"></div>
                                                <div class="stract-duration-item width_70 p-relative float-right">
                                                    <div class="stract-duration-line p-relative no-stop"></div>
                                                </div>
                                                <div class="stract-info-item float-left"></div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="width_30 float-right p-relative">
                                        <div class="stract-seat-item p-absolute"></div>
                                        <div class="stract-cost-item">
                                            <div class="stract-cost"></div>
                                            <div class="stract-btn-item"></div>
                                        </div>
                                    </div>
                                    <div class="clr"></div>
                                </div>
                                <div class="stract-result-item stract-effect">
                                    <div class="stract-provider-item p-absolute"></div>
                                    <div class="stract-first-col width_70 float-left p-relative">
                                        <div class="d-flex p-relative">
                                            <div class="stract-img-item float-right"></div>
                                            <div class="stract-infoes-item width_100">
                                                <div class="stract-info-item float-right"></div>
                                                <div class="stract-duration-item width_70 p-relative float-right">
                                                    <div class="stract-duration-line p-relative no-stop"></div>
                                                </div>
                                                <div class="stract-info-item float-left"></div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="width_30 float-right p-relative">
                                        <div class="stract-seat-item p-absolute"></div>
                                        <div class="stract-cost-item">
                                            <div class="stract-cost"></div>
                                            <div class="stract-btn-item"></div>
                                        </div>
                                    </div>
                                    <div class="clr"></div>
                                </div>
                                <div class="stract-result-item stract-effect">
                                    <div class="stract-provider-item p-absolute"></div>
                                    <div class="stract-first-col width_70 float-left p-relative">
                                        <div class="d-flex p-relative">
                                            <div class="stract-img-item float-right"></div>
                                            <div class="stract-infoes-item width_100">
                                                <div class="stract-info-item float-right"></div>
                                                <div class="stract-duration-item width_70 p-relative float-right">
                                                    <div class="stract-duration-line p-relative no-stop"></div>
                                                </div>
                                                <div class="stract-info-item float-left"></div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="width_30 float-right p-relative">
                                        <div class="stract-seat-item p-absolute"></div>
                                        <div class="stract-cost-item">
                                            <div class="stract-cost"></div>
                                            <div class="stract-btn-item"></div>
                                        </div>
                                    </div>
                                    <div class="clr"></div>
                                </div>
                            </div>
                            <div class="clr"></div>
                        </div>
                        <div id="app" class="unvisible"></div>
                        <div class="clr"></div>
                    </div>
                </section>
            </section>
            <!----------------JS FILE---------------->
            <script src="[##cms.cms.cdn##]/_js/jquery/jquery-3.7.1.min.js" type="text/javascript"></script>
            <!----------------CSS FILE---------------->
            <link href="https://cdn.basiscore.net/basisfly.com/css/reservation_tem_calendar_en.css" defer
                type="text/css" rel="stylesheet" />
            <basis core="call" lid="2" file="footer.inc" />
            <basis core="call" lid="2" file="Client_Basis_Calendar.inc" />
        </main>
        <script type="text/javascript">
            $(document).ready(function () {
                fetch('/Client_Roundtrip_Json.bc?lid=2&from=[##cms.query.from##]&to=[##cms.query.to##]&fdate=[##cms.query.fdate##]&tdate=[##cms.query.tdate##]&adult=[##cms.query.adult##]&child=[##cms.query.child##]&select-age=[##cms.query.select-age##]&share=[##cms.query.share|(0)##]&Flightclass=[##cms.query.FlightClass##]&clid=2', {
                    method: 'get',
                }).then(response => response.text()).then(text => {
                    let data = JSON.parse(text.replace(/\'/g, '"'));
                    try {
                        const Maindata = data.filter(a => Math.min(a.info.departureinformation.ticketinfooo.classes.seatcount, a.info.returninformation.ticketinfooo.classes.seatcount) != 0).map((item, i) => ({
                            ...item,
                            isSelected: false,
                            isScrolled: false,
                            index: i
                        }));
                        $('.waiting-search').hide();
                        $('#app').show();
                        load_data(Maindata);
                    } catch (e) {
                        $('.waiting-search').hide();
                        $('#app').show();
                        load_data(data);
                    };

                }).catch(error => console.error(error))
            })                
        </script>
        <script defer src="https://cdn.basiscore.net/basisfly.com/js/reservation_react.production.min.js"></script>
        <script defer src="https://cdn.basiscore.net/basisfly.com/js/reservation_react_dom.production.min.js"></script>
        <script defer src="https://cdn.basiscore.net/basisfly.com/js/reservation_babel.min.js"></script>
        <script defer src="https://cdn.basiscore.net/basisfly.com/js/reservation_react_paging.js"></script>
        <script defer src="https://cdn.basiscore.net/basisfly.com/js/reservation_tem3_reSearch_en.js"
            type="text/javascript"></script>
        <script defer src="https://cdn.basiscore.net/basisfly.com/js/reservation_Basis_Calendar_en_js.js"
            type="text/javascript"></script>
        <script defer src="https://cdn.basiscore.net/basisfly.com/js/reservation_owl_carousel_v2.js"
            type="text/javascript"></script>
        <script type="text/babel">
            function load_data(load_data) {
                class App extends React.Component {
                    constructor(props) {
                        super(props);
                        this.state = {
                            data: [],
                            data_provider: [],
                            data_currency: [],
                            library: null,
                            librarySecond: null,
                            perPage: 20,
                            currentPage: 1,
                            maxPage: null,
                            filterFlightNumberDep: "",
                            filterFlightNumberDes: "",
                            filterTotalF: "",
                            filterTotalS: "",
                            rangevalTotalF: "",
                            rangevalTotalS: "",
                            filterTimeDepF: "",
                            filterTimeDepS: "",
                            rangevalTimeDepF: "",
                            rangevalTimeDepS: "",
                            filterTimeDesF: "",
                            filterTimeDesS: "",
                            rangevalTimeDesF: "",
                            rangevalTimeDesS: "",
                            visibleDetails: {},
                            visibleAll: {},
                            visiblePrice: {},
                            visibleBar: {},
                            visibleRule: {},
                            loadingBarDep: {},
                            loadingRuleDep: {},
                            loadingBarDes: {},
                            loadingRuleDes: {},
                            barDepTxt: {},
                            barDesTxt: {},
                            ruleDepTxt: {},
                            ruleDesTxt: {},
                            priceS: {},
                            defaultactive: {},
                            priceactive: {},
                            stopS: {},
                            stopactive: {},
                            timeS: {},
                            takeoffS: {},
                            timeactive: {},
                            checkkeyprice: 0,
                            checkkeystop: 0,
                            checkkeytime: 0,
                            checkkeytakeoff: 0,
                            activedefault: "active",
                            activeprice: "",
                            activestop: "",
                            activetime: "",
                            activetakeoff: "",
                            activeTab_details: {},
                            activeTab_bar: {},
                            activeTab_rule: {},
                            activeTab_price: {},
                            state_airlines_dep: "",
                            state_airlines_des: "",
                            state_airports_dep: "",
                            state_airports_des: "",
                            state_stops_dep: "",
                            state_stops_des: "",
                            state_isSystemFlight: "",
                            state_airbaggageDep: "",
                            state_airbaggageDes: "",
                            state_depTime: "",
                            state_desTime: "",
                            state_checktype: "",
                            state_checkkey: "",
                            state_fare_family: "",
                            fare_family_content: {},
                            fare_family_loading: {},
                            fare_family_result: {},
                            state_currency_unit: "",
                            state_currency_cost: 1,
                            state_floatdigit: ""
                        };
                        this.airlines_dep = [];
                        this.airlines_des = [];
                        this.airports_dep = [];
                        this.airports_des = [];
                        this.stops_dep = [];
                        this.stops_des = [];
                        this.isSystemFlight = [];
                        this.airbaggageDep = [];
                        this.airbaggageDes = [];
                        this.depTime = [];
                        this.desTime = [];
                        this.fare_family = [];
                        this.itemSelected = [];
                        this.handleClick = this.handleClick.bind(this);
                        this.handleReset = this.handleReset.bind(this);
                    }
                    componentDidMount() {
                        this.setState(state => ({
                            ...state,
                            data: load_data
                        }), () => {
                            this.reorganiseLibrary()
                        })

                        $(document).on('update_result', (event, airlines_dep, airlines_des, airports_dep, airports_des, stops_dep, stops_des, isSystemFlight, airbaggageDep, airbaggageDes, fare_family, depTime, desTime, checktype, checkkey, itemSelected) => {
                            this.reorganiseLibrary(airlines_dep, airlines_des, airports_dep, airports_des, stops_dep, stops_des, isSystemFlight, airbaggageDep, airbaggageDes, fare_family, depTime, desTime, checktype, checkkey, itemSelected)
                        })

                        const value = `; ${document.cookie}`;
                        const parts = value.split(`; ${'rkey'}=`);
                        if (parts.length === 2) {
                            fetch('/Client_User_Type.inc?lid=2')
                                .then(response => response.text())
                                .then(user => {
                                    if (user == 1) {
                                        fetch('/Client_Provider_Library.bc?lid=2')
                                            .then(response => response.json())
                                            .then(provider => {
                                                this.setState({ data_provider: provider })
                                            }).catch(error => console.error(error))
                                    }
                                }).catch(error => console.error(error))
                        }

                        let getCurrencyObject = localStorage.getItem('currencyObject');
                        let jsonCurrency = JSON.parse(getCurrencyObject);
                        //bitaa
                        if (jsonCurrency) {
                            if (jsonCurrency.currency_unit !== "IRR") {
                                if (jsonCurrency.floatdigit < 0) {
                                    this.setState({
                                        state_floatdigit: 2,
                                    })
                                } else {
                                    this.setState({
                                        state_floatdigit: jsonCurrency.floatdigit,
                                    })
                                }
                            } else {
                                this.setState({
                                    state_floatdigit: jsonCurrency.floatdigit,

                                })
                            }
                            this.setState({
                                state_currency_unit: jsonCurrency.currency_unit,
                                state_currency_cost: jsonCurrency.currency_cost,
                            })
                        }

                    }
                    componentDidUpdate() {
                        $(".airline_filter_dep").sort(function (a, b) {
                            a = $(".min_total", a).text().replace(/,/g, '');
                            b = $(".min_total", b).text().replace(/,/g, '');
                            return a - b;
                        }).appendTo(".airline_results_dep");
                        $(".airline_filter_des").sort(function (a, b) {
                            a = $(".min_total", a).text().replace(/,/g, '');
                            b = $(".min_total", b).text().replace(/,/g, '');
                            return a - b;
                        }).appendTo(".airline_results_des");
                        //<!----START JS FARE FAMILY---->
                        price_fare_family();
                        //<!----END JS FARE FAMILY---->
                        if (document.querySelector(".currency-content")) {
                            const fieldTemp = document.querySelector(".currency-content-list");
                            document.querySelector(".currency-content").innerHTML = '';
                            document.querySelector(".currency-content").appendChild(fieldTemp);
                            document.querySelector(".currency-content-list").classList.add('currency-appended');
                            document.querySelector(".currency-appended").classList.remove('unvisible');
                        }
                        $(".owl-filter-container").owlCarousel({ ltr: true, loop: false, responsive: { 0: { items: 1 }, 600: { items: 2 }, 1000: { items: 6 } } })
                    }
                    reorganiseLibrary = (airlines_dep, airlines_des, airports_dep, airports_des, stops_dep, stops_des, isSystemFlight, airbaggageDep, airbaggageDes, fare_family, depTime, desTime, checktype, checkkey, itemSelected) => {
                        const { filterFlightNumberDep, filterFlightNumberDes, filterTotalF, filterTotalS, filterTimeDepF, filterTimeDepS, filterTimeDesF, filterTimeDesS, perPage, data } = this.state;
                        let library = data;
                        let librarySecond = data;
                        let isSelectedPage = 1;
                        librarySecond = _.chunk(librarySecond, perPage);
                        this.setState({
                            librarySecond,
                            currentPage: isSelectedPage,
                            maxPage: librarySecond.length === 0 ? isSelectedPage : librarySecond.length
                        })
                        let lenLibraryDef = library.length
                        if (lenLibraryDef !== undefined) {
                            library = library.filter(item => { item.isSelected = false; item.isScrolled = false; return item; });
                            librarySecond = librarySecond.filter(item => { item.isSelected = false; item.isScrolled = false; return item; });
                        }
                        let defaultFilterTimeDepF = null;
                        defaultFilterTimeDepF = filterTimeDepF
                            ? (filterTimeDepF)
                            : (this.renderMinFilterTimeDep(librarySecond));
                        let defaultFilterTimeDepS = null;
                        defaultFilterTimeDepS = filterTimeDepS
                            ? (filterTimeDepS)
                            : (this.renderMaxFilterTimeDep(librarySecond));
                        if (filterTimeDepS !== "" || filterTimeDepF !== "") {
                            let lenLibraryDef = library.length
                            if (lenLibraryDef !== undefined) {
                                library = library.filter(item =>
                                    parseInt(this.renderStoppinfoF(item.info.departureinformation.ticketinfooo.stoppinfoo.showtiming)) >= parseInt(defaultFilterTimeDepF) && parseInt(this.renderStoppinfoS(item.info.departureinformation.ticketinfooo.stoppinfoo.showtiming)) <= parseInt(defaultFilterTimeDepS)
                                )
                                let lenLibrary = library.length
                                $('.result-count').text(lenLibrary)
                            }
                        }
                        let defaultFilterTimeDesF = null;
                        defaultFilterTimeDesF = filterTimeDesF
                            ? (filterTimeDesF)
                            : (this.renderMinFilterTimeDes(librarySecond));
                        let defaultFilterTimeDesS = null;
                        defaultFilterTimeDesS = filterTimeDesS
                            ? (filterTimeDesS)
                            : (this.renderMaxFilterTimeDes(librarySecond));
                        if (filterTimeDesF !== "" || filterTimeDesS !== "") {
                            let lenLibraryDef = library.length
                            if (lenLibraryDef !== undefined) {
                                library = library.filter(item =>
                                    parseInt(this.renderStoppinfoF(item.info.returninformation.ticketinfooo.stoppinfoo.showtiming)) >= parseInt(defaultFilterTimeDesF) && parseInt(this.renderStoppinfoS(item.info.returninformation.ticketinfooo.stoppinfoo.showtiming)) <= parseInt(defaultFilterTimeDesS)
                                )
                                let lenLibrary = library.length
                                $('.result-count').text(lenLibrary)
                            }
                        }

                        let defaultFilterTotalF = null;
                        defaultFilterTotalF = filterTotalF
                            ? (filterTotalF)
                            : (this.renderMinFilterTotal(librarySecond));
                        let defaultFilterTotalS = null;
                        defaultFilterTotalS = filterTotalS
                            ? (filterTotalS)
                            : (this.renderMaxFilterTotal(librarySecond));
                        if (filterTotalF !== "" || filterTotalS !== "") {
                            let lenLibraryDef = library.length
                            if (lenLibraryDef !== undefined) {
                                library = library.filter(item =>
                                    this.rendersinglecostFilter(item) >= defaultFilterTotalF && this.rendersinglecostFilter(item) <= defaultFilterTotalS
                                )
                                let lenLibrary = library.length
                                $('.result-count').text(lenLibrary)
                            }
                        }

                        if (checktype == 'default') {
                            library.sort((a, b) => a.total - b.total);
                            this.setState({ activedefault: "active" })
                            this.setState({ activeprice: "" })
                            this.setState({ activestop: "" })
                            this.setState({ activetime: "" })
                            this.setState({ activetakeoff: "" })
                            if (this.state.priceS[0] == true) {
                                this.setState(prevState => ({
                                    priceS: { ...prevState.priceS, [0]: !prevState.priceS[0] }
                                }))
                            }
                            if (this.state.stopS[0] == true) {
                                this.setState(prevState => ({
                                    stopS: { ...prevState.stopS, [0]: !prevState.stopS[0] }
                                }))
                            }
                            if (this.state.timeS[0] == true) {
                                this.setState(prevState => ({
                                    timeS: { ...prevState.timeS, [0]: !prevState.timeS[0] }
                                }))
                            }
                            if (this.state.takeoffS[0] == true) {
                                this.setState(prevState => ({
                                    takeoffS: { ...prevState.takeoffS, [0]: !prevState.takeoffS[0] }
                                }))
                            }

                        }

                        if (checktype == 'price') {
                            if (checkkey == 0) {

                                library.sort((a, b) => b.total - a.total);
                                this.setState({ checkkeyprice: 1 });
                            } else {
                                library.sort((a, b) => a.total - b.total);
                                this.setState({ checkkeyprice: 0 });
                            }
                            this.setState(prevState => ({
                                priceS: { ...prevState.priceS, [0]: !prevState.priceS[0] }
                            }))
                            this.setState({ activeprice: "active" })
                            this.setState({ activedefault: "" })
                            this.setState({ activestop: "" })
                            this.setState({ activetime: "" })
                            this.setState({ activetakeoff: "" })
                            if (this.state.stopS[0] == true) {
                                this.setState(prevState => ({
                                    stopS: { ...prevState.stopS, [0]: !prevState.stopS[0] }
                                }))
                            }
                            if (this.state.timeS[0] == true) {
                                this.setState(prevState => ({
                                    timeS: { ...prevState.timeS, [0]: !prevState.timeS[0] }
                                }))
                            }
                            if (this.state.takeoffS[0] == true) {
                                this.setState(prevState => ({
                                    takeoffS: { ...prevState.takeoffS, [0]: !prevState.takeoffS[0] }
                                }))
                            }
                        }

                        if (checktype == 'stop') {
                            if (checkkey == 0) {
                                library.sort((a, b) => b.info.departureinformation.ticketinfooo.stoppinfoo.showstopinfo - a.info.departureinformation.ticketinfooo.stoppinfoo.showstopinfo);
                                this.setState({ checkkeystop: 1 });
                            } else {
                                library.sort((a, b) => a.info.departureinformation.ticketinfooo.stoppinfoo.showstopinfo - b.info.departureinformation.ticketinfooo.stoppinfoo.showstopinfo);
                                this.setState({ checkkeystop: 0 });
                            }
                            this.setState(prevState => ({
                                stopS: { ...prevState.stopS, [0]: !prevState.stopS[0] }
                            }))
                            this.setState({ activeprice: "" })
                            this.setState({ activedefault: "" })
                            this.setState({ activestop: "active" })
                            this.setState({ activetime: "" })
                            this.setState({ activetakeoff: "" })
                            if (this.state.priceS[0] == true) {
                                this.setState(prevState => ({
                                    priceS: { ...prevState.priceS, [0]: !prevState.priceS[0] }
                                }))
                            }
                            if (this.state.timeS[0] == true) {
                                this.setState(prevState => ({
                                    timeS: { ...prevState.timeS, [0]: !prevState.timeS[0] }
                                }))
                            }
                            if (this.state.takeoffS[0] == true) {
                                this.setState(prevState => ({
                                    takeoffS: { ...prevState.takeoffS, [0]: !prevState.takeoffS[0] }
                                }))
                            }
                        }

                        if (checktype == 'Time') {
                            if (checkkey == 0) {
                                library.sort((a, b) => this.rendertimesorting(b.info.departureinformation.ticketinfooo.stoppinfoo.showtiming) - this.rendertimesorting(a.info.departureinformation.ticketinfooo.stoppinfoo.showtiming));
                                this.setState({ checkkeytime: 1 });
                            } else {
                                library.sort((a, b) => this.rendertimesorting(a.info.departureinformation.ticketinfooo.stoppinfoo.showtiming) - this.rendertimesorting(b.info.departureinformation.ticketinfooo.stoppinfoo.showtiming));
                                this.setState({ checkkeytime: 0 });
                            }
                            this.setState(prevState => ({
                                timeS: { ...prevState.timeS, [0]: !prevState.timeS[0] }
                            }))
                            this.setState({ activeprice: "" })
                            this.setState({ activedefault: "" })
                            this.setState({ activestop: "" })
                            this.setState({ activetime: "active" })
                            this.setState({ activetakeoff: "" })
                            if (this.state.priceS[0] == true) {
                                this.setState(prevState => ({
                                    priceS: { ...prevState.priceS, [0]: !prevState.priceS[0] }
                                }))
                            }
                            if (this.state.stopS[0] == true) {
                                this.setState(prevState => ({
                                    stopS: { ...prevState.stopS, [0]: !prevState.stopS[0] }
                                }))
                            }
                            if (this.state.takeoffS[0] == true) {
                                this.setState(prevState => ({
                                    takeoffS: { ...prevState.takeoffS, [0]: !prevState.takeoffS[0] }
                                }))
                            }
                        }
                        if (checktype == 'takeoff') {
                            if (checkkey == 0) {
                                library.sort((a, b) => this.rendertakeoffsorting(b.info.departureinformation.ticketinfooo.exitinfo.showexittime) - this.rendertakeoffsorting(a.info.departureinformation.ticketinfooo.exitinfo.showexittime));
                                this.setState({ checkkeytakeoff: 1 });
                            } else {
                                library.sort((a, b) => this.rendertakeoffsorting(a.info.departureinformation.ticketinfooo.exitinfo.showexittime) - this.rendertakeoffsorting(b.info.departureinformation.ticketinfooo.exitinfo.showexittime));
                                this.setState({ checkkeytakeoff: 0 });
                            }
                            this.setState(prevState => ({
                                takeoffS: { ...prevState.takeoffS, [0]: !prevState.takeoffS[0] }
                            }))
                            this.setState({ activeprice: "" })
                            this.setState({ activedefault: "" })
                            this.setState({ activestop: "" })
                            this.setState({ activetime: "" })
                            this.setState({ activetakeoff: "active" })
                            if (this.state.priceS[0] == true) {
                                this.setState(prevState => ({
                                    priceS: { ...prevState.priceS, [0]: !prevState.priceS[0] }
                                }))
                            }
                            if (this.state.stopS[0] == true) {
                                this.setState(prevState => ({
                                    stopS: { ...prevState.stopS, [0]: !prevState.stopS[0] }
                                }))
                            }
                            if (this.state.timeS[0] == true) {
                                this.setState(prevState => ({
                                    timeS: { ...prevState.timeS, [0]: !prevState.timeS[0] }
                                }))
                            }
                        }


                        if (airlines_dep !== undefined) {
                            if (airlines_dep !== "") {
                                airlines_dep = airlines_dep.split(",");
                                library = library.filter(item => {
                                    if (
                                        this.renderAirlineFilter_dep(item.info).some(r => airlines_dep.includes(r))
                                    ) return item;
                                })
                            }
                            let lenLibrary = library.length
                            $('.result-count').text(lenLibrary)
                        }

                        if (airlines_des !== undefined) {
                            if (airlines_des !== "") {
                                airlines_des = airlines_des.split(",");
                                library = library.filter(item => {
                                    if (
                                        this.renderAirlineFilter_des(item.info).some(r => airlines_des.includes(r))
                                    ) return item;
                                })
                            }
                            let lenLibrary = library.length
                            $('.result-count').text(lenLibrary)
                        }
                        if (airports_dep !== undefined) {
                            if (airports_dep !== "") {
                                airports_dep = airports_dep.split(",");
                                library = library.filter(item => {
                                    if (
                                        this.renderAirportFilter_dep(item.info).some(r => airports_dep.includes(r))
                                    ) return item;
                                })
                            }
                            let lenLibrary = library.length
                            $('.result-count').text(lenLibrary)
                        }

                        if (airports_des !== undefined) {
                            if (airports_des !== "") {
                                airports_des = airports_des.split(",");
                                library = library.filter(item => {
                                    if (
                                        this.renderAirportFilter_des(item.info).some(r => airports_des.includes(r))
                                    ) return item;
                                })
                            }
                            let lenLibrary = library.length
                            $('.result-count').text(lenLibrary)
                        }

                        if (stops_dep !== undefined) {
                            if (stops_dep !== "") {
                                stops_dep = stops_dep.split(",");
                                library = library.filter(item => {
                                    if (stops_dep.includes(this.renderStopsFilter(item.info.departureinformation.ticketinfooo.stoppinfoo.showstopinfo))) return item;
                                })
                            }
                            let lenLibrary = library.length
                            $('.result-count').text(lenLibrary)
                        }
                        if (stops_des !== undefined) {
                            if (stops_des !== "") {
                                stops_des = stops_des.split(",");
                                library = library.filter(item => {
                                    if (stops_des.includes(this.renderStopsFilter(item.info.returninformation.ticketinfooo.stoppinfoo.showstopinfo))) return item;
                                })
                            }
                            let lenLibrary = library.length
                            $('.result-count').text(lenLibrary)
                        }

                        if (isSystemFlight !== undefined) {
                            if (isSystemFlight !== "") {
                                isSystemFlight = isSystemFlight.split(",");
                                library = library.filter(item => {
                                    let keyToLowerCase = {};
                                    for (var key in item) {
                                        keyToLowerCase[key.toLowerCase()] = item[key];
                                    }
                                    if (isSystemFlight.includes(keyToLowerCase.issystemflight)) return item;
                                })
                            }
                            let lenLibrary = library.length
                            $('.result-count').text(lenLibrary)
                        }
                        if (airbaggageDep !== undefined) {
                            if (airbaggageDep !== "") {
                                airbaggageDep = airbaggageDep.split(",");
                                library = library.filter(item => {
                                    if (
                                        this.renderAirbaggageFilter(item.info.departureinformation.routeshow).some(r => airbaggageDep.includes(r))
                                    ) return item;
                                })
                            }
                            let lenLibrary = library.length
                            $('.result-count').text(lenLibrary)
                        }
                        if (airbaggageDes !== undefined) {
                            if (airbaggageDes !== "") {
                                airbaggageDes = airbaggageDes.split(",");
                                library = library.filter(item => {
                                    if (
                                        this.renderAirbaggageFilter(item.info.returninformation.routeshow).some(r => airbaggageDes.includes(r))
                                    ) return item;
                                })
                            }
                            let lenLibrary = library.length
                            $('.result-count').text(lenLibrary)
                        }
                        if (fare_family !== undefined) {
                            if (fare_family !== "") {
                                fare_family = fare_family.split(",");
                                library = library.filter(item => {
                                    if (fare_family.includes(item.fare_family)) return item;
                                })
                            }
                            let lenLibrary = library.length
                            $('.result-count').text(lenLibrary)
                        }
                        if (itemSelected !== undefined) {
                            if (itemSelected !== "") {
                                itemSelected = itemSelected.split(",");
                                const stop = itemSelected[0].split("-");
                                let indexArray = new Array();
                                let counter = 0;
                                library = library.filter(item => {
                                    item.isSelected = false;
                                    item.isScrolled = false;
                                    if (parseInt(this.renderTotal(this.rendersinglecostFilter(item), this.state.state_currency_cost, this.state.state_floatdigit)) == parseInt(itemSelected[2])) {
                                        if (stop.includes(this.renderStopsFilter(item.info.departureinformation.ticketinfooo.stoppinfoo.showstopinfo))) {
                                            item.info.departureinformation.routeshow.routesinfoo.find(x => {
                                                if (x.routesinfoodetails.otherdetails.detailsairline === itemSelected[1]) {
                                                    counter++;
                                                    item.isSelected = true;
                                                    indexArray.push(item.index);
                                                    if (counter == 1) {
                                                        item.isScrolled = true;
                                                    }
                                                }
                                            })
                                        }
                                    };
                                    return item;
                                });
                                if (indexArray.length > 0) {
                                    if (indexArray[0] == 0) {
                                        isSelectedPage = 1;
                                    } else {
                                        if (indexArray[0] / 20 % 1 === 0) {
                                            isSelectedPage = indexArray[0] / 20;
                                        } else {
                                            isSelectedPage = Math.ceil((indexArray[0] / 20))
                                        }
                                    }
                                } else {
                                    isSelectedPage = 1;
                                }
                            }
                        }
                        if (depTime !== undefined) {
                            if (depTime !== "") {
                                depTime = depTime.split(",");
                                library = library.filter(item => {
                                    if (depTime.includes(this.rendershowexittime(item.info.departureinformation.ticketinfooo.exitinfo.showexittime))) return item;
                                })
                            }
                            let lenLibrary = library.length
                            $('.result-count').text(lenLibrary)
                        }

                        if (desTime !== undefined) {
                            if (desTime !== "") {
                                desTime = desTime.split(",");
                                library = library.filter(item => {
                                    if (desTime.includes(this.rendershowexittime(item.info.returninformation.ticketinfooo.exitinfo.showexittime))) return item;
                                })
                            }
                            let lenLibrary = library.length
                            $('.result-count').text(lenLibrary)
                        }
                        if (filterFlightNumberDep !== "") {
                            library = library.filter(item => {
                                if (this.renderFlightNumber(item.info.departureinformation.routeshow).toLowerCase().includes(filterFlightNumberDep))
                                    return item

                            }
                            )
                            let lenLibrary = library.length
                            $('.result-count').text(lenLibrary)
                        }
                        if (filterFlightNumberDes !== "") {
                            library = library.filter(item => {
                                if (this.renderFlightNumber(item.info.returninformation.routeshow).toLowerCase().includes(filterFlightNumberDes))
                                    return item

                            }
                            )
                            let lenLibrary = library.length
                            $('.result-count').text(lenLibrary)
                        }

                        let lenLibrary = library.length
                        if (lenLibrary == undefined) {
                            $('.result-count').text(0)
                        } else {
                            $('.result-count').text(lenLibrary)
                        }

                        library = _.chunk(library, perPage);
                        this.setState({
                            library,
                            currentPage: isSelectedPage,
                            maxPage: library.length === 0 ? isSelectedPage : library.length
                        })
                    }
                    renderAirbaggageFilter(element) {
                        let elementAdd = []
                        for (let i = 0; i < element.routesinfoo.length; i++) {
                            elementAdd.push(element.routesinfoo[i].airbaggage)
                        }
                        return elementAdd
                    }
                    renderFlightNumber(element) {
                        let elementAdd = ""
                        for (let i = 0; i < element.routesinfoo.length; i++) {
                            elementAdd += element.routesinfoo[i].routesinfoodetails.otherdetails.detailsroutecode.toLowerCase() + ','
                        }
                        return elementAdd
                    }
                    rendershowexittime(element) {
                        let SplitElement = element.split(':')
                        let SplitElementFirst = SplitElement[0]
                        return SplitElementFirst

                    }

                    renderMinFilterTotal = (librarySecond) => {
                        return librarySecond.reduce((acc, lib) => {
                            const libMin = Math.min(...lib.map(item => this.rendersinglecostFilter(item)))
                            return acc === undefined ? libMin : libMin < acc ? libMin : acc
                        }, undefined)
                    }
                    renderMaxFilterTotal = (librarySecond) => {
                        return librarySecond.reduce((acc, lib) => {
                            const libMax = Math.max(...lib.map(item => this.rendersinglecostFilter(item)))
                            return libMax > acc ? libMax : acc
                        }, 0)
                    }
                    renderMinFilterTimeDep = (librarySecond) => {
                        return librarySecond.reduce((acc, lib) => {
                            const libMin = Math.min(...lib.map(item => this.renderStoppinfo(item.info.departureinformation.ticketinfooo.stoppinfoo.showtiming)))
                            return acc === undefined ? libMin : libMin < acc ? libMin : acc
                        }, undefined)
                    }
                    renderMaxFilterTimeDep = (librarySecond) => {
                        return librarySecond.reduce((acc, lib) => {
                            const libMax = Math.max(...lib.map(item => this.renderStoppinfoS(item.info.departureinformation.ticketinfooo.stoppinfoo.showtiming)))
                            return libMax > acc ? libMax : acc
                        }, 0)
                    }
                    renderMinFilterTimeDes = (librarySecond) => {
                        return librarySecond.reduce((acc, lib) => {
                            const libMin = Math.min(...lib.map(item => this.renderStoppinfo(item.info.returninformation.ticketinfooo.stoppinfoo.showtiming)))
                            return acc === undefined ? libMin : libMin < acc ? libMin : acc
                        }, undefined)
                    }
                    renderMaxFilterTimeDes = (librarySecond) => {
                        return librarySecond.reduce((acc, lib) => {
                            const libMax = Math.max(...lib.map(item => this.renderStoppinfoS(item.info.returninformation.ticketinfooo.stoppinfoo.showtiming)))
                            return libMax > acc ? libMax : acc
                        }, 0)
                    }

                    renderStopsFilter(element) {
                        let elementToSting = element.toString()
                        return elementToSting

                    }

                    renderAirlineFilter_dep(element) {
                        let elementAdd = []
                        for (let i = 0; i < element.departureinformation.routeshow.routesinfoo.length; i++) {
                            elementAdd.push(element.departureinformation.routeshow.routesinfoo[i].routesinfoodetails.otherdetails.detailsairline)

                        }
                        return elementAdd
                    }
                    renderAirlineFilter_des(element) {
                        let elementAdd = []
                        for (let i = 0; i < element.returninformation.routeshow.routesinfoo.length; i++) {
                            elementAdd.push(element.returninformation.routeshow.routesinfoo[i].routesinfoodetails.otherdetails.detailsairline)

                        }
                        return elementAdd
                    }
                    renderAirportFilter_dep(element) {
                        let elementAdd = []
                        for (let i = 0; i < element.departureinformation.routeshow.routesinfoo.length; i++) {
                            elementAdd.push(element.departureinformation.routeshow.routesinfoo[i].routesinfoodetails.otherdetails.detailsarrivaltimeinfo.detailsarrivalairport)

                        }
                        return elementAdd
                    }
                    renderAirportFilter_des(element) {
                        let elementAdd = []
                        for (let i = 0; i < element.returninformation.routeshow.routesinfoo.length; i++) {
                            elementAdd.push(element.returninformation.routeshow.routesinfoo[i].routesinfoodetails.otherdetails.detailsarrivaltimeinfo.detailsarrivalairport)

                        }
                        return elementAdd
                    }

                    // Previous Page
                    previousPage = event => {
                        this.handleReset();
                        this.setState({
                            currentPage: this.state.currentPage - 1,
                        })
                    }
                    // Next Page 
                    nextPage = event => {
                        this.handleReset();
                        this.setState({
                            currentPage: this.state.currentPage + 1,
                        })
                    }
                    // handle filter flight number
                    handleFilterFlightNumberDep = (event) => {
                        this.handleReset(event);
                        const { state_airlines_dep, state_airlines_des, state_airports_dep, state_airports_des, state_stops_dep, state_stops_des, state_isSystemFlight, state_airbaggageDep, state_airbaggageDes, state_fare_family, state_depTime, state_desTime, state_checktype, state_checkkey } = this.state;
                        this.setState(
                            {
                                filterFlightNumberDep: event.target.value.toLowerCase()
                            },
                            () => {
                                this.reorganiseLibrary(state_airlines_dep, state_airlines_des, state_airports_dep, state_airports_des, state_stops_dep, state_stops_des, state_isSystemFlight, state_airbaggageDep, state_airbaggageDes, state_fare_family, state_depTime, state_desTime, state_checktype, state_checkkey);
                            }
                        )


                    }
                    // handle filter flight number
                    handleFilterFlightNumberDes = (event) => {
                        this.handleReset(event);
                        const { state_airlines_dep, state_airlines_des, state_airports_dep, state_airports_des, state_stops_dep, state_stops_des, state_isSystemFlight, state_airbaggageDep, state_airbaggageDes, state_fare_family, state_depTime, state_desTime, state_checktype, state_checkkey } = this.state;
                        this.setState(
                            {
                                filterFlightNumberDes: event.target.value.toLowerCase()
                            },
                            () => {
                                this.reorganiseLibrary(state_airlines_dep, state_airlines_des, state_airports_dep, state_airports_des, state_stops_dep, state_stops_des, state_isSystemFlight, state_airbaggageDep, state_airbaggageDes, state_fare_family, state_depTime, state_desTime, state_checktype, state_checkkey);
                            }
                        )


                    }


                    // start handler filter price
                    handleFilterTotal = event => {
                        this.handleReset(event);
                        const { state_airlines_dep, state_airlines_des, state_airports_dep, state_airports_des, state_stops_dep, state_stops_des, state_isSystemFlight, state_airbaggageDep, state_airbaggageDes, state_fare_family, state_depTime, state_checktype, state_checkkey } = this.state;
                        let renderMax = this.renderMaxTotal()
                        let key = event.target.getAttribute("data-key")
                        if (key == '1') {
                            this.setState(
                                {
                                    filterTotalF: event.target.value,
                                    rangevalTotalF: event.target.value,
                                },
                                () => {
                                    this.reorganiseLibrary(state_airlines_dep, state_airlines_des, state_airports_dep, state_airports_des, state_stops_dep, state_stops_des, state_isSystemFlight, state_airbaggageDep, state_airbaggageDes, state_fare_family, state_depTime, state_checktype, state_checkkey);
                                }
                            )
                        } else if (key == '2') {
                            event.target.max = renderMax
                            this.setState(
                                {
                                    filterTotalS: event.target.value,
                                    rangevalTotalS: event.target.value,
                                },
                                () => {
                                    this.reorganiseLibrary(state_airlines_dep, state_airlines_des, state_airports_dep, state_airports_des, state_stops_dep, state_stops_des, state_isSystemFlight, state_airbaggageDep, state_airbaggageDes, state_fare_family, state_depTime, state_checktype, state_checkkey);
                                }
                            )
                        }
                    } // end handler filter price
                    handleMinFilterTotal = event => {
                        event.target.value = Math.min(event.target.value, event.target.parentNode.childNodes[2].value - 1);
                        var value = (100 / (parseInt(event.target.max) - parseInt(event.target.min))) * parseInt(event.target.value) - (100 / (parseInt(event.target.max) - parseInt(event.target.min))) * parseInt(event.target.min);
                        var children = event.target.parentNode.childNodes[0].childNodes;
                        children[0].style.width = value + '%';
                        children[2].style.left = value + '%';
                        children[3].style.left = value + '%';
                        children[5].childNodes[0].innerHTML = event.target.value;
                    }
                    handleMaxFilterTotal = event => {
                        event.target.value = Math.max(event.target.value, event.target.parentNode.childNodes[1].value - (-1));
                        var value = (100 / (parseInt(event.target.max) - parseInt(event.target.min))) * parseInt(event.target.value) - (100 / (parseInt(event.target.max) - parseInt(event.target.min))) * parseInt(event.target.min);
                        var children = event.target.parentNode.childNodes[0].childNodes;
                        children[1].style.width = (100 - value) + '%';
                        children[2].style.right = (100 - value) + '%';
                        children[4].style.left = value + '%';
                        children[6].childNodes[0].innerHTML = event.target.value;
                    }
                    handleMinFilterTimeDep = event => {
                        event.target.value = Math.min(event.target.value, event.target.parentNode.childNodes[2].value - 1);
                        var value = (100 / (parseInt(event.target.max) - parseInt(event.target.min))) * parseInt(event.target.value) - (100 / (parseInt(event.target.max) - parseInt(event.target.min))) * parseInt(event.target.min);
                        var children = event.target.parentNode.childNodes[0].childNodes;
                        children[0].style.width = value + '%';
                        children[2].style.left = value + '%';
                        children[3].style.left = value + '%';
                        children[5].childNodes[0].innerHTML = event.target.value;
                    }
                    handleMaxFilterTimeDep = event => {
                        event.target.value = Math.max(event.target.value, event.target.parentNode.childNodes[1].value - (-1));
                        var value = (100 / (parseInt(event.target.max) - parseInt(event.target.min))) * parseInt(event.target.value) - (100 / (parseInt(event.target.max) - parseInt(event.target.min))) * parseInt(event.target.min);
                        var children = event.target.parentNode.childNodes[0].childNodes;
                        children[1].style.width = (100 - value) + '%';
                        children[2].style.right = (100 - value) + '%';
                        children[4].style.left = value + '%';
                        children[6].childNodes[0].innerHTML = event.target.value;
                    }
                    handleMinFilterTimeDes = event => {
                        event.target.value = Math.min(event.target.value, event.target.parentNode.childNodes[2].value - 1);
                        var value = (100 / (parseInt(event.target.max) - parseInt(event.target.min))) * parseInt(event.target.value) - (100 / (parseInt(event.target.max) - parseInt(event.target.min))) * parseInt(event.target.min);
                        var children = event.target.parentNode.childNodes[0].childNodes;
                        children[0].style.width = value + '%';
                        children[2].style.left = value + '%';
                        children[3].style.left = value + '%';
                        children[5].childNodes[0].innerHTML = event.target.value;
                    }
                    handleMaxFilterTimeDes = event => {
                        event.target.value = Math.max(event.target.value, event.target.parentNode.childNodes[1].value - (-1));
                        var value = (100 / (parseInt(event.target.max) - parseInt(event.target.min))) * parseInt(event.target.value) - (100 / (parseInt(event.target.max) - parseInt(event.target.min))) * parseInt(event.target.min);
                        var children = event.target.parentNode.childNodes[0].childNodes;
                        children[1].style.width = (100 - value) + '%';
                        children[2].style.right = (100 - value) + '%';
                        children[4].style.left = value + '%';
                        children[6].childNodes[0].innerHTML = event.target.value;
                    }

                    // start handler filter StopTime
                    handleFilterTimeDep = event => {
                        this.handleReset(event);
                        const { state_airlines_dep, state_airlines_des, state_airports_dep, state_airports_des, state_stops_dep, state_stops_des, state_isSystemFlight, state_airbaggageDep, state_airbaggageDes, state_fare_family, state_depTime, state_checktype, state_checkkey } = this.state;
                        let value = event.target.value
                        let key = event.target.getAttribute("data-key")
                        if (key == '1') {
                            if (value < 10) {
                                this.setState(
                                    {
                                        filterTimeDepF: event.target.value,
                                        rangevalTimeDepF: "0" + event.target.value,
                                    },
                                    () => {
                                        this.reorganiseLibrary(state_airlines_dep, state_airlines_des, state_airports_dep, state_airports_des, state_stops_dep, state_stops_des, state_isSystemFlight, state_airbaggageDep, state_airbaggageDes, state_fare_family, state_depTime, state_checktype, state_checkkey);
                                    }
                                )
                            } else {
                                this.setState(
                                    {
                                        filterTimeDepF: event.target.value,
                                        rangevalTimeDepF: event.target.value,
                                    },
                                    () => {
                                        this.reorganiseLibrary(state_airlines_dep, state_airlines_des, state_airports_dep, state_airports_des, state_stops_dep, state_stops_des, state_isSystemFlight, state_airbaggageDep, state_airbaggageDes, state_fare_family, state_depTime, state_checktype, state_checkkey);
                                    }
                                )
                            }

                        } else if (key == '2') {
                            if (value < 10) {
                                this.setState(
                                    {
                                        filterTimeDepS: event.target.value,
                                        rangevalTimeDepS: "0" + event.target.value,
                                    },
                                    () => {
                                        this.reorganiseLibrary(state_airlines_dep, state_airlines_des, state_airports_dep, state_airports_des, state_stops_dep, state_stops_des, state_isSystemFlight, state_airbaggageDep, state_airbaggageDes, state_fare_family, state_depTime, state_checktype, state_checkkey);
                                    }
                                )
                            } else {
                                this.setState(
                                    {
                                        filterTimeDepS: event.target.value,
                                        rangevalTimeDepS: event.target.value,
                                    },
                                    () => {
                                        this.reorganiseLibrary(state_airlines_dep, state_airlines_des, state_airports_dep, state_airports_des, state_stops_dep, state_stops_des, state_isSystemFlight, state_airbaggageDep, state_airbaggageDes, state_fare_family, state_depTime, state_checktype, state_checkkey);
                                    }
                                )
                            }

                        }

                    } // end handler filter StopTime
                    handleFilterTimeDes = event => {
                        this.handleReset(event);
                        const { state_airlines_dep, state_airlines_des, state_airports_dep, state_airports_des, state_stops_dep, state_stops_des, state_isSystemFlight, state_airbaggageDep, state_airbaggageDes, state_fare_family, state_depTime, state_checktype, state_checkkey } = this.state;
                        let value = event.target.value
                        let key = event.target.getAttribute("data-key")
                        if (key == '1') {
                            if (value < 10) {
                                this.setState(
                                    {
                                        filterTimeDesF: event.target.value,
                                        rangevalTimeDesF: "0" + event.target.value,
                                    },
                                    () => {
                                        this.reorganiseLibrary(state_airlines_dep, state_airlines_des, state_airports_dep, state_airports_des, state_stops_dep, state_stops_des, state_isSystemFlight, state_airbaggageDep, state_airbaggageDes, state_fare_family, state_depTime, state_checktype, state_checkkey);
                                    }
                                )
                            } else {
                                this.setState(
                                    {
                                        filterTimeDesF: event.target.value,
                                        rangevalTimeDesF: event.target.value,
                                    },
                                    () => {
                                        this.reorganiseLibrary(state_airlines_dep, state_airlines_des, state_airports_dep, state_airports_des, state_stops_dep, state_stops_des, state_isSystemFlight, state_airbaggageDep, state_airbaggageDes, state_fare_family, state_depTime, state_checktype, state_checkkey);
                                    }
                                )
                            }

                        } else if (key == '2') {
                            if (value < 10) {
                                this.setState(
                                    {
                                        filterTimeDesS: event.target.value,
                                        rangevalTimeDesS: "0" + event.target.value,
                                    },
                                    () => {
                                        this.reorganiseLibrary(state_airlines_dep, state_airlines_des, state_airports_dep, state_airports_des, state_stops_dep, state_stops_des, state_isSystemFlight, state_airbaggageDep, state_airbaggageDes, state_fare_family, state_depTime, state_checktype, state_checkkey);
                                    }
                                )
                            } else {
                                this.setState(
                                    {
                                        filterTimeDesS: event.target.value,
                                        rangevalTimeDesS: event.target.value,
                                    },
                                    () => {
                                        this.reorganiseLibrary(state_airlines_dep, state_airlines_des, state_airports_dep, state_airports_des, state_stops_dep, state_stops_des, state_isSystemFlight, state_airbaggageDep, state_airbaggageDes, state_fare_family, state_depTime, state_checktype, state_checkkey);
                                    }
                                )
                            }

                        }

                    } // end handler filter StopTime

                    // handler per page
                    handlePerPage = (evt) =>
                        this.setState({
                            perPage: evt.target.value
                        }, () => this.reorganiseLibrary());

                    // handler render of library
                    renderLibrary = () => {
                        const { library, currentPage } = this.state;
                        if (!library || (library && library.length === 0)) {
                            return <div className="message-box-nodata dir-ltr">
                                <i className="icon-message-box">
                                    <svg width="50pt" height="50pt" fill="#666" version="1.0" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">
                                        <g transform="translate(0 512) scale(.1 -.1)">
                                            <path d="m593 5102c-100-35-171-115-193-216-8-36-10-508-8-1626l3-1575 21-46c28-60 87-119 150-150 47-23 59-24 306-29l257-5-459-430c-252-236-470-448-485-470-62-96-71-231-22-338 92-201 346-279 521-159 33 23 269 267 611 632 306 327 562 599 569 604 9 6 23 2 43-12 96-68 313-155 464-186 454-93 972 35 1285 317l51 46 1058 6 57 28c69 34 121 91 148 164 20 53 20 76 20 1633s0 1580-20 1633c-27 73-79 130-148 164l-57 28-2060 2c-1957 2-2063 2-2112-15zm4142-194c48-22 55-52 55-228v-160h-835c-908 0-877 2-903-55-15-33-15-57 0-90 26-57-5-55 903-55h835v-1296-1296l-68-68h-416-415l56 83c102 149 181 339 220 533 27 134 24 423-5 560-64 299-201 559-406 772-214 222-458 359-759 424-87 19-133 22-307 22s-220-3-307-22c-294-64-523-190-738-406-223-224-359-476-427-790-18-84-22-133-22-291 0-206 14-299 70-462 28-82 110-256 144-303 11-16 20-32 20-37s-20-25-44-46l-45-37h-341-342l-68 68v1296 1296h835c625 0 841 3 860 12 29 13 55 55 55 88s-26 75-55 88c-19 9-235 12-860 12h-835v166 166l68 68h2026c1549 0 2031-3 2051-12zm-1788-1077c282-58 509-182 693-378 454-486 454-1300-1-1787-211-226-500-362-845-396-645-65-1252 396-1381 1047-21 109-24 355-4 463 88 493 456 901 931 1032 190 53 410 59 607 19zm-1304-2478-66-74-168 166 146 134 154-152-66-74zm-293-138 84-85-50-52c-28-29-220-234-428-455-403-431-407-434-488-419-106 20-169 137-123 226 13 26 901 870 915 870 3 0 43-38 90-85z" />
                                            <path d="m2644 4509c-25-13-54-60-54-89 0-51 49-100 100-100s100 49 100 99c0 73-80 122-146 90z" />
                                            <path d="m2305 3320c-11-4-101-90-200-189-236-237-234-207-27-414l152-152-140-140c-146-146-176-188-165-233 8-34 338-369 381-388 17-7 42-10 55-7s93 73 177 157l152 151 153-151c83-84 163-154 176-157s35-1 50 4c40 15 379 358 386 391 10 46-19 87-165 233l-140 140 152 152c207 208 210 176-32 418-115 115-194 186-210 190-47 10-83-14-228-158l-142-141-143 141c-169 168-185 178-242 153zm185-384c147-147 174-165 228-151 16 4 85 64 175 153l147 146 87-87 88-87-153-153c-133-135-152-157-152-186 0-18 5-42 11-54s75-86 152-165l142-142-175-175-153 153c-151 149-154 152-197 152s-46-3-197-152l-153-153-174 174 152 155c149 150 152 155 152 197s-3 46-152 196l-152 153 84 85c47 47 87 85 89 85 3 0 71-65 151-144z" />
                                        </g>
                                    </svg> </i>
                                <div className="line-one font_20 font-weight text-right">
                                    No results found for your search
                                </div>
                                <div className="line-two text-right">
                                    To get the result, please change the date or route
                                </div>
                                <button className="background-color_1 color_white font_16 border-radius cursor-pointer" onClick={this.renderhomepage}>Home</button>
                            </div>

                        }
                        return library[currentPage - 1].map((item, i) => (
                            <div className={`result-item ${this.renderIsSelected(item)}`} data-scrolled={item.isScrolled} id={`item-${item.index}`}>
                                <form method="post" action="/Client_Show_btb_ver.2.bc?lid=2" key={item._id}>
                                    <input type="hidden" value={this.state.state_currency_unit} name="rate-unit" className="rate-unit" />
                                    <input type="hidden" value={this.state.state_currency_cost} name="rate-cost" className="rate-cost" />
                                    <input type="hidden" value={this.state.state_floatdigit} name="rate-floatdigit" className="rate-floatdigit" />
                                    <input type="hidden" value="[##cms.query.from##]" name="from" />
                                    <input type="hidden" value="[##cms.query.to##]" name="to" />
                                    <input type="hidden" value="[##cms.query.fdate##]" name="fdate" />
                                    <input type="hidden" value="[##cms.query.tdate##]" name="tdate" />
                                    <input type="hidden" value="[##cms.query.adult##]" name="adult" />
                                    <input type="hidden" value="[##cms.query.child##]" name="child" />
                                    <input type="hidden" value="[##cms.query.select-age##]" name="select-age" />
                                    <input type="hidden" value="[##cms.query.FlightClass##]" name="FlightClass" />
                                    <input type="hidden" value="Tem3" name="checkpreurl" />
                                    <input type="hidden" value={item.supplier} name="supplier" />
                                    <input type="hidden" value={item.info.departureinformation.ticketinfooo.classes.classname} name="classname" />
                                    <input type="hidden" value={item._id.value} name="idvalue" />
                                    {this.rendershare(item)}
                                    {this.renderproviderId(item._id)}
                                    {this.renderprovider(item)}
                                    {this.renderid(item)}
                                    {this.renderProductid(item)}
                                    <input type="hidden" value={this.renderChildrenCount(item)} name="childcount" />
                                    <input type="hidden" value={this.renderInfantsCount(item)} name="infants" />
                                    <input type="hidden" value={this.renderAdultsCount(item)} name="adultcount" />
                                    <div className="result-info p-relative">
                                        <span
                                            className="provider-item font_10 text-center p-absolute color_gray border-radius">{this.renderisSystemFlight(item)}</span>
                                        {this.renderfare_family(item)}
                                        <div className="first-col width_74 float-left p-relative has-margin">
                                            {this.renderOperatingAirline(item.info.departureinformation)}
                                            <div className="d-flex p-relative flex-justify">
                                                <div className="img-item float-left text-center">
                                                    <img src={item.info.departureinformation.ticketinfooo.showstartairline} alt={item.info.departureinformation.routeshow.routesinfoo[0].routesinfoodetails.otherdetails.detailsairline} width="80"
                                                        height="32" />
                                                    <div className="class-item font_10">
                                                        Flight Number: {item.info.departureinformation.routeshow.routesinfoo[0].routesinfoodetails.otherdetails.detailsroutecode}
                                                    </div>
                                                    <div className="font_10">
                                                        {item.info.departureinformation.ticketinfooo.classes.classname}
                                                    </div>
                                                    {this.renderProviderName(item)}


                                                </div>
                                                <div className="infoes-item width_100">
                                                    <div className="info-item float-left text-center">
                                                        <div className="airport-item font_19 font-weight color_font">{item.info.departureinformation.infooo.showstartcity}</div>
                                                        <p className="city-name font_13">{item.info.departureinformation.ticketinfooo.exitinfo.shortstartairport}</p>
                                                        <div className="time-item font-weight font_20 color_font">{item.info.departureinformation.ticketinfooo.exitinfo.showexittime}</div>
                                                    </div>
                                                    <div
                                                        className="duration-item text-center width_70 p-relative float-left">
                                                        {this.renderStopinfo(item.info.departureinformation)}

                                                        <div className="item-hour font_11 p-absolute">
                                                            <span>Travel Duration: </span>
                                                            <span className="hour">{item.info.departureinformation.ticketinfooo.stoppinfoo.showtiming}</span>
                                                        </div>
                                                        <div className="font_11 color_font"> <div className="airbaggage-def">{this.renderairbaggage(item.info.departureinformation.routeshow.routesinfoo[0])}</div>  </div>
                                                    </div>
                                                    <div className="info-item text-center float-right">
                                                        <div className="airport-item font_19 font-weight color_font">{item.info.departureinformation.infooo.showendcity}</div>
                                                        <p className="city-name font_13">{item.info.departureinformation.ticketinfooo.arrivalinfo.shortendairport}</p>
                                                        <div className="time-item font_20 font-weight color_font">{item.info.departureinformation.ticketinfooo.arrivalinfo.showarrivaltime}</div>
                                                    </div>
                                                    <div className="clr"></div>
                                                </div>

                                            </div>

                                        </div>
                                        <div className="first-col width_74 float-left p-relative">
                                            <div className="d-flex p-relative flex-justify">
                                                <div className="img-item float-left text-center">
                                                    <img src={item.info.returninformation.ticketinfooo.showstartairline} alt={item.info.returninformation.routeshow.routesinfoo[0].routesinfoodetails.otherdetails.detailsairline} width="80"
                                                        height="32" />
                                                    <div className="class-item font_10">
                                                        Flight Number: {item.info.returninformation.routeshow.routesinfoo[0].routesinfoodetails.otherdetails.detailsroutecode}
                                                    </div>
                                                    <div className="font_10">
                                                        {item.info.returninformation.ticketinfooo.classes.classname}
                                                    </div>
                                                    {this.renderProviderName(item)}
                                                </div>
                                                <div className="infoes-item width_100">
                                                    <div className="info-item float-left text-center">

                                                        <div className="airport-item font_19 font-weight color_font">{item.info.returninformation.infooo.showstartcity}</div>
                                                        <p className="city-name font_13">{item.info.returninformation.ticketinfooo.exitinfo.shortstartairport}</p>
                                                        <div className="time-item font-weight font_20 color_font">{item.info.returninformation.ticketinfooo.exitinfo.showexittime}</div>
                                                    </div>
                                                    <div
                                                        className="duration-item text-center width_70 p-relative float-left">
                                                        {this.renderStopinfo(item.info.returninformation)}
                                                        <div className="item-hour font_11 p-absolute">
                                                            <span>Travel Duration: </span>
                                                            <span className="hour">{item.info.returninformation.ticketinfooo.stoppinfoo.showtiming}</span>
                                                        </div>
                                                        <div className="font_11 color_font"> <div className="airbaggage-def">{this.renderairbaggage(item.info.returninformation.routeshow.routesinfoo[0])}</div>  </div>
                                                    </div>
                                                    <div className="info-item text-center float-right">
                                                        <div className="airport-item font_19 font-weight color_font">{item.info.returninformation.infooo.showendcity}</div>
                                                        <p className="city-name font_13">{item.info.returninformation.ticketinfooo.arrivalinfo.shortendairport}</p>
                                                        <div className="time-item font_20 font-weight color_font">{item.info.returninformation.ticketinfooo.arrivalinfo.showarrivaltime}</div>
                                                    </div>
                                                    <div className="clr"></div>
                                                </div>

                                            </div>
                                            <div className="d-row bottom-content">
                                                {this.renderCommission(item)}
                                                <div onClick={((e) => this.showAllDetails(e, i, item.index))}
                                                    className="details-btn font_12 color_2 text-center cursor-pointer">
                                                    Details
                                                </div>
                                            </div>
                                        </div>
                                        <div className="width_25 float-right">
                                            {this.renderseatcount(item.info.departureinformation)}
                                            <div className="cost-item text-center p-relative b2b">
                                                <div>
                                                    <div className="color_gray font_11 title">Price Per Person :</div><span
                                                        className="item-cost font_20 font-weight">{this.rendersinglecost(item)}</span><span
                                                            className="color_gray font_11 unit">{this.renderUnit(item.moneytype, this.state.state_currency_unit)}</span></div>
                                                <div className="btn-item">
                                                    {this.renderBtn(item, i)}

                                                </div>
                                                <div className="clr"></div>
                                            </div>
                                        </div>
                                        <div className="clr"></div>
                                        <div key={i} className={`details-container text-left ${!this.state.visibleAll[i] ? "unvisible" : "visible"}`}>
                                            <div className="wrapper-tab-details d-row font_13 ">
                                                <div className="tab-details flight" onClick={((e) => this.showDetails(e, i))}>
                                                    <span className={`with-tab p-relative ${!this.state.activeTab_details[i] ? "" : "active-tab"}`}>Flight Details</span>

                                                </div>
                                                <div className="tab-details flight p-relative" onClick={((e) => this.showPrice(e, i))}>
                                                    <span className={`with-tab p-relative ${!this.state.activeTab_price[i] ? "" : "active-tab"}`}>Price Details</span>
                                                </div>
                                                <div className="tab-details flight" onClick={(e) => this.showBar(e, i)}>
                                                    <span className={`with-tab p-relative ${!this.state.activeTab_bar[i] ? "" : "active-tab"}`}>Baggage Rules</span>

                                                </div>
                                                <div className="tab-details flight p-relative" onClick={((e) => this.showRule(e, i))}>
                                                    <span className={`with-tab p-relative ${!this.state.activeTab_rule[i] ? "" : "active-tab"}`}>Flight Rules</span>

                                                </div>

                                                <div className="clr"></div>
                                            </div>
                                            <div key={i} className={`details-content  ${!this.state.visibleDetails[i] ? "unvisible" : "visible"}`}>
                                                {this.renderFlightDetails(item.info.departureinformation, 'dep')}
                                                <div className="details-divider"></div>
                                                {this.renderFlightDetails(item.info.returninformation, 'des')}
                                                <div className="clr"></div>
                                            </div>
                                            <div key={i} className={`details-content  ${!this.state.visibleRule[i] ? "unvisible" : "visible"}`}>
                                                {this.renderRule(item, i, item.index)}
                                            </div>
                                            <div key={i} className={`details-content  ${!this.state.visibleBar[i] ? "unvisible" : "visible"}`}>
                                                {this.renderBar(item, i, item.index)}
                                            </div>
                                            <div key={i} className={`details-content  ${!this.state.visiblePrice[i] ? "unvisible" : "visible"}`}>
                                                <div className="details-item">
                                                    {this.renderCost_info(item)}
                                                    <table className="details-tbl font_13">
                                                        <tr>
                                                            <th>Passengers</th>
                                                            <th>Count</th>
                                                            <th>Price Per Person</th>
                                                            <th>Base Price</th>
                                                            <th>Tax</th>
                                                            <th>Total</th>
                                                        </tr>
                                                        {this.renderCost_table(item)}
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                        <div className="clr"></div>
                                        <div key={i} className={`fare-family-content ${!this.state.fare_family_content[i] ? "unvisible" : "visible"}`} >
                                            <div className="section-container">
                                                <div className="close-content" onClick={() => this.close_fare_family(i)}><i className="fa fa-times"></i></div>
                                                <div className="title font_16">Upgrade Your Flight.</div>
                                                <div className="sub-title font_14">This airline has the following rate options:</div>
                                                <div className="info font_12 color_gray">
                                                    <span><img src={item.info.departureinformation.ticketinfooo.showstartairline} width="60" height="24" alt={item.info.departureinformation.routeshow.routesinfoo[0].routesinfoodetails.otherdetails.detailsairline} /></span>
                                                    <span className="dash">|</span>
                                                    <span>{item.info.departureinformation.routeshow.routesinfoo[0].routesinfoodetails.otherdetails.detailsairline}</span>
                                                    <span className="dash">|</span>
                                                    <span><span>Flight Number : </span> {item.info.departureinformation.routeshow.routesinfoo[0].routesinfoodetails.otherdetails.detailsroutecode} </span>
                                                    <span className="dash">|</span>
                                                    <span>({item.info.departureinformation.routeshow.routesinfoo[0].routesinfoodetails.otherdetails.detailsexittimeinfo.exit_date.mstring})</span>
                                                </div>
                                                <div className="info font_12 color_gray">
                                                    <span><img src={item.info.returninformation.ticketinfooo.showstartairline} width="60" height="24" alt={item.info.returninformation.routeshow.routesinfoo[0].routesinfoodetails.otherdetails.detailsairline} /></span>
                                                    <span className="dash">|</span>
                                                    <span>{item.info.returninformation.routeshow.routesinfoo[0].routesinfoodetails.otherdetails.detailsairline}</span>
                                                    <span className="dash">|</span>
                                                    <span><span>Flight Number : </span> {item.info.returninformation.routeshow.routesinfoo[0].routesinfoodetails.otherdetails.detailsroutecode} </span>
                                                    <span className="dash">|</span>
                                                    <span>({item.info.returninformation.routeshow.routesinfoo[0].routesinfoodetails.otherdetails.detailsexittimeinfo.exit_date.mstring})</span>
                                                </div>
                                                <div key={i} className={`fare-family-loading ${!this.state.fare_family_loading[i] ? "unvisible" : "visible"}`}>
                                                    <div id="ballsWaveG">
                                                        <div id="ballsWaveG_1" className="ballsWaveG"></div>
                                                        <div id="ballsWaveG_2" className="ballsWaveG"></div>
                                                        <div id="ballsWaveG_3" className="ballsWaveG"></div>
                                                        <div id="ballsWaveG_4" className="ballsWaveG"></div>
                                                        <div id="ballsWaveG_5" className="ballsWaveG"></div>
                                                        <div id="ballsWaveG_6" className="ballsWaveG"></div>
                                                        <div id="ballsWaveG_7" className="ballsWaveG"></div>
                                                        <div id="ballsWaveG_8" className="ballsWaveG"></div>
                                                    </div>
                                                </div>
                                                <div className={`fare-family-result fare-family-result-${item.index}`}>{this.state.fare_family_result[i]}</div>
                                                <div>
                                                    <div className="float_right price"><span>Price :</span><span className="fare-family-cost font_20" data-key={item.total}>{new Intl.NumberFormat().format(item.total)}</span><span
                                                        className="item-price font_11 margin-right">{this.renderUnit(item.moneytype, this.state.state_currency_unit)}</span></div>
                                                    <button type="submit" className="float_left fare-family-btn">Continue at the current rate</button>
                                                    <div className="clr"></div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        ))
                    }


                    render() {
                        const { library, currentPage, perPage, maxPage, rangevalTotalF, rangevalTotalS, rangevalTimeDepF, rangevalTimeDepS, rangevalTimeDesF, rangevalTimeDesS, librarySecond } = this.state;
                        let defaultRangeTotalF = null;
                        defaultRangeTotalF = rangevalTotalF
                            ? (<span>{new Intl.NumberFormat().format(rangevalTotalF)}</span>)
                            : (<span>{new Intl.NumberFormat().format(this.renderMinTotal())}</span>);
                        let defaultRangeTotalS = null;
                        defaultRangeTotalS = rangevalTotalS
                            ? (<span>{new Intl.NumberFormat().format(rangevalTotalS)}</span>)
                            : (<span>{new Intl.NumberFormat().format(this.renderMaxTotal())}</span>);

                        let defaultRangeTimeDepF = null;
                        defaultRangeTimeDepF = rangevalTimeDepF
                            ? (<span>{rangevalTimeDepF}</span>)
                            : (<span>{this.renderMinTimeDep()}</span>);
                        let defaultRangeTimeDepS = null;
                        defaultRangeTimeDepS = rangevalTimeDepS
                            ? (<span>{rangevalTimeDepS}</span>)
                            : (<span>{this.renderMaxTimeDep()}</span>);


                        let defaultRangeTimeDesF = null;
                        defaultRangeTimeDesF = rangevalTimeDesF
                            ? (<span>{rangevalTimeDesF}</span>)
                            : (<span>{this.renderMinTimeDes()}</span>);
                        let defaultRangeTimeDesS = null;
                        defaultRangeTimeDesS = rangevalTimeDesS
                            ? (<span>{rangevalTimeDesS}</span>)
                            : (<span>{this.renderMaxTimeDes()}</span>);

                        return (
                            <div>
                                <div className="currency-content-list unvisible">
                                    <div className="currency-selected cursor-pointer" data-active="0" onClick={() => this.currency_selected_list()}><span>{this.localStorage_getCurrency()}{this.localStorage_expire()}</span></div>
                                    {this.renderCurrencyRate()}
                                </div>
                                <aside className="sidebar-content width_30 float-left">
                                    <div className="filters-container float-left width_95">
                                        <p><span className="font-weight result-count">{this.renderCount()}</span> tickets has been found.</p>
                                        <p className="section-timer">Left Time : <span id="timer" className="font-weight EnNum font_20">00:00:00</span></p>
                                        {this.ShowFilterFlight()}
                                        <div className="filter-container">
                                            <p className="filter-head"><span className="font_14 float-left">Departure Stop</span>
                                                <div className="clr"></div>
                                            </p>
                                            <div className="filter-row">
                                                <ul className="filter-body text-center font_13">
                                                    <li className="width_50 float-left">
                                                        <div className="inner p-relative">
                                                            <input type="checkbox" value="0" className="checkbox-click" data-filter="stops_dep" onChange={((e) => this.handleChange(e))} defaultChecked={this.props.defaultChecked} />
                                                            <label>
                                                                <div className="text">
                                                                    <p>Non-Stop</p>

                                                                </div>
                                                            </label>

                                                        </div>

                                                    </li>
                                                    <li className="width_50 float-left">
                                                        <div className="inner p-relative">
                                                            <input type="checkbox" value="1" className="checkbox-click" data-filter="stops_dep" onChange={((e) => this.handleChange(e))} defaultChecked={this.props.defaultChecked} />
                                                            <label>
                                                                <div className="text">
                                                                    <p>1 Stop </p>

                                                                </div>
                                                            </label>
                                                        </div>

                                                    </li>
                                                    <li className="width_50 float-left">
                                                        <div className="inner p-relative">
                                                            <input type="checkbox" value="2,3,4,5" className="checkbox-click" data-filter="stops_dep" onChange={((e) => this.handleChange(e))} defaultChecked={this.props.defaultChecked} />
                                                            <label>
                                                                <div className="text">
                                                                    <p>2 Stops And More</p>

                                                                </div>
                                                            </label>
                                                        </div>

                                                    </li>

                                                    <div className="clr"></div>

                                                </ul>
                                            </div>
                                        </div>
                                        <div className="filter-container">
                                            <p className="filter-head"><span className="font_14 float-left">Return Stop</span>
                                                <div className="clr"></div>
                                            </p>
                                            <div className="filter-row">
                                                <ul className="filter-body text-center font_13">
                                                    <li className="width_50 float-left">
                                                        <div className="inner p-relative">
                                                            <input type="checkbox" value="0" className="checkbox-click" data-filter="stops_des" onChange={((e) => this.handleChange(e))} defaultChecked={this.props.defaultChecked} />
                                                            <label>
                                                                <div className="text">
                                                                    <p>Non-Stop</p>

                                                                </div>
                                                            </label>

                                                        </div>

                                                    </li>
                                                    <li className="width_50 float-left">
                                                        <div className="inner p-relative">
                                                            <input type="checkbox" value="1" className="checkbox-click" data-filter="stops_des" onChange={((e) => this.handleChange(e))} defaultChecked={this.props.defaultChecked} />
                                                            <label>
                                                                <div className="text">
                                                                    <p>1 Stop </p>

                                                                </div>
                                                            </label>
                                                        </div>

                                                    </li>
                                                    <li className="width_50 float-left">
                                                        <div className="inner p-relative">
                                                            <input type="checkbox" value="2,3,4,5" className="checkbox-click" data-filter="stops_des" onChange={((e) => this.handleChange(e))} defaultChecked={this.props.defaultChecked} />
                                                            <label>
                                                                <div className="text">
                                                                    <p>2 Stops And More</p>

                                                                </div>
                                                            </label>
                                                        </div>

                                                    </li>

                                                    <div className="clr"></div>

                                                </ul>
                                            </div>
                                        </div>
                                        <div className="filter-container">
                                            <p className="filter-head"><span className="font_14 float-left">Departure Time</span>
                                                <div className="clr"></div>
                                            </p>
                                            <div className="filter-row">
                                                <ul className="filter-body text-left">
                                                    <li className="width_50 float-left">
                                                        <div className="inner font_13 p-relative">
                                                            <input type="checkbox" value="00,01,02,03,04,04:59" className="checkbox-click" data-filter="depTime" onChange={((e) => this.handleChange(e))} defaultChecked={this.props.defaultChecked} />
                                                            <label className="d-flex">
                                                                <div className="icon" style={{ marginRight: "0.5em" }}>

                                                                    <svg width="25px" height="25px" version="1.0" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">
                                                                        <g transform="translate(0 512) scale(.1 -.1)">
                                                                            <path d="m2488 5099c-23-12-46-35-58-59-19-37-20-58-20-412 0-416 1-420 69-465 71-48 175-20 213 57 16 31 18 73 18 408 0 354-1 375-20 412-37 73-127 99-202 59z"></path>
                                                                            <path d="m735 4456c-41-18-83-69-91-111-13-70 8-99 214-308 241-242 273-261 369-218 71 33 102 122 68 195-20 42-412 432-448 445-37 14-75 13-112-3z"></path>
                                                                            <path d="m4265 4454c-42-21-422-402-440-440-34-73-3-162 68-195 96-43 128-24 369 218 145 147 198 208 208 236 39 121-94 239-205 181z"></path>
                                                                            <path d="m2328 3835c-465-88-847-422-997-871-43-129-61-246-61-403 0-156 18-276 61-404 16-49 29-90 29-93 0-2-154-4-342-4-336 0-344-1-382-23-102-58-98-211 8-261 31-15 200-16 1916-16s1885 1 1916 16c106 50 110 203 8 261-38 22-46 23-381 23-189 0-343 2-343 4s13 45 30 95c43 131 60 247 60 401 0 225-41 397-142 593-170 331-468 567-838 664-82 22-121 26-280 29-132 2-207-1-262-11zm506-319c331-100 580-348 683-683 25-82 27-100 27-273s-2-191-27-273c-15-48-43-119-62-157l-35-70h-1720l-35 70c-19 38-47 109-62 157-25 82-27 100-27 273s2 191 27 273c84 273 259 484 505 610 170 87 265 108 477 103 139-3 172-7 249-30z"></path>
                                                                            <path d="m78 2689c-43-22-78-81-78-129 0-50 35-107 80-130 37-19 58-20 412-20 335 0 377 2 408 18 107 53 107 211 0 264-32 16-72 18-410 18-354-1-377-2-412-21z"></path>
                                                                            <path d="m4220 2692c-50-25-80-75-80-132s30-107 80-132c31-16 73-18 408-18 354 0 375 1 412 20 45 23 80 80 80 130s-35 107-80 130c-37 19-58 20-412 20-335 0-377-2-408-18z"></path>
                                                                            <path d="m1542 1450c-96-58-95-183 1-254 28-21 30-21 1017-21s989 0 1017 21c96 71 97 196 1 254-32 20-53 20-1018 20s-986 0-1018-20z"></path>
                                                                        </g>
                                                                    </svg>

                                                                </div>
                                                                <div className="text">
                                                                    <p>Early Morning</p>
                                                                    <p className="font_11 sub-text">12 To 4:59 AM</p>
                                                                </div>
                                                            </label>

                                                        </div>

                                                    </li>
                                                    <li className="width_50 float-left">
                                                        <div className="inner font_13 p-relative">
                                                            <input type="checkbox" value="05,06,07,08,09,10,11,11:59" className="checkbox-click" data-filter="depTime" onChange={((e) => this.handleChange(e))} defaultChecked={this.props.defaultChecked} />
                                                            <label className="d-flex">
                                                                <div className="icon" style={{ marginRight: "0.5em" }}>
                                                                    <svg width="25px" height="25px" version="1.0" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">
                                                                        <g transform="translate(0 512) scale(.1 -.1)">
                                                                            <path d="m2495 5106c-39-18-70-48-92-89-16-29-18-65-18-339v-306l30-43c37-52 86-79 145-79s108 27 145 79l30 43v306c0 302 0 308-23 347-44 78-145 115-217 81z"></path>
                                                                            <path d="m792 4399c-95-47-123-156-64-251 11-18 110-121 219-229 147-145 208-199 236-208 136-45 267 92 217 226-16 41-416 441-465 464-52 24-90 24-143-2z"></path>
                                                                            <path d="m4185 4401c-49-23-449-424-465-464-24-65-5-141 46-189 50-47 96-57 169-37 31 9 79 50 238 208 109 108 210 215 224 238 85 144-64 316-212 244z"></path>
                                                                            <path d="m2440 3840c-611-55-1102-551-1160-1172-41-453 183-918 567-1174 543-361 1262-265 1679 224 186 218 288 457 313 734 65 699-462 1322-1174 1388-60 5-117 9-125 9-8-1-53-5-100-9zm383-384c316-95 536-314 634-633 25-81 27-101 27-263s-2-182-27-263c-51-166-134-304-248-413-110-104-230-173-386-221-81-25-101-27-263-27s-182 2-263 27c-319 98-536 315-634 634-25 81-27 101-27 263s2 182 27 263c106 345 353 572 708 652 45 10 108 14 214 11 127-3 164-8 238-30z"></path>
                                                                            <path d="m144 2731c-17-4-44-16-60-25-112-66-104-244 13-302 35-17 63-19 345-19h306l43 30c52 37 79 86 79 145s-27 108-79 145l-43 30-286 2c-158 1-301-2-318-6z"></path>
                                                                            <path d="m4383 2731c-77-19-133-92-133-173 0-57 27-106 79-143l43-30h306c302 0 308 0 347 23 61 35 90 84 90 152s-29 117-90 152c-39 22-47 23-325 25-157 1-300-2-317-6z"></path>
                                                                            <path d="m1181 1408c-42-12-419-379-458-445-62-106-1-240 120-260 73-12 99 7 326 231 117 116 219 225 227 243 27 63 14 135-34 187-49 52-107 66-181 44z"></path>
                                                                            <path d="m3800 1398c-77-39-114-121-90-201 10-34 50-81 218-251 254-256 289-276 392-224 77 39 114 121 90 201-10 34-50 81-218 251-254 256-289 276-392 224z"></path>
                                                                            <path d="m2480 851c-19-10-48-37-65-60l-30-43v-306c0-302 0-308 23-347 35-61 84-90 152-90s117 29 152 90c23 39 23 45 23 347v306l-30 43c-37 52-86 79-145 79-25 0-61-8-80-19z"></path>
                                                                        </g>
                                                                    </svg>

                                                                </div>
                                                                <div className="text">
                                                                    <p>Morning </p>
                                                                    <p className="font_11 sub-text">5 To 11:59 AM</p>
                                                                </div>
                                                            </label>

                                                        </div>

                                                    </li>
                                                    <li className="width_50 float-left">
                                                        <div className="inner font_13 p-relative">
                                                            <input type="checkbox" value="13,14,15,16,17,17:59" className="checkbox-click" data-filter="depTime" onChange={((e) => this.handleChange(e))} defaultChecked={this.props.defaultChecked} />
                                                            <label className="d-flex">
                                                                <div className="icon" style={{ marginRight: "0.5em" }}>
                                                                    <svg width="25px" height="25px" version="1.0" viewBox="0 0 512 512"
                                                                        xmlns="http://www.w3.org/2000/svg">
                                                                        <g transform="translate(0 512) scale(.1 -.1)">
                                                                            <path
                                                                                d="m3289 4695c-641-88-1177-558-1344-1179-31-116-55-282-55-380v-76h-94c-326 0-614-117-837-340-157-157-275-371-317-574-7-38-10-40-97-75-211-86-368-235-464-443-61-131-75-201-75-363 1-123 4-151 28-230 87-289 299-500 591-592l90-28 1505-3c1701-3 1595-7 1760 74 168 83 300 242 356 429 14 45 18 92 18 185 0 108-4 136-27 205-30 91-78 175-141 250l-44 50 102 53c279 145 516 375 670 650 159 284 224 593 200 940l-7 92h-118-118l-41-75c-167-302-437-467-765-467-402-1-743 268-836 660-28 116-28 286 0 392 68 263 214 446 461 577l55 29 3 121 3 120-92 6c-132 10-260 7-370-8zm-163-357c-333-462-282-1101 119-1503 403-402 1038-452 1502-119l23 16-24-69c-59-174-161-337-298-479-155-160-333-274-523-336-146-47-135-49-177 35-114 232-329 417-583 504-82 28-227 53-306 53h-55l-63 96c-115 176-288 326-474 412l-79 37 5 150c10 267 75 470 218 690 64 98 257 292 355 357 104 69 302 163 373 177 2 1-4-9-13-21zm-1201-1593c169-30 310-102 438-224 96-92 164-194 213-318 28-70 41-92 53-89 9 2 56 10 105 17 157 21 289-1 436-72 70-34 101-58 176-133 105-106 159-201 196-348 19-73 26-88 43-89 173-6 266-34 343-103 208-188 158-519-96-639l-67-32-1475-3c-1630-3-1548-6-1682 60-76 38-201 159-241 235-131 247-58 557 169 719 81 58 165 89 281 105 48 7 89 13 90 13 1 1 7 52 13 114 21 227 98 394 252 550 197 199 473 286 753 237z" />
                                                                        </g>
                                                                    </svg>
                                                                </div>
                                                                <div className="text">
                                                                    <p className="text">Afternoon</p>
                                                                    <p className="font_11 sub-text">12 To 17:59 PM</p>
                                                                </div>
                                                            </label>

                                                        </div>

                                                    </li>
                                                    <li className="width_50 float-left">
                                                        <div className="inner font_13 p-relative">
                                                            <input type="checkbox" value="18,19,20,21,22,23,23:59" className="checkbox-click" data-filter="depTime" onChange={((e) => this.handleChange(e))} defaultChecked={this.props.defaultChecked} />
                                                            <label className="d-flex">
                                                                <div className="icon" style={{ marginRight: "0.5em" }}><svg width="25px" height="25px" version="1.0"
                                                                    viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">
                                                                    <g transform="translate(0 512) scale(.1 -.1)">
                                                                        <path
                                                                            d="m1815 5086c-571-188-1061-564-1389-1068-283-434-433-980-413-1498 11-278 47-480 133-741 209-634 670-1173 1269-1485 263-137 540-225 850-270 147-22 522-25 665-6 591 79 1108 330 1516 737 149 149 233 250 345 419 171 257 329 625 329 767 0 51-4 63-31 94-65 74-147 71-242-8-157-133-304-229-464-303-894-419-1957-122-2505 701-424 636-445 1466-53 2118 65 109 120 185 211 293 74 88 83 158 27 224-58 69-102 74-248 26zm-349-562c-79-162-148-365-186-553-58-289-54-639 10-936 55-254 184-558 325-770 380-569 978-940 1645-1020 138-17 394-19 528-4 253 28 532 109 752 219 46 22 84 39 86 37 7-6-98-170-170-267-85-114-281-318-391-407-269-217-630-391-955-462-229-49-515-65-738-40-425 46-851 221-1185 486-477 379-791 949-856 1555-6 54-11 167-11 252 0 493 158 966 458 1370 86 115 282 320 391 408 109 87 329 233 338 224 2-2-16-43-41-92z" />
                                                                        <path
                                                                            d="m4407 4896c-80-29-106-80-107-208v-88h-90c-72 0-99-4-131-20-52-27-79-72-79-134 0-106 69-156 213-156h87v-87c0-143 51-213 155-213 106 0 154 67 155 213v87h88c71 0 96 4 132 23 104 52 113 191 18 259-28 20-47 23-135 26l-101 4-4 101c-3 88-6 107-26 135-41 57-112 80-175 58z" />
                                                                        <path
                                                                            d="m3162 3984c-44-23-55-40-161-251l-91-183-200-100c-125-63-205-109-215-124-40-61-38-134 6-190 13-17 96-64 217-125l195-98 101-199c114-224 131-244 216-244s102 20 216 244l101 199 199 101c159 81 203 108 221 135 36 53 39 93 12 148-24 47-27 50-227 151l-202 102-100 199c-75 150-107 205-131 222-41 29-113 35-157 13zm99-546c43-93 70-120 158-163l82-39-73-37c-91-46-115-69-157-158-19-39-37-71-40-71s-26 39-51 87c-45 87-45 88-122 128-43 23-80 44-84 48-3 3 31 24 75 47 86 43 111 70 155 168 11 23 22 42 26 42s17-23 31-52z" />
                                                                    </g>
                                                                </svg>
                                                                </div>
                                                                <div className="text">
                                                                    <p>Night</p>
                                                                    <p className="font_11 sub-text">6 To 23:59 PM</p>
                                                                </div>
                                                            </label>

                                                        </div>

                                                    </li>
                                                    <div className="clr"></div>
                                                </ul>
                                            </div>

                                        </div>

                                        <div className="filter-container">
                                            <p className="filter-head"><span className="font_14 float-left">Arrival Time</span>
                                                <div className="clr"></div>
                                            </p>
                                            <div className="filter-row">
                                                <ul className="filter-body text-left">
                                                    <li className="width_50 float-left">
                                                        <div className="inner font_13 p-relative">
                                                            <input type="checkbox" value="00,01,02,03,04,04:59" className="checkbox-click" data-filter="desTime" onChange={((e) => this.handleChange(e))} defaultChecked={this.props.defaultChecked} />
                                                            <label className="d-flex">
                                                                <div className="icon" style={{ marginRight: "0.5em" }}>

                                                                    <svg width="25px" height="25px" version="1.0" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">
                                                                        <g transform="translate(0 512) scale(.1 -.1)">
                                                                            <path d="m2488 5099c-23-12-46-35-58-59-19-37-20-58-20-412 0-416 1-420 69-465 71-48 175-20 213 57 16 31 18 73 18 408 0 354-1 375-20 412-37 73-127 99-202 59z"></path>
                                                                            <path d="m735 4456c-41-18-83-69-91-111-13-70 8-99 214-308 241-242 273-261 369-218 71 33 102 122 68 195-20 42-412 432-448 445-37 14-75 13-112-3z"></path>
                                                                            <path d="m4265 4454c-42-21-422-402-440-440-34-73-3-162 68-195 96-43 128-24 369 218 145 147 198 208 208 236 39 121-94 239-205 181z"></path>
                                                                            <path d="m2328 3835c-465-88-847-422-997-871-43-129-61-246-61-403 0-156 18-276 61-404 16-49 29-90 29-93 0-2-154-4-342-4-336 0-344-1-382-23-102-58-98-211 8-261 31-15 200-16 1916-16s1885 1 1916 16c106 50 110 203 8 261-38 22-46 23-381 23-189 0-343 2-343 4s13 45 30 95c43 131 60 247 60 401 0 225-41 397-142 593-170 331-468 567-838 664-82 22-121 26-280 29-132 2-207-1-262-11zm506-319c331-100 580-348 683-683 25-82 27-100 27-273s-2-191-27-273c-15-48-43-119-62-157l-35-70h-1720l-35 70c-19 38-47 109-62 157-25 82-27 100-27 273s2 191 27 273c84 273 259 484 505 610 170 87 265 108 477 103 139-3 172-7 249-30z"></path>
                                                                            <path d="m78 2689c-43-22-78-81-78-129 0-50 35-107 80-130 37-19 58-20 412-20 335 0 377 2 408 18 107 53 107 211 0 264-32 16-72 18-410 18-354-1-377-2-412-21z"></path>
                                                                            <path d="m4220 2692c-50-25-80-75-80-132s30-107 80-132c31-16 73-18 408-18 354 0 375 1 412 20 45 23 80 80 80 130s-35 107-80 130c-37 19-58 20-412 20-335 0-377-2-408-18z"></path>
                                                                            <path d="m1542 1450c-96-58-95-183 1-254 28-21 30-21 1017-21s989 0 1017 21c96 71 97 196 1 254-32 20-53 20-1018 20s-986 0-1018-20z"></path>
                                                                        </g>
                                                                    </svg>

                                                                </div>
                                                                <div className="text">
                                                                    <p>Early Morning</p>
                                                                    <p className="font_11 sub-text">12 To 4:59 AM</p>
                                                                </div>
                                                            </label>

                                                        </div>

                                                    </li>
                                                    <li className="width_50 float-left">
                                                        <div className="inner font_13 p-relative">
                                                            <input type="checkbox" value="05,06,07,08,09,10,11,11:59" className="checkbox-click" data-filter="desTime" onChange={((e) => this.handleChange(e))} defaultChecked={this.props.defaultChecked} />
                                                            <label className="d-flex">
                                                                <div className="icon" style={{ marginRight: "0.5em" }}>
                                                                    <svg width="25px" height="25px" version="1.0" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">
                                                                        <g transform="translate(0 512) scale(.1 -.1)">
                                                                            <path d="m2495 5106c-39-18-70-48-92-89-16-29-18-65-18-339v-306l30-43c37-52 86-79 145-79s108 27 145 79l30 43v306c0 302 0 308-23 347-44 78-145 115-217 81z"></path>
                                                                            <path d="m792 4399c-95-47-123-156-64-251 11-18 110-121 219-229 147-145 208-199 236-208 136-45 267 92 217 226-16 41-416 441-465 464-52 24-90 24-143-2z"></path>
                                                                            <path d="m4185 4401c-49-23-449-424-465-464-24-65-5-141 46-189 50-47 96-57 169-37 31 9 79 50 238 208 109 108 210 215 224 238 85 144-64 316-212 244z"></path>
                                                                            <path d="m2440 3840c-611-55-1102-551-1160-1172-41-453 183-918 567-1174 543-361 1262-265 1679 224 186 218 288 457 313 734 65 699-462 1322-1174 1388-60 5-117 9-125 9-8-1-53-5-100-9zm383-384c316-95 536-314 634-633 25-81 27-101 27-263s-2-182-27-263c-51-166-134-304-248-413-110-104-230-173-386-221-81-25-101-27-263-27s-182 2-263 27c-319 98-536 315-634 634-25 81-27 101-27 263s2 182 27 263c106 345 353 572 708 652 45 10 108 14 214 11 127-3 164-8 238-30z"></path>
                                                                            <path d="m144 2731c-17-4-44-16-60-25-112-66-104-244 13-302 35-17 63-19 345-19h306l43 30c52 37 79 86 79 145s-27 108-79 145l-43 30-286 2c-158 1-301-2-318-6z"></path>
                                                                            <path d="m4383 2731c-77-19-133-92-133-173 0-57 27-106 79-143l43-30h306c302 0 308 0 347 23 61 35 90 84 90 152s-29 117-90 152c-39 22-47 23-325 25-157 1-300-2-317-6z"></path>
                                                                            <path d="m1181 1408c-42-12-419-379-458-445-62-106-1-240 120-260 73-12 99 7 326 231 117 116 219 225 227 243 27 63 14 135-34 187-49 52-107 66-181 44z"></path>
                                                                            <path d="m3800 1398c-77-39-114-121-90-201 10-34 50-81 218-251 254-256 289-276 392-224 77 39 114 121 90 201-10 34-50 81-218 251-254 256-289 276-392 224z"></path>
                                                                            <path d="m2480 851c-19-10-48-37-65-60l-30-43v-306c0-302 0-308 23-347 35-61 84-90 152-90s117 29 152 90c23 39 23 45 23 347v306l-30 43c-37 52-86 79-145 79-25 0-61-8-80-19z"></path>
                                                                        </g>
                                                                    </svg>

                                                                </div>
                                                                <div className="text">
                                                                    <p>Morning </p>
                                                                    <p className="font_11 sub-text">5 To 11:59 AM</p>
                                                                </div>
                                                            </label>

                                                        </div>

                                                    </li>
                                                    <li className="width_50 float-left">
                                                        <div className="inner font_13 p-relative">
                                                            <input type="checkbox" value="13,14,15,16,17,17:59" className="checkbox-click" data-filter="desTime" onChange={((e) => this.handleChange(e))} defaultChecked={this.props.defaultChecked} />
                                                            <label className="d-flex">
                                                                <div className="icon" style={{ marginRight: "0.5em" }}>
                                                                    <svg width="25px" height="25px" version="1.0" viewBox="0 0 512 512"
                                                                        xmlns="http://www.w3.org/2000/svg">
                                                                        <g transform="translate(0 512) scale(.1 -.1)">
                                                                            <path
                                                                                d="m3289 4695c-641-88-1177-558-1344-1179-31-116-55-282-55-380v-76h-94c-326 0-614-117-837-340-157-157-275-371-317-574-7-38-10-40-97-75-211-86-368-235-464-443-61-131-75-201-75-363 1-123 4-151 28-230 87-289 299-500 591-592l90-28 1505-3c1701-3 1595-7 1760 74 168 83 300 242 356 429 14 45 18 92 18 185 0 108-4 136-27 205-30 91-78 175-141 250l-44 50 102 53c279 145 516 375 670 650 159 284 224 593 200 940l-7 92h-118-118l-41-75c-167-302-437-467-765-467-402-1-743 268-836 660-28 116-28 286 0 392 68 263 214 446 461 577l55 29 3 121 3 120-92 6c-132 10-260 7-370-8zm-163-357c-333-462-282-1101 119-1503 403-402 1038-452 1502-119l23 16-24-69c-59-174-161-337-298-479-155-160-333-274-523-336-146-47-135-49-177 35-114 232-329 417-583 504-82 28-227 53-306 53h-55l-63 96c-115 176-288 326-474 412l-79 37 5 150c10 267 75 470 218 690 64 98 257 292 355 357 104 69 302 163 373 177 2 1-4-9-13-21zm-1201-1593c169-30 310-102 438-224 96-92 164-194 213-318 28-70 41-92 53-89 9 2 56 10 105 17 157 21 289-1 436-72 70-34 101-58 176-133 105-106 159-201 196-348 19-73 26-88 43-89 173-6 266-34 343-103 208-188 158-519-96-639l-67-32-1475-3c-1630-3-1548-6-1682 60-76 38-201 159-241 235-131 247-58 557 169 719 81 58 165 89 281 105 48 7 89 13 90 13 1 1 7 52 13 114 21 227 98 394 252 550 197 199 473 286 753 237z" />
                                                                        </g>
                                                                    </svg>
                                                                </div>
                                                                <div className="text">
                                                                    <p className="text">Afternoon</p>
                                                                    <p className="font_11 sub-text">12 To 17:59 PM</p>
                                                                </div>
                                                            </label>

                                                        </div>

                                                    </li>
                                                    <li className="width_50 float-left">
                                                        <div className="inner font_13 p-relative">
                                                            <input type="checkbox" value="18,19,20,21,22,23,23:59" className="checkbox-click" data-filter="desTime" onChange={((e) => this.handleChange(e))} defaultChecked={this.props.defaultChecked} />
                                                            <label className="d-flex">
                                                                <div className="icon" style={{ marginRight: "0.5em" }}><svg width="25px" height="25px" version="1.0"
                                                                    viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">
                                                                    <g transform="translate(0 512) scale(.1 -.1)">
                                                                        <path
                                                                            d="m1815 5086c-571-188-1061-564-1389-1068-283-434-433-980-413-1498 11-278 47-480 133-741 209-634 670-1173 1269-1485 263-137 540-225 850-270 147-22 522-25 665-6 591 79 1108 330 1516 737 149 149 233 250 345 419 171 257 329 625 329 767 0 51-4 63-31 94-65 74-147 71-242-8-157-133-304-229-464-303-894-419-1957-122-2505 701-424 636-445 1466-53 2118 65 109 120 185 211 293 74 88 83 158 27 224-58 69-102 74-248 26zm-349-562c-79-162-148-365-186-553-58-289-54-639 10-936 55-254 184-558 325-770 380-569 978-940 1645-1020 138-17 394-19 528-4 253 28 532 109 752 219 46 22 84 39 86 37 7-6-98-170-170-267-85-114-281-318-391-407-269-217-630-391-955-462-229-49-515-65-738-40-425 46-851 221-1185 486-477 379-791 949-856 1555-6 54-11 167-11 252 0 493 158 966 458 1370 86 115 282 320 391 408 109 87 329 233 338 224 2-2-16-43-41-92z" />
                                                                        <path
                                                                            d="m4407 4896c-80-29-106-80-107-208v-88h-90c-72 0-99-4-131-20-52-27-79-72-79-134 0-106 69-156 213-156h87v-87c0-143 51-213 155-213 106 0 154 67 155 213v87h88c71 0 96 4 132 23 104 52 113 191 18 259-28 20-47 23-135 26l-101 4-4 101c-3 88-6 107-26 135-41 57-112 80-175 58z" />
                                                                        <path
                                                                            d="m3162 3984c-44-23-55-40-161-251l-91-183-200-100c-125-63-205-109-215-124-40-61-38-134 6-190 13-17 96-64 217-125l195-98 101-199c114-224 131-244 216-244s102 20 216 244l101 199 199 101c159 81 203 108 221 135 36 53 39 93 12 148-24 47-27 50-227 151l-202 102-100 199c-75 150-107 205-131 222-41 29-113 35-157 13zm99-546c43-93 70-120 158-163l82-39-73-37c-91-46-115-69-157-158-19-39-37-71-40-71s-26 39-51 87c-45 87-45 88-122 128-43 23-80 44-84 48-3 3 31 24 75 47 86 43 111 70 155 168 11 23 22 42 26 42s17-23 31-52z" />
                                                                    </g>
                                                                </svg>
                                                                </div>
                                                                <div className="text">
                                                                    <p>Night</p>
                                                                    <p className="font_11 sub-text">6 To 23:59 PM</p>
                                                                </div>
                                                            </label>

                                                        </div>

                                                    </li>
                                                    <div className="clr"></div>
                                                </ul>
                                            </div>

                                        </div>
                                        <div className="filter-container">
                                            <p className="filter-head"><span className="font_14 float-left">Departure Flight Number</span>
                                                <div className="clr"></div>
                                            </p>
                                            <div className="filter-row">
                                                <ul className="filter-body text-center font_13">
                                                    <li className="width_100">
                                                        <input value={this.state.filterFlightNumberDep} onChange={((e) => this.handleFilterFlightNumberDep(e))} placeholder="Flight Number" className="inner filter-flight-number"
                                                        />
                                                    </li>
                                                    <div className="clr"></div>
                                                </ul>
                                            </div>
                                        </div>
                                        <div className="filter-container">
                                            <p className="filter-head"><span className="font_14 float-left">Arrival Flight Number</span>
                                                <div className="clr"></div>
                                            </p>
                                            <div className="filter-row">
                                                <ul className="filter-body text-center font_13">
                                                    <li className="width_100">
                                                        <input value={this.state.filterFlightNumberDes} onChange={((e) => this.handleFilterFlightNumberDes(e))} placeholder="Flight Number" className="inner filter-flight-number"
                                                        />
                                                    </li>
                                                    <div className="clr"></div>
                                                </ul>
                                            </div>
                                        </div>
                                        <div className="filter-container">
                                            <p className="filter-head"><span className="font_14 float-left">Ticket</span>
                                                <div className="clr"></div>
                                            </p>
                                            <div className="filter-row">
                                                <ul className="filter-body text-center font_13">
                                                    <li className="width_50 float-left">
                                                        <div className="inner p-relative">
                                                            <input type="checkbox" value="false" className="checkbox-click" data-filter="isSystemFlight" onChange={((e) => this.handleChange(e))} defaultChecked={this.props.defaultChecked} />
                                                            <label>
                                                                <div className="text">
                                                                    <p> Charter</p>

                                                                </div>
                                                            </label>

                                                        </div>

                                                    </li>
                                                    <li className="width_50 float-left">
                                                        <div className="inner p-relative">
                                                            <input type="checkbox" value="true" className="checkbox-click" data-filter="isSystemFlight" onChange={((e) => this.handleChange(e))} defaultChecked={this.props.defaultChecked} />
                                                            <label>
                                                                <div className="text">
                                                                    <p>Systemic </p>

                                                                </div>
                                                            </label>
                                                        </div>

                                                    </li>

                                                    <div className="clr"></div>

                                                </ul>
                                            </div>
                                        </div>
                                        <div className="filter-container unvisible special-facilites">
                                            <p className="filter-head"><span className="font_14 float-left">Special Offer</span>
                                                <div className="clr"></div>
                                            </p>
                                            <div className="filter-row">
                                                <ul className="filter-body text-center font_13">
                                                    <li className="width_50 float-left">
                                                        <div className="inner p-relative">
                                                            <input type="checkbox" value="1" className="checkbox-click" data-filter="fare_family" onChange={((e) => this.handleChange(e))} defaultChecked={this.props.defaultChecked} />
                                                            <label>
                                                                <div className="text">
                                                                    <p> Upgrade Facilities</p>
                                                                </div>
                                                            </label>

                                                        </div>

                                                    </li>


                                                    <div className="clr"></div>

                                                </ul>
                                            </div>
                                        </div>

                                        <div className="filter-container">
                                            <p className="filter-head"><span className="font_14 float-left">Price Range</span>
                                                <div className="clr"></div>
                                            </p>
                                            <div className="content-filter p-relative">
                                                <div className="range-distance">
                                                    <div>
                                                        <div className="inverse-left"></div>
                                                        <div className="inverse-right"></div>
                                                        <div className="range-length background-color_1"></div>
                                                        <span className="thumb-range thumb-range1"></span>
                                                        <span className="thumb-range thumb-range2"></span>
                                                        <div class="rangevalFirst_2 p-absolute font_11">{defaultRangeTotalF}<span class="font_10 unit_content">{this.ShowUnit_filter()}</span></div>
                                                        <div class="rangevalSecond_2 p-absolute font_11">{defaultRangeTotalS}<span class="font_10 unit_content">{this.ShowUnit_filter()}</span></div>
                                                    </div>
                                                    <input type="range" defaultValue={this.renderMinTotal() || 0} max={this.renderMaxTotal() || 999999999} min={this.renderMinTotal() || 0} step="1" onInput={this.handleMinFilterTotal} onChange={this.handleFilterTotal} data-key="1" data-value="1_T" />
                                                    <input type="range" defaultValue={this.renderMaxTotal() || 999999999} max={this.renderMaxTotal() || 999999999} min={this.renderMinTotal() || 0} step="1" onInput={this.handleMaxFilterTotal} onChange={this.handleFilterTotal} data-key="2" data-value="2_T" />
                                                </div>
                                            </div>
                                        </div>

                                        <div className="filter-container">
                                            <p className="filter-head"><span className="font_14 float-left">Departure Flight Duration
                                            </span>
                                                <div className="clr"></div>
                                            </p>
                                            <div className="content-filter margin-top p-relative">
                                                <div className="range-distance">
                                                    <div>
                                                        <div className="inverse-left"></div>
                                                        <div className="inverse-right"></div>
                                                        <div className="range-length background-color_1"></div>
                                                        <span className="thumb-range thumb-range1"></span>
                                                        <span className="thumb-range thumb-range2"></span>
                                                        <div class="rangevalFirst_2 p-absolute font_11">{defaultRangeTimeDepF}<span class="font_10 unit_content">Hour</span></div>
                                                        <div class="rangevalSecond_2 p-absolute font_11">{defaultRangeTimeDepS}<span class="font_10 unit_content">Hour</span></div>
                                                    </div>
                                                    <input type="range" defaultValue={this.renderMinTimeDep() || 0} max={this.renderMaxTimeDep() || 100} min={this.renderMinTimeDep() || 0} step="1" onInput={this.handleMinFilterTimeDep} onChange={this.handleFilterTimeDep} data-key="1" data-value="1_TDep" />
                                                    <input type="range" defaultValue={this.renderMaxTimeDep() || 100} max={this.renderMaxTimeDep() || 100} min={this.renderMinTimeDep() || 0} step="1" onInput={this.handleMaxFilterTimeDep} onChange={this.handleFilterTimeDep} data-key="2" data-value="2_TDep" />
                                                </div>
                                            </div>
                                        </div>
                                        <div className="filter-container">
                                            <p className="filter-head"><span className="font_14 float-left">Arrival Flight Duration
                                            </span>
                                                <div className="clr"></div>
                                            </p>
                                            <div className="content-filter margin-top p-relative">
                                                <div className="range-distance">
                                                    <div>
                                                        <div className="inverse-left"></div>
                                                        <div className="inverse-right"></div>
                                                        <div className="range-length background-color_1"></div>
                                                        <span className="thumb-range thumb-range1"></span>
                                                        <span className="thumb-range thumb-range2"></span>
                                                        <div class="rangevalFirst_2 p-absolute font_11">{defaultRangeTimeDesF}<span class="font_10 unit_content">Hour</span></div>
                                                        <div class="rangevalSecond_2 p-absolute font_11">{defaultRangeTimeDesS}<span class="font_10 unit_content">Hour</span></div>
                                                    </div>
                                                    <input type="range" defaultValue={this.renderMinTimeDes() || 0} max={this.renderMaxTimeDes() || 100} min={this.renderMinTimeDes() || 0} step="1" onInput={this.handleMinFilterTimeDes} onChange={this.handleFilterTimeDes} data-key="1" data-value="1_TDep" />
                                                    <input type="range" defaultValue={this.renderMaxTimeDes() || 100} max={this.renderMaxTimeDes() || 100} min={this.renderMinTimeDes() || 0} step="1" onInput={this.handleMaxFilterTimeDes} onChange={this.handleFilterTimeDes} data-key="2" data-value="2_TDep" />
                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                </aside>

                                <div className="result-content width_70 float-right">
                                    <div className="fares-filter-box">
                                        <ul className="owl-title-for-details width_15 font_11 float-left">
                                            <li className="heading">Show ALL Fares :</li>
                                            <li className="">Non stop :</li>
                                            <li className="">1Stop :</li>
                                            <li className="">1+Stops :</li>
                                        </ul>
                                        <div className="owl-filter-container owl-carousel width_85 float-right">
                                            {this.flightExtraFilters()}
                                        </div>
                                        <div className="clr"></div>
                                    </div>
                                    <div className="sort-box flight">
                                        <span className="sort-title font_13 width_10 float-left">Sorting :</span>
                                        <ul className="sort-items d-flex background-color_white border-radius float-right">
                                            <li className={`p-relative font_13 cursor-pointer text-center width_20 after-notactive ${this.state.activedefault}`} data-type="default" data-key="0" onClick={((e) => this.handleChange(e))}> Default</li>
                                            <li className={`p-relative font_13 cursor-pointer text-center width_20 ${this.state.activeprice} ${!this.state.priceS[0] ? "after-notactive" : "after-active"}`} data-type="price" data-key={this.state.checkkeyprice} onClick={((e) => this.handleChange(e))}>Price</li>
                                            <li className={`p-relative font_13 cursor-pointer text-center width_20 ${this.state.activestop} ${!this.state.stopS[0] ? "after-notactive" : "after-active"} `} data-type="stop" data-key={this.state.checkkeystop} onClick={((e) => this.handleChange(e))}>Stop</li>
                                            <li className={`p-relative font_13 cursor-pointer text-center width_20 ${this.state.activetime} ${!this.state.timeS[0] ? "after-notactive" : "after-active"}`} data-type="Time" data-key={this.state.checkkeytime} onClick={((e) => this.handleChange(e))}>Flight Duration</li>
                                            <li className={`p-relative font_13 cursor-pointer text-center width_20 ${this.state.activetakeoff} ${!this.state.takeoffS[0] ? "after-notactive" : "after-active"}`} data-type="takeoff" data-key={this.state.checkkeytakeoff} onClick={((e) => this.handleChange(e))}>Flight Hour</li>
                                        </ul>
                                        <div className="clr"></div>
                                    </div>

                                    <div className="clr"></div>
                                    <div className="result-items flight">
                                        {this.renderLibrary()}
                                        <ul id="page-numbers">
                                            <li className="nexprev">
                                                {currentPage !== 1 && (
                                                    <button onClick={this.previousPage}><i className="fa fa-backward"></i></button>
                                                )}
                                            </li>
                                            <li className="controls-active background-color_2 font-weight">{this.state.currentPage}</li>
                                            <li className="restControls">...</li>
                                            <li className="controls">{this.state.maxPage}</li>
                                            <li className="nexprev">
                                                {(this.state.currentPage < maxPage) && (<button onClick={this.nextPage}><i className="fa fa-forward"></i></button>
                                                )}
                                            </li>
                                        </ul>
                                    </div>
                                </div>

                            </div>
                        )
                    }
                    renderMinTotal = () => {
                        const { librarySecond, state_currency_cost, state_floatdigit } = this.state;
                        if (!librarySecond || (librarySecond && librarySecond.length === 0)) {
                            return ''
                        }
                        return librarySecond.reduce((acc, lib) => {
                            if (state_floatdigit == '') {
                                const libMin = Math.min(...lib.map(item => this.rendersinglecostFilter(item)))
                                return acc === undefined ? libMin : libMin < acc ? libMin : acc
                            } else {
                                const libMin = Math.min(...lib.map(item => this.renderTotal(this.rendersinglecostFilter(item), state_currency_cost, state_floatdigit)))
                                return acc === undefined ? libMin : libMin < acc ? libMin : acc
                            }

                        }, undefined)
                    }
                    renderMaxTotal = () => {
                        const { librarySecond, state_currency_cost, state_floatdigit } = this.state;
                        if (!librarySecond || (librarySecond && librarySecond.length === 0)) {
                            return ''
                        }
                        return librarySecond.reduce((acc, lib) => {
                            if (state_floatdigit == '') {
                                const libMax = Math.max(...lib.map(item => this.rendersinglecostFilter(item)))
                                return libMax > acc ? libMax : acc
                            } else {
                                const libMax = Math.max(...lib.map(item => this.renderTotal(this.rendersinglecostFilter(item), state_currency_cost, state_floatdigit)))
                                return libMax > acc ? libMax : acc
                            }

                        }, 0)
                    }
                    rendersinglecostFilter(element) {
                        if (element.special_cost_table) {
                            return element.special_cost_table.adults[0].unit
                        } else {
                            return element.adults.unit
                        }
                    }
                    renderMinTimeDep = () => {
                        const { librarySecond } = this.state;
                        if (!librarySecond || (librarySecond && librarySecond.length === 0)) {
                            return ''
                        }
                        return librarySecond.reduce((acc, lib) => {
                            const libMin = Math.min(...lib.map(item => this.renderStoppinfo(item.info.departureinformation.ticketinfooo.stoppinfoo.showtiming)))
                            return acc === undefined ? libMin : libMin < acc ? libMin : acc
                        }, undefined)
                    }
                    renderMaxTimeDep = () => {
                        const { librarySecond } = this.state;

                        if (!librarySecond || (librarySecond && librarySecond.length === 0)) {
                            return ''
                        }
                        return librarySecond.reduce((acc, lib) => {
                            const libMax = Math.max(...lib.map(item => this.renderStoppinfoS(item.info.departureinformation.ticketinfooo.stoppinfoo.showtiming)))
                            return libMax > acc ? libMax : acc
                        }, 0)
                    }

                    renderMinTimeDes = () => {
                        const { librarySecond } = this.state;
                        if (!librarySecond || (librarySecond && librarySecond.length === 0)) {
                            return ''
                        }
                        return librarySecond.reduce((acc, lib) => {
                            const libMin = Math.min(...lib.map(item => this.renderStoppinfo(item.info.returninformation.ticketinfooo.stoppinfoo.showtiming)))
                            return acc === undefined ? libMin : libMin < acc ? libMin : acc
                        }, undefined)
                    }
                    renderMaxTimeDes = () => {
                        const { librarySecond } = this.state;

                        if (!librarySecond || (librarySecond && librarySecond.length === 0)) {
                            return ''
                        }
                        return librarySecond.reduce((acc, lib) => {
                            const libMax = Math.max(...lib.map(item => this.renderStoppinfoS(item.info.returninformation.ticketinfooo.stoppinfoo.showtiming)))
                            return libMax > acc ? libMax : acc
                        }, 0)
                    }

                    ShowFilterFlight() {
                        let element = this.state.data;
                        if (!element) return null;
                        return <div><div className="filter-container">
                            <p className="filter-head"><span className="font_14 float-left">Departure Airlines Comapany</span>
                                <div className="clr"></div>
                            </p>
                            <div className="filter-row airline_results_dep">
                                {this.renderairlines_dep(element)}
                                <div className="clr"></div>
                            </div>
                        </div> <div className="filter-container">
                                <p className="filter-head"><span className="font_14 float-left">Arrival Airlines Comapany</span>
                                    <div className="clr"></div>
                                </p>
                                <div className="filter-row airline_results_des">
                                    {this.renderairlines_des(element)}
                                    <div className="clr"></div>
                                </div>
                            </div><div className="filter-container airport_filter_dep">
                                <p className="filter-head"><span className="font_14 float-left">Departure Airport Destination</span>
                                    <div className="clr"></div>
                                </p>
                                <div className="filter-row">
                                    {this.renderairports_dep(element)}
                                    <div className="clr"></div>
                                </div>
                            </div><div className="filter-container airport_filter_des">
                                <p className="filter-head"><span className="font_14 float-left">Arrival Airport Destination</span>
                                    <div className="clr"></div>
                                </p>
                                <div className="filter-row">
                                    {this.renderairports_des(element)}
                                    <div className="clr"></div>
                                </div>
                            </div>
                            
                            
                            <div className="filter-container airport_filter_des">
                                <p className="filter-head"><span className="font_14 float-left">Departure Baggage</span>
                                    <div className="clr"></div>
                                </p>
                                <div className="filter-row">
                                    {this.renderBaggagesDep(element)}
                                    <div className="clr"></div>
                                </div>
                            </div>
                            <div className="filter-container airport_filter_des">
                                <p className="filter-head"><span className="font_14 float-left">Arrival Baggage</span>
                                    <div className="clr"></div>
                                </p>
                                <div className="filter-row">
                                    {this.renderBaggagesDes(element)}
                                    <div className="clr"></div>
                                </div>
                            </div>

                            </div>
                    }
                    ShowUnit_filter() {
                        let element = this.state.data;
                        if (!element) return null;
                        if (element.length !== undefined) {
                            return [...(new Set(element.map(x => this.renderUnit(x.moneytype, this.state.state_currency_unit))))]
                        }
                    }

                    renderairlines_dep(element) {
                        let indents = [];
                        if (element.length !== undefined) {
                            let sentences = [...(new Set(element.map(d => d['info']['departureinformation']['routeshow']['routesinfoo']).flat().map(info => info['routesinfoodetails']['otherdetails']['detailsairline'])))]
                            let img = [...(new Set(element.map(d => d['info']['departureinformation']['routeshow']['routesinfoo']).flat().map(info => info['routesinfoodetails']['otherdetails']['detailsairlineimage'])))]
                            for (let i = 0; i < sentences.length; i++) {
                                let singleSentence = <div className="filter-body airline_filter_dep"><div className="section-input_list p-relative" data-index="1"><input type="checkbox" value={sentences[i]} className="p-absolute" data-filter="startairline_dep" onChange={((e) => this.handleChange(e))} defaultChecked={this.props.defaultChecked} /><label><img src={img[i]} alt={sentences[i]} width="50" height="20" className="img_airline p-absolute" /><span className="checkbox "><div className="name_airline text-checkbox float_left">{sentences[i]}</div></span><span className="total_content font_11 float-right">From <span className="min_total">{new Intl.NumberFormat().format(this.min_totalByAirline_dep(element, sentences[i]))}</span><span className="unit_content">{[...(new Set(element.map(x => this.renderUnit(x.moneytype, this.state.state_currency_unit))))]}</span></span></label></div><div className="clr"></div></div>
                                indents.push(singleSentence)
                            }

                            return (
                                indents
                            )

                        }
                    }
                    renderairlines_des(element) {
                        let indents = [];
                        if (element.length !== undefined) {
                            let sentences = [...(new Set(element.map(d => d['info']['returninformation']['routeshow']['routesinfoo']).flat().map(info => info['routesinfoodetails']['otherdetails']['detailsairline'])))]
                            let img = [...(new Set(element.map(d => d['info']['returninformation']['routeshow']['routesinfoo']).flat().map(info => info['routesinfoodetails']['otherdetails']['detailsairlineimage'])))]
                            for (let i = 0; i < sentences.length; i++) {
                                let singleSentence = <div className="filter-body airline_filter_des"><div className="section-input_list p-relative" data-index="1"><input type="checkbox" value={sentences[i]} className="p-absolute" data-filter="startairline_des" onChange={((e) => this.handleChange(e))} defaultChecked={this.props.defaultChecked} /><label><img src={img[i]} alt={sentences[i]} width="50" height="20" className="img_airline p-absolute" /><span className="checkbox "><div className="name_airline text-checkbox float_left">{sentences[i]}</div></span><span className="total_content font_11 float-right">From <span className="min_total">{new Intl.NumberFormat().format(this.min_totalByAirline_des(element, sentences[i]))}</span><span className="unit_content">{[...(new Set(element.map(x => this.renderUnit(x.moneytype, this.state.state_currency_unit))))]}</span></span></label></div><div className="clr"></div></div>
                                indents.push(singleSentence)
                            }

                            return (
                                indents
                            )

                        }
                    }
                    //bitaa
                    min_totalByAirline_dep = (data, name) => {
                        const { state_currency_cost, state_floatdigit } = this.state;
                        const totalsDep = data
                            .filter(x =>
                                x.info.departureinformation.routeshow.routesinfoo.find(y => y.routesinfoodetails.otherdetails.detailsairline === name)
                            ).map(x => this.rendersinglecostFilter(x));
                        let new_totalsDep = new Array();
                        for (const element of totalsDep) {
                            if (state_floatdigit == '') {
                                new_totalsDep.push(element * state_currency_cost);
                            } else {
                                let toString_element = (element * state_currency_cost).toString();
                                if (state_floatdigit >= 0) {
                                    if (toString_element.indexOf('.') > -1) {
                                        let parseFloat_element = parseFloat(toString_element).toFixed(state_floatdigit).toString();
                                        let parseFloat_element_split = parseFloat_element.split('.');
                                        if (parseFloat_element_split[1].indexOf('0') > -1) {
                                            new_totalsDep.push(parseFloat(element * state_currency_cost).toFixed(1).toString())
                                        } else {
                                            new_totalsDep.push(parseFloat(element * state_currency_cost).toFixed(state_floatdigit).toString())
                                        }
                                    } else {
                                        new_totalsDep.push(parseFloat(element * state_currency_cost).toFixed(state_floatdigit).toString())
                                    }
                                } else {
                                    let multiplier = Math.pow(10, Math.abs(state_floatdigit));
                                    new_totalsDep.push(Math.round(toString_element * multiplier) / multiplier)
                                }
                            }
                        }
                        return Math.min(...new_totalsDep);
                    }
                    //bitaa
                    min_totalByAirline_des = (data, name) => {
                        const { state_currency_cost, state_floatdigit } = this.state;
                        const totalsDes = data
                            .filter(x =>
                                x.info.returninformation.routeshow.routesinfoo.find(y => y.routesinfoodetails.otherdetails.detailsairline === name)
                            ).map(x => this.rendersinglecostFilter(x));
                        let new_totalsDes = new Array();
                        for (const element of totalsDes) {
                            if (state_floatdigit == '') {
                                new_totalsDes.push(element * state_currency_cost);
                            } else {
                                let toString_element = (element * state_currency_cost).toString();
                                if (state_floatdigit >= 0) {
                                    if (toString_element.indexOf('.') > -1) {
                                        let parseFloat_element = parseFloat(toString_element).toFixed(state_floatdigit).toString();
                                        let parseFloat_element_split = parseFloat_element.split('.');
                                        if (parseFloat_element_split[1].indexOf('0') > -1) {
                                            new_totalsDes.push(parseFloat(element * state_currency_cost).toFixed(1).toString())
                                        } else {
                                            new_totalsDes.push(parseFloat(element * state_currency_cost).toFixed(state_floatdigit).toString())
                                        }
                                    } else {
                                        new_totalsDes.push(parseFloat(element * state_currency_cost).toFixed(state_floatdigit).toString())
                                    }
                                } else {
                                    let multiplier = Math.pow(10, Math.abs(state_floatdigit));
                                    new_totalsDes.push(Math.round(toString_element * multiplier) / multiplier)
                                }
                            }
                        }
                        return Math.min(...new_totalsDes);
                    }
                    renderairports_dep(element) {
                        let indents = [];
                        if (element.length !== undefined) {
                            let sentences = [...(new Set(element.map(d => d['info']['departureinformation']['routeshow']['routesinfoo']).flat().map(info => info['routesinfoodetails']['otherdetails']['detailsarrivaltimeinfo']['detailsarrivalairport'])))]
                            for (let i = 0; i < sentences.length; i++) {
                                let singleSentence = <div className="filter-body"><div className="section-input_list p-relative" data-index="1"><input type="checkbox" value={sentences[i]} className="p-absolute" data-filter="endairport_dep" onChange={((e) => this.handleChange(e))} defaultChecked={this.props.defaultChecked} /><label><span className="checkbox"><div className="text-checkbox">{sentences[i]}</div></span></label></div><div className="clr"></div></div>
                                let output = singleSentence
                                indents.push(singleSentence)
                            }

                            return (
                                indents
                            )

                        }
                    }
                    renderairports_des(element) {
                        let indents = [];
                        if (element.length !== undefined) {
                            let sentences = [...(new Set(element.map(d => d['info']['returninformation']['routeshow']['routesinfoo']).flat().map(info => info['routesinfoodetails']['otherdetails']['detailsarrivaltimeinfo']['detailsarrivalairport'])))]
                            for (let i = 0; i < sentences.length; i++) {
                                let singleSentence = <div className="filter-body"><div className="section-input_list p-relative" data-index="1"><input type="checkbox" value={sentences[i]} className="p-absolute" data-filter="endairport_des" onChange={((e) => this.handleChange(e))} defaultChecked={this.props.defaultChecked} /><label><span className="checkbox"><div className="text-checkbox">{sentences[i]}</div></span></label></div><div className="clr"></div></div>
                                let output = singleSentence
                                indents.push(singleSentence)
                            }

                            return (
                                indents
                            )

                        }
                    }
                    renderBaggagesDep(element) {
                        let indents = [];
                        if (element.length !== undefined) {
                            let sentences = [...(new Set(element.map(d => d['info']['departureinformation']['routeshow']['routesinfoo']).flat().map(info => info['airbaggage'])))]
                            for (let i = 0; i < sentences.length; i++) {
                                let singleSentence = <div className="filter-body"><div className="section-input_list p-relative" data-index="1">
                                    <input type="checkbox" value={sentences[i]} className="airbaggageDep p-absolute" data-filter="airbaggageDep" onChange={((e) => this.handleChange(e))}
                                        defaultChecked={this.props.defaultChecked} />
                                    <label><span className="checkbox"><div className="text-checkbox">{sentences[i]}</div></span></label>
                                </div><div className="clr"></div></div>
                                indents.push(singleSentence)
                            }
                            return (
                                indents
                            )
                        }
                    }
                    renderBaggagesDes(element) {
                        let indents = [];
                        if (element.length !== undefined) {
                            let sentences = [...(new Set(element.map(d => d['info']['returninformation']['routeshow']['routesinfoo']).flat().map(info => info['airbaggage'])))]
                            for (let i = 0; i < sentences.length; i++) {
                                let singleSentence = <div className="filter-body"><div className="section-input_list p-relative" data-index="1">
                                    <input type="checkbox" value={sentences[i]} className="airbaggageDes p-absolute" data-filter="airbaggageDes" onChange={((e) => this.handleChange(e))}
                                        defaultChecked={this.props.defaultChecked} />
                                    <label><span className="checkbox"><div className="text-checkbox">{sentences[i]}</div></span></label>
                                </div><div className="clr"></div></div>
                                indents.push(singleSentence)
                            }
                            return (
                                indents
                            )
                        }
                    }
                    flightExtraFilters() {
                        let element = this.state.data;
                        if (!element) return null;
                        if (element.length !== undefined) {
                            let indents = [];
                            if (element.length !== undefined) {
                                let sentencesDep = [...(new Set(element.map(d => d['info']['departureinformation']['routeshow']['routesinfoo']).flat().map(info => info['routesinfoodetails']['otherdetails']['detailsairline'])))]
                                let imgDep = [...(new Set(element.map(d => d['info']['departureinformation']['routeshow']['routesinfoo']).flat().map(info => info['routesinfoodetails']['otherdetails']['detailsairlineimage'])))]
                                for (let i = 0; i < sentencesDep.length; i++) {
                                    let singleSentence = <ul className="owl-content-for-details color_font font_13">
                                        <li className="heading font_10"><img src={imgDep[i]} alt={sentencesDep[i]} width="50" height="20" className="" /><div className="">{sentencesDep[i]}</div></li>
                                        <li className="font-weight">{this.minTotalByNoneStop(element, sentencesDep[i])}</li>
                                        <li className="font-weight">{this.minTotalByOneStop(element, sentencesDep[i])}</li>
                                        <li className="font-weight">{this.minTotalByMoreStop(element, sentencesDep[i])}</li>
                                    </ul>
                                    indents.push(singleSentence)
                                }
                                return (
                                    indents
                                )
                            }
                        }
                    }
                    minTotalByNoneStop = (data, name) => {
                        const totalsDep = data
                            .filter(x =>
                                x.info.departureinformation.routeshow.routesinfoo.find(y => y.routesinfoodetails.otherdetails.detailsairline === name && x.info.departureinformation.ticketinfooo.stoppinfoo.showstopinfo == 0)
                            ).map(x => this.rendersinglecostFilter(x));
                        if (totalsDep.length > 0) {
                            return <div onClick={((e) => this.handleChange(e))} data-filter="itemSelected" data-stop="0" data-airline={name} data-price={this.renderTotal(parseFloat(Math.min(...totalsDep)), this.state.state_currency_cost, this.state.state_floatdigit)}>{new Intl.NumberFormat().format(this.renderTotal(Math.min(...totalsDep), this.state.state_currency_cost, this.state.state_floatdigit))}<span className="unit font_10 unit_content">{this.renderUnit([...(new Set(data.map(x => x.moneytype)))], this.state.state_currency_unit)}</span></div>
                        } else {
                            return '-';
                        }
                    }
                    minTotalByOneStop = (data, name) => {
                        const totalsDep = data
                            .filter(x =>
                                x.info.departureinformation.routeshow.routesinfoo.find(y => y.routesinfoodetails.otherdetails.detailsairline === name && x.info.departureinformation.ticketinfooo.stoppinfoo.showstopinfo == 1)
                            ).map(x => this.rendersinglecostFilter(x));
                        if (totalsDep.length > 0) {
                            return <div onClick={((e) => this.handleChange(e))} data-filter="itemSelected" data-stop="1" data-airline={name} data-price={this.renderTotal(parseFloat(Math.min(...totalsDep)), this.state.state_currency_cost, this.state.state_floatdigit)}>{new Intl.NumberFormat().format(this.renderTotal(Math.min(...totalsDep), this.state.state_currency_cost, this.state.state_floatdigit))}<span className="unit font_10 unit_content">{this.renderUnit([...(new Set(data.map(x => x.moneytype)))], this.state.state_currency_unit)}</span></div>
                        } else {
                            return '-';
                        }
                    }
                    minTotalByMoreStop = (data, name) => {
                        const totalsDep = data
                            .filter(x =>
                                x.info.departureinformation.routeshow.routesinfoo.find(y => y.routesinfoodetails.otherdetails.detailsairline === name && x.info.departureinformation.ticketinfooo.stoppinfoo.showstopinfo > 1)
                            ).map(x => this.rendersinglecostFilter(x));
                        if (totalsDep.length > 0) {
                            return <div onClick={((e) => this.handleChange(e))} data-filter="itemSelected" data-stop="2-3-4-5" data-airline={name} data-price={this.renderTotal(parseFloat(Math.min(...totalsDep)), this.state.state_currency_cost, this.state.state_floatdigit)}>{new Intl.NumberFormat().format(this.renderTotal(Math.min(...totalsDep), this.state.state_currency_cost, this.state.state_floatdigit))}<span className="unit font_10 unit_content">{this.renderUnit([...(new Set(data.map(x => x.moneytype)))], this.state.state_currency_unit)}</span></div>
                        } else {
                            return '-';
                        }
                    }
                    renderIsSelected(element) {
                        setTimeout(() => {
                            if (document.getElementById(`item-${element.index}`)) {
                                if (document.getElementById(`item-${element.index}`).getAttribute("data-scrolled") == 'true') {
                                    const scrollDiv = document.getElementById(`item-${element.index}`).offsetTop;
                                    window.scrollTo({ top: scrollDiv - 150, behavior: 'smooth' });
                                    setTimeout(() => {
                                        document.getElementById(`item-${element.index}`).setAttribute("data-scrolled", 'false')
                                    }, 100)
                                }
                            }
                        }, 100)
                        if (element.isSelected == true) {
                            return 'isSelected';
                        } else {
                            return '';
                        }
                    }
                    handleChange = (event) => {
                        window.scrollTo({
                            top: 0,
                            behavior: 'smooth'
                        });
                        this.handleReset(event);
                        let checktype = event.target.getAttribute("data-type")
                        let checkkey = event.target.getAttribute("data-key")
                        let isChecked = event.target.checked
                        let value = event.target.value
                        let data_attribute = event.target.getAttribute("data-filter");
                        this.itemSelected.length = 0;
                        switch (data_attribute) {
                            case 'startairline_dep':
                                if (isChecked) {
                                    this.airlines_dep.push(value + ',')
                                } else {
                                    this.airlines_dep.splice(this.airlines_dep.indexOf(value + ','), 1)
                                }
                                break;
                            case 'startairline_des':
                                if (isChecked) {
                                    this.airlines_des.push(value + ',')
                                } else {
                                    this.airlines_des.splice(this.airlines_des.indexOf(value + ','), 1)
                                }
                                break;
                            case 'stops_dep':
                                if (isChecked) {
                                    event.target.closest("div").setAttribute("class", "inner p-relative active");
                                    this.stops_dep.push(value + ',')
                                } else {
                                    event.target.closest("div").setAttribute("class", "inner p-relative");
                                    this.stops_dep.splice(this.stops_dep.indexOf(value + ','), 1)
                                }
                                break;
                            case 'stops_des':
                                if (isChecked) {
                                    event.target.closest("div").setAttribute("class", "inner p-relative active");
                                    this.stops_des.push(value + ',')
                                } else {
                                    event.target.closest("div").setAttribute("class", "inner p-relative");
                                    this.stops_des.splice(this.stops_des.indexOf(value + ','), 1)
                                }
                                break;
                            case 'isSystemFlight':
                                if (isChecked) {
                                    event.target.closest("div").setAttribute("class", "inner p-relative active");
                                    this.isSystemFlight.push(value + ',')
                                } else {
                                    event.target.closest("div").setAttribute("class", "inner p-relative");
                                    this.isSystemFlight.splice(this.isSystemFlight.indexOf(value + ','), 1)
                                }
                                break;
                            case 'fare_family':
                                if (isChecked) {
                                    event.target.closest("div").setAttribute("class", "inner p-relative active");
                                    this.fare_family.push(value + ',')
                                } else {
                                    event.target.closest("div").setAttribute("class", "inner p-relative");
                                    this.fare_family.splice(this.fare_family.indexOf(value + ','), 1)
                                }
                                break;
                            case 'itemSelected':
                                this.itemSelected.splice(0, this.itemSelected.length);
                                this.itemSelected.push(event.target.getAttribute("data-stop") + ',' + event.target.getAttribute("data-airline") + ',' + event.target.getAttribute("data-price"))

                                break;
                            case 'depTime':
                                if (isChecked) {
                                    event.target.closest("div").setAttribute("class", "inner p-relative active");
                                    this.depTime.push(value + ',')
                                } else {
                                    event.target.closest("div").setAttribute("class", "inner p-relative");
                                    this.depTime.splice(this.depTime.indexOf(value + ','), 1)
                                }
                                break;
                            case 'desTime':
                                if (isChecked) {
                                    event.target.closest("div").setAttribute("class", "inner p-relative active");
                                    this.desTime.push(value + ',')
                                } else {
                                    event.target.closest("div").setAttribute("class", "inner p-relative");
                                    this.desTime.splice(this.desTime.indexOf(value + ','), 1)
                                }
                                break;
                            case 'endairport_dep':
                                if (isChecked) {
                                    this.airports_dep.push(value + ',')
                                } else {
                                    this.airports_dep.splice(this.airports_dep.indexOf(value + ','), 1)
                                }
                                break;
                            case 'endairport_des':
                                if (isChecked) {
                                    this.airports_des.push(value + ',')
                                } else {
                                    this.airports_des.splice(this.airports_des.indexOf(value + ','), 1)
                                }
                                break;
                                case 'airbaggageDep':
                                if (isChecked) {
                                    this.airbaggageDep.push(value + ',')
                                } else {
                                    this.airbaggageDep.splice(this.airbaggageDep.indexOf(value + ','), 1)
                                }
                                break;
                            case 'airbaggageDes':
                                if (isChecked) {
                                    this.airbaggageDes.push(value + ',')
                                } else {
                                    this.airbaggageDes.splice(this.airbaggageDes.indexOf(value + ','), 1)
                                }
                                break;
                        }
                        $(document).trigger('update_result', [this.airlines_dep.join(), this.airlines_des.join(), this.airports_dep.join(), this.airports_des.join(), this.stops_dep.join(), this.stops_des.join(), this.isSystemFlight.join(), this.airbaggageDep.join(), this.airbaggageDes.join(), this.fare_family.join(), this.depTime.join(), this.desTime.join(), checktype, checkkey, this.itemSelected.join()])
                        this.setState({
                            state_airlines_dep: this.airlines_dep.join(),
                            state_airlines_des: this.airlines_des.join(),
                            state_airports_dep: this.airports_dep.join(),
                            state_airports_des: this.airports_des.join(),
                            state_stops_dep: this.stops_dep.join(),
                            state_stops_des: this.stops_des.join(),
                            state_isSystemFlight: this.isSystemFlight.join(),
                            state_airbaggageDep: this.airbaggageDep.join(),
                            state_airbaggageDes: this.airbaggageDes.join(),
                            state_fare_family: this.fare_family.join(),
                            depTime: this.depTime.join(),
                            desTime: this.desTime.join(),
                            state_checktype: checktype,
                            state_checkkey: checkkey,
                        })
                    }
                    rendertimesorting(element) {
                        let splitElement = element.split(" ")
                        let SplitElementmin = splitElement[1].slice(0, -1)
                        let SplitElementhour = parseInt(splitElement[0].slice(0, -1)) * 60
                        let sumsplits = SplitElementhour + parseInt(SplitElementmin)
                        return sumsplits
                    }
                    rendertakeoffsorting(element) {
                        let splitElement = element.split(":")
                        let SplitElementmin = splitElement[1]
                        let SplitElementhour = parseInt(splitElement[0]) * 60
                        let sumsplits = SplitElementhour + parseInt(SplitElementmin)
                        return sumsplits
                    }
                    renderStoppinfo(element) {
                        let splitElement = element.split(" ")
                        return splitElement[0].slice(0, -1)
                    }
                    renderStoppinfoF(element) {
                        let splitElement = element.split(" ")
                        return splitElement[0].slice(0, -1)

                    }
                    renderStoppinfoS(element) {
                        let splitElement = element.split(" ")
                        let SplitElementSecond = splitElement[1]
                        if (SplitElementSecond !== undefined) {
                            let SliceElementSecond = splitElement[1].slice(0, -1)
                            if (SliceElementSecond > 0) {
                                return parseInt(splitElement[0].slice(0, -1)) + 1
                            } else {
                                return splitElement[0].slice(0, -1)
                            }
                        }

                    }
                    renderCount(element) {
                        let maxPage = this.state.maxPage
                        let len = this.renderLibrary().length
                        let sum = len * maxPage
                        sum = sum || 0
                        if (sum == '0') {
                            $("#page-numbers").hide()
                            $(".message-box-nodata").show()

                        } else {
                            $("#page-numbers").show()
                            $(".message-box-nodata").hide()
                        }

                    }
                    renderhomepage = event => {
                        return window.location = '/EN'
                    }

                    renderid(element) {
                        let id = element._id
                        if (typeof id === 'string') {
                            return <input type="hidden" value={id} name="idnows" className="idws" />
                        } else if (typeof id === 'object') {
                            return <input type="hidden" value={JSON.stringify(id)} name="idws" className="idws" />
                        }
                    }
                    renderProductid(element) {
                        if (typeof element._id === 'string') {
                            return <input type="hidden" value={element._id} name="productid" className="productid" />
                        } else if (typeof element._id === 'object') {
                            return <input type="hidden" value={element._id.value} name="productid" className="productid" />
                        }
                    }
                    renderChildrenCount(element) {
                        if (element.special_cost_table) {
                            let elementAdd = 0;
                            for (let i = 0; i < element.special_cost_table.childs.length; i++) {
                                elementAdd += parseInt(element.special_cost_table.childs[i].count)
                            }
                            return elementAdd
                        } else {
                            return element.childs.count
                        }
                    }
                    renderInfantsCount(element) {
                        if (element.special_cost_table) {
                            let elementAdd = 0;
                            for (let i = 0; i < element.special_cost_table.infants.length; i++) {
                                elementAdd += parseInt(element.special_cost_table.infants[i].count)
                            }
                            return elementAdd
                        } else {
                            return element.infants.count
                        }
                    }
                    renderAdultsCount(element) {
                        if (element.special_cost_table) {
                            let elementAdd = 0;
                            for (let i = 0; i < element.special_cost_table.adults.length; i++) {
                                elementAdd += parseInt(element.special_cost_table.adults[i].count)
                            }
                            return elementAdd
                        } else {
                            return element.adults.count
                        }
                    }
                    renderprovider(element) {
                        let provider = element._id.provider
                        if (provider == undefined) {
                            return '';
                        } else {
                            return <input type="hidden" value={JSON.stringify(provider)} name="mainprovider" />
                        }
                    }
                    renderproviderId(element) {
                        let provider = element.provider
                        if (provider == undefined) {
                            return <input type="hidden" value="0" name="provider" />;
                        } else {
                            let providerId = element.provider.provider_id
                            return <input type="hidden" value={providerId} name="provider" />;
                        }
                    }
                    rendershare(element) {
                        let share = element.share
                        if (share == undefined) {
                            return <input type="hidden" value="0" name="share" />;
                        } else {
                            return <input type="hidden" value={share} name="share" />;
                        }
                    }
                    //bitaa
                    renderTotal(element, currency_cost, floatdigit) {
                        if (floatdigit == '') {
                            return element * currency_cost;
                        } else {
                            let toString_element = (element * currency_cost).toString();
                            if (floatdigit >= 0) {
                                if (toString_element.indexOf('.') > -1) {
                                    let parseFloat_element = parseFloat(toString_element).toFixed(floatdigit).toString();
                                    let parseFloat_element_split = parseFloat_element.split('.');
                                    if (parseFloat_element_split[1].indexOf('0') > -1) {
                                        return parseFloat(element * currency_cost).toFixed(1).toString();
                                    } else {
                                        return parseFloat(element * currency_cost).toFixed(floatdigit).toString();
                                    }
                                } else {
                                    return parseFloat(element * currency_cost).toFixed(floatdigit).toString();
                                }
                            } else {
                                let multiplier = Math.pow(10, Math.abs(floatdigit));
                                let parseFloat_element = Math.round(toString_element * multiplier) / multiplier;
                                return parseFloat_element;
                            }
                        }
                    }
                    renderUnit(element, currency_unit) {
                        if (currency_unit == '') {
                            return element;
                        } else {
                            return currency_unit;
                        }

                    }
                    renderCommission(element) {
                        if (element.commissioncost == 0) {
                            return ''
                        } else {
                            return <div className="commission-content"><div className="cost-item"><span className="font_10"> Price
                                :</span><span className="item-cost font_12 font-weight">{new Intl.NumberFormat().format(this.renderTotal(element.total, this.state.state_currency_cost, this.state.state_floatdigit))}</span><span
                                    className="font_11 unit">{this.renderUnit(element.moneytype, this.state.state_currency_unit)}</span></div>
                                <div className="cost-item"><span className="font_10">Commission
                                    :</span><span className="item-cost font_12 font-weight">{new Intl.NumberFormat().format(this.renderTotal(element.commissioncost, this.state.state_currency_cost, this.state.state_floatdigit))}</span><span
                                        className="font_11 unit">{this.renderUnit(element.moneytype, this.state.state_currency_unit)}</span></div>
                                <div className="cost-item"><span className="font_10">Total
                                    :</span><span className="item-cost font_12 font-weight">{new Intl.NumberFormat().format(this.renderTotal(element.totalCom, this.state.state_currency_cost, this.state.state_floatdigit))}</span><span
                                        className="font_11 unit">{this.renderUnit(element.moneytype, this.state.state_currency_unit)}</span></div>
                            </div>
                        }
                    }

                    rendersinglecost(element) {
                        if (element.special_cost_table) {
                            return new Intl.NumberFormat().format(this.renderTotal(element.special_cost_table.adults[0].unit, this.state.state_currency_cost, this.state.state_floatdigit))
                        } else {
                            return new Intl.NumberFormat().format(this.renderTotal(element.adults.unit, this.state.state_currency_cost, this.state.state_floatdigit))
                        }
                    }
                    renderFlightDetails(element, deps) {
                        let len = element.routeshow.routesinfoo.length
                        let indents = [];
                        for (let i = 0; i < len; i++) {
                            indents.push(<div className="details-item p-relative">
                                {this.renderDetailOperatingAirline(element.routeshow.routesinfoo[i].routesinfoodetails.otherdetails)}
                                <p className="font_14 details-head font-weight">{this.renderDepOrDes(deps)} ({element.routeshow.routesinfoo[i].routesinfoodetails.detailscityinfo.detailsstartcity} - {element.routeshow.routesinfoo[i].routesinfoodetails.detailscityinfo.detailsendcity})</p>
                                <div className="content d-row font_13 text-center">
                                    <div className="details-col d-flex">
                                        <div className="img"> <img src={element.routeshow.routesinfoo[i].routesinfoodetails.otherdetails.detailsairlineimage} alt={element.routeshow.routesinfoo[i].routesinfoodetails.otherdetails.detailsairline} width="60" height="24" /></div>
                                        <div>
                                            <div className="city_name"><span>{element.routeshow.routesinfoo[i].routesinfoodetails.otherdetails.detailsexittimeinfo.detailsexitairport}</span></div>
                                            <div><span className="city_hour font_14">{element.routeshow.routesinfoo[i].routesinfoodetails.otherdetails.detailsexittimeinfo.detailsexittime}</span><span className="font_12">({element.routeshow.routesinfoo[i].routesinfoodetails.otherdetails.detailsexittimeinfo.exit_date.mstring})</span></div>
                                        </div>
                                    </div>
                                    <div className="details-col details-circle p-relative">
                                        <div className="details-row-first"></div>
                                        <div className="duration-time_text">Flight Duration: {element.routeshow.routesinfoo[i].routesinfoodetails.otherdetails.detailstiming}</div>
                                        <div style={{ marginTop: "0.5em" }}>
                                            <span className="class-item font_10">Class: {element.routeshow.routesinfoo[i].classCode}</span><span>/</span><span className="class-item font_10">{element.ticketinfooo.classes.classname}</span> <span>-</span> <span
                                                className="code-item font_10">Flight Number: {element.routeshow.routesinfoo[i].routesinfoodetails.otherdetails.detailsroutecode}</span>
                                            <div className="font_11" style={{ marginTop: "0.5em" }}>{this.renderairbaggage(element.routeshow.routesinfoo[i])}</div>
                                        </div>
                                    </div>
                                    <div className="details-col">
                                        <div className="city_name"><span>{element.routeshow.routesinfoo[i].routesinfoodetails.otherdetails.detailsarrivaltimeinfo.detailsarrivalairport}</span></div>
                                        <div><span className="city_hour font_14">{element.routeshow.routesinfoo[i].routesinfoodetails.otherdetails.detailsarrivaltimeinfo.detailsarrivaltime}</span><span className="font_12">({element.routeshow.routesinfoo[i].routesinfoodetails.otherdetails.detailsarrivaltimeinfo.arrival_date.mstring})</span></div>
                                    </div>
                                </div>
                                <div className="details-col connection-time p-absolute">
                                    {this.renderconnectiontime(element.routeshow.routesinfoo[i].routesinfoodetails.otherdetails.connectionTime)}
                                </div>
                            </div>);
                        }
                        return (
                            indents
                        )
                    }
                    renderDetailOperatingAirline(element) {
                        if (element.detailoperatingairline) {
                            return <div className="detail-operating-airline"><i className="fa fa-info-circle"></i>
                                Operating by <span className="font-weight">{element.detailoperatingairline}<span>({element.detailsoperatingairlinecode})</span></span>.
                            </div>
                        } else {
                            return ''
                        }
                    }
                    renderDepOrDes(element) {
                        if (element == 'dep') {
                            return 'Departure '
                        } else {
                            return 'Arrival '
                        }
                    }
                    renderCost_info(element) {
                        if (element.special_cost_table) {
                            return <input type="hidden" name="cost-info" value={JSON.stringify(element.special_cost_table)} />;
                        } else {
                            const obj = new Object();
                            obj["adults"] = element.adults;
                            obj["childs"] = element.childs;
                            obj["infant"] = element.infants;
                            return <input type="hidden" name="cost-info" value={JSON.stringify(obj)} />;
                        }
                    }
                    renderCost_table(element) {
                        if (element.special_cost_table) {
                            return <tbody>
                                {this.renderSpecial_cost_table_adults(element.special_cost_table.adults)}
                                {this.renderSpecial_cost_table_childs(element.special_cost_table.childs)}
                                {this.renderSpecial_cost_table_infants(element.special_cost_table.infants)}
                            </tbody>
                        } else {
                            return <tbody><tr>
                                <td>Adult</td>
                                <td>{element.adults.count}</td>
                                <td><span className="font_11 unit_content">{this.renderUnit(element.moneytype, this.state.state_currency_unit)}</span>{new Intl.NumberFormat().format(this.renderTotal(element.adults.unit, this.state.state_currency_cost, this.state.state_floatdigit))}</td>
                                <td><span className="font_11 unit_content">{this.renderUnit(element.moneytype, this.state.state_currency_unit)}</span>{new Intl.NumberFormat().format(this.renderTotal(element.adults.baseFare, this.state.state_currency_cost, this.state.state_floatdigit))}</td>
                                {this.renderTax(this.renderTotal(element.adults.tax, this.state.state_currency_cost, this.state.state_floatdigit), this.renderUnit(element.moneytype, this.state.state_currency_unit))}
                                <td><span className="font_11 unit_content">{this.renderUnit(element.moneytype, this.state.state_currency_unit)}</span>{new Intl.NumberFormat().format(this.renderTotal(element.adults.total, this.state.state_currency_cost, this.state.state_floatdigit))}</td>
                            </tr>
                                {this.renderTolCh(element.childs)}
                                {this.renderTolInf(element.infants)}</tbody>
                        }
                    }

                    renderTolCh(element) {
                        if (element.count == 0) {
                            return '';
                        } else {
                            return <tr>
                                <td>Child</td>
                                <td>{element.count}</td>
                                <td><span className="font_11 unit_content">{this.renderUnit(element.moneytype, this.state.state_currency_unit)}</span>{new Intl.NumberFormat().format(this.renderTotal(element.unit, this.state.state_currency_cost, this.state.state_floatdigit))}</td>
                                <td><span className="font_11 unit_content">{this.renderUnit(element.moneytype, this.state.state_currency_unit)}</span>{new Intl.NumberFormat().format(this.renderTotal(element.baseFare, this.state.state_currency_cost, this.state.state_floatdigit))}</td>
                                {this.renderTax(this.renderTotal(element.tax, this.state.state_currency_cost, this.state.state_floatdigit), this.renderUnit(element.moneytype, this.state.state_currency_unit))}
                                <td><span className="font_11 unit_content">{this.renderUnit(element.moneytype, this.state.state_currency_unit)}</span>{new Intl.NumberFormat().format(this.renderTotal(element.total, this.state.state_currency_cost, this.state.state_floatdigit))}</td>
                            </tr>
                        }
                    }
                    renderTolInf(element) {
                        if (element.count == 0) {
                            return '';
                        } else {
                            return <tr>
                                <td>Infant</td>
                                <td>{element.count}</td>
                                <td><span className="font_11 unit_content">{this.renderUnit(element.moneytype, this.state.state_currency_unit)}</span>{new Intl.NumberFormat().format(this.renderTotal(element.unit, this.state.state_currency_cost, this.state.state_floatdigit))}</td>
                                <td><span className="font_11 unit_content">{this.renderUnit(element.moneytype, this.state.state_currency_unit)}</span>{new Intl.NumberFormat().format(this.renderTotal(element.baseFare, this.state.state_currency_cost, this.state.state_floatdigit))}</td>
                                {this.renderTax(this.renderTotal(element.tax, this.state.state_currency_cost, this.state.state_floatdigit), this.renderUnit(element.moneytype, this.state.state_currency_unit))}
                                <td><span className="font_11 unit_content">{this.renderUnit(element.moneytype, this.state.state_currency_unit)}</span>{new Intl.NumberFormat().format(this.renderTotal(element.total, this.state.state_currency_cost, this.state.state_floatdigit))}</td>
                            </tr>
                        }
                    }

                    renderSpecial_cost_table_adults(element) {
                        let elementAdd = []
                        for (let i = 0; i < element.length; i++) {
                            elementAdd.push(<tr>
                                <td>Adult</td>
                                <td>{element[i].count}</td>
                                <td><span className="font_11 unit_content">{this.renderUnit(element[i].moneytype, this.state.state_currency_unit)}</span>{new Intl.NumberFormat().format(this.renderTotal(element[i].unit, this.state.state_currency_cost, this.state.state_floatdigit))}</td>
                                <td><span className="font_11 unit_content">{this.renderUnit(element[i].moneytype, this.state.state_currency_unit)}</span>{new Intl.NumberFormat().format(this.renderTotal(element[i].baseFare, this.state.state_currency_cost, this.state.state_floatdigit))}</td>
                                {this.renderTax(this.renderTotal(element[i].tax, this.state.state_currency_cost, this.state.state_floatdigit), this.renderUnit(element.moneytype, this.state.state_currency_unit))}
                                <td><span className="font_11 unit_content">{this.renderUnit(element[i].moneytype, this.state.state_currency_unit)}</span>{new Intl.NumberFormat().format(this.renderTotal(element[i].total, this.state.state_currency_cost, this.state.state_floatdigit))}</td>
                            </tr>)
                        }
                        return elementAdd
                    }
                    renderSpecial_cost_table_childs(element) {
                        let elementAdd = []
                        for (let i = 0; i < element.length; i++) {
                            elementAdd.push(<tr>
                                <td>Child</td>
                                <td>{element[i].count}</td>
                                <td><span className="font_11 unit_content">{this.renderUnit(element[i].moneytype, this.state.state_currency_unit)}</span>{new Intl.NumberFormat().format(this.renderTotal(element[i].unit, this.state.state_currency_cost, this.state.state_floatdigit))}</td>
                                <td><span className="font_11 unit_content">{this.renderUnit(element[i].moneytype, this.state.state_currency_unit)}</span>{new Intl.NumberFormat().format(this.renderTotal(element[i].baseFare, this.state.state_currency_cost, this.state.state_floatdigit))}</td>
                                {this.renderTax(this.renderTotal(element[i].tax, this.state.state_currency_cost, this.state.state_floatdigit), this.renderUnit(element.moneytype, this.state.state_currency_unit))}
                                <td><span className="font_11 unit_content">{this.renderUnit(element[i].moneytype, this.state.state_currency_unit)}</span>{new Intl.NumberFormat().format(this.renderTotal(element[i].total, this.state.state_currency_cost, this.state.state_floatdigit))}</td>
                            </tr>)
                        }
                        return elementAdd
                    }
                    renderSpecial_cost_table_infants(element) {
                        let elementAdd = []
                        for (let i = 0; i < element.length; i++) {
                            elementAdd.push(<tr>
                                <td>Infant</td>
                                <td>{element[i].count}</td>
                                <td><span className="font_11 unit_content">{this.renderUnit(element[i].moneytype, this.state.state_currency_unit)}</span>{new Intl.NumberFormat().format(this.renderTotal(element[i].unit, this.state.state_currency_cost, this.state.state_floatdigit))}</td>
                                <td><span className="font_11 unit_content">{this.renderUnit(element[i].moneytype, this.state.state_currency_unit)}</span>{new Intl.NumberFormat().format(this.renderTotal(element[i].baseFare, this.state.state_currency_cost, this.state.state_floatdigit))}</td>
                                {this.renderTax(this.renderTotal(element[i].tax, this.state.state_currency_cost, this.state.state_floatdigit), this.renderUnit(element.moneytype, this.state.state_currency_unit))}
                                <td><span className="font_11 unit_content">{this.renderUnit(element[i].moneytype, this.state.state_currency_unit)}</span>{new Intl.NumberFormat().format(this.renderTotal(element[i].total, this.state.state_currency_cost, this.state.state_floatdigit))}</td>
                            </tr>)
                        }
                        return elementAdd
                    }


                    renderTax(element, moneytype) {
                        if (element == 0) {
                            return <td>0</td>;
                        } else {
                            return <td><span className="font_11 unit_content">{moneytype}</span>{new
                                Intl.NumberFormat().format(element)}</td>
                        }
                    }




                    renderStopinfo(element) {
                        if (element.ticketinfooo.stoppinfoo.showstopinfo == 0) {
                            return <div className="duration-line p-relative no-stop">
                                <svg className="svg-icon p-absolute" width="25" height="25"
                                    viewBox="0 0 28.284 28.284">
                                    <g>
                                        <path
                                            d="M19.435.565a1.929 1.929 0 0 0-2.756.028l-4.1 4.269-10-3.309-2.1 2.1 8.339 5.131L4.6 13.179l-2.7-.444L0 14.632l3.976 1.393L5.368 20l1.9-1.9-.444-2.7 4.394-4.217 5.131 8.334 2.1-2.1-3.309-10 4.269-4.1a1.929 1.929 0 0 0 .026-2.752z"
                                            transform="rotate(-135 12.929 11.213)"
                                        >
                                        </path>
                                    </g>
                                </svg>
                                <i
                                    className="flaticon-map-marker p-absolute font_17 color_2"></i>
                            </div>
                        } else {
                            return <div className="duration-line p-relative has-stop">
                                {this.renderCountStop(element)}
                                <svg className="svg-icon p-absolute" width="25" height="25"
                                    viewBox="0 0 28.284 28.284">
                                    <g>
                                        <path
                                            d="M19.435.565a1.929 1.929 0 0 0-2.756.028l-4.1 4.269-10-3.309-2.1 2.1 8.339 5.131L4.6 13.179l-2.7-.444L0 14.632l3.976 1.393L5.368 20l1.9-1.9-.444-2.7 4.394-4.217 5.131 8.334 2.1-2.1-3.309-10 4.269-4.1a1.929 1.929 0 0 0 .026-2.752z"
                                            transform="rotate(-135 12.929 11.213)"
                                        >
                                        </path>
                                    </g>
                                </svg>
                                <i
                                    className="flaticon-map-marker p-absolute font_17 color_2"></i>
                            </div>
                        }
                    }
                    renderCountStop(element) {
                        let indents = [];
                        for (let i = 0; i < element.ticketinfooo.stoppinfoo.showstopinfo; i++) {
                            indents.push(<div className="flight-duration-stop p-relative"><span className="stop-item p-absolute font_10">{this.renderAbbreviationAirport(element.routeshow.routesinfoo[i].routesinfoodetails.otherdetails.detailsarrivaltimeinfo.detailsarrivalairport)}</span><span className="stop-tooltip p-absolute transition">{element.routeshow.routesinfoo[i].routesinfoodetails.detailscityinfo.detailsendcity}</span>
                            </div>)
                        }
                        return (indents)
                    }
                    renderAbbreviationAirport(element) {
                        let element_splited = element.split("/")
                        return element_splited[1]
                    }

                    renderProviderName(element) {
                        if (element._id.provider == undefined) {
                            const providerName = this.state.data_provider
                                .filter((x) => x.id === 0)
                                .map((x) => x.name);
                            return <div className="provider_name_F color_1 font_11">{providerName}</div>;
                        } else {
                            const providerName = this.state.data_provider
                                .filter((x) => x.id === parseInt(element._id.provider.provider_id))
                                .map((x) => x.name);
                            return <div className="provider_name_F color_1 font_11">{providerName}</div>;
                        }


                    }
                    renderseatcount(element) {
                        if (element.ticketinfooo.classes.seatcount !== '-') {
                            if (element.ticketinfooo.classes.seatcount !== undefined) {
                                return <div className="seatcount font_10 text-center p-absolute border-radius b2b"><span>{element.ticketinfooo.classes.seatcount}</span><span>Left Seat</span></div>
                            }
                        }
                    }
                    renderairbaggage(element) {
                        if (element.airbaggage !== '-') {
                            if (element.airbaggage !== undefined) {
                                let airbaggage = element.airbaggage
                                return <div className="airbaggage dir-ltr"><svg viewBox="0 0 20 23" width="1.1rem" height="1.1rem" fill="currentColor" class="text-grays-400" data-v-73e1bbdf=""><path d="M8.107 2.8a.8.8 0 0 1 .8-.8h5.5a.8.8 0 0 1 0 1.6h-5.5a.8.8 0 0 1-.8-.8Zm6.9 5.7h-7a1.5 1.5 0 0 0-1.5 1.5v8a1.5 1.5 0 0 0 1.5 1.5h7a1.5 1.5 0 0 0 1.5-1.5v-8a1.5 1.5 0 0 0-1.5-1.5Zm-7-1.5a3 3 0 0 0-3 3v8a3 3 0 0 0 2.218 2.897 1.181 1.181 0 0 0-.018.224v.22a1.65 1.65 0 0 0 3.3 0v-.22c0-.043-.002-.083-.005-.121h2.01a1.421 1.421 0 0 0-.005.12v.22a1.65 1.65 0 0 0 3.3 0v-.22c0-.085-.007-.159-.02-.223A3.001 3.001 0 0 0 18.008 18v-8a3 3 0 0 0-3-3h-1.1V3.6h-1.4V7h-1.6V3.6h-1.4V7h-1.5Zm6.686 14c.009.039.014.08.014.12v.22a.55.55 0 0 1-1.1 0v-.22c0-.04.004-.081.013-.12h1.073Zm-6.386.12c0-.04.004-.081.013-.12h1.073c.009.039.014.08.014.12v.22a.55.55 0 0 1-1.1 0v-.22Zm.2-10.82a.6.6 0 0 0-.6.6v6.452a.6.6 0 0 0 1.2 0V10.9a.6.6 0 0 0-.6-.6Zm2.956 0a.6.6 0 0 0-.6.6v6.452a.6.6 0 0 0 1.2 0V10.9a.6.6 0 0 0-.6-.6Zm2.357.6a.6.6 0 1 1 1.2 0v6.452a.6.6 0 0 1-1.2 0V10.9Z" fill-rule="evenodd"></path></svg><span>{airbaggage}</span></div>
                            }
                        }
                    }
                    renderconnectiontime(element) {
                        if (element !== undefined) {
                            let connectiontime = parseFloat(element)
                            if (connectiontime !== 0) {
                                const hours = Math.floor(connectiontime / 60);
                                const minutes = connectiontime % 60;
                                return <div className="p-relative"><span className="connection-time-line"></span><span className="connection-time-text">Connection Time: <span className="bold-hour">{hours}:{minutes}</span></span></div>
                            }
                        }
                    }
                    renderisSystemFlight(element) {
                        let keyToLowerCase = {};
                        for (var key in element) {
                            keyToLowerCase[key.toLowerCase()] = element[key];
                        }
                        if (keyToLowerCase.issystemflight == 'true') {
                            return 'Systemic'
                        } else {
                            return 'Charter'
                        }
                    }
                    renderRule(element, i, index) {
                        if (typeof element.info.departureinformation.routeshow.description === 'string') {
                            return <div className="details-item">
                                <div className="title font_14" onClick={e => this.ruleDep(e, element, i, index,'string')}><span className="clicked font-weight cursor-pointer">Click</span> to view departure flight rules</div>
                                <div dir="auto" className={`text-justify max-height font_13 info-loaded ruleDepTxt-${index}`}>{this.state.ruleDepTxt[i]}</div>
                                <div className="title font_14" onClick={e => this.ruleDes(e, element, i, index,'string')}><span className="clicked font-weight cursor-pointer">Click</span> to view arrival flight rules</div>
                                <div dir="auto" className={`text-justify max-height font_13 info-loaded ruleDesTxt-${index}`}>{this.state.ruleDesTxt[i]}</div>
                            </div>
                            
                        } else {
                            return <div className="details-item">
                                <input type="hidden" value="object" name="type-description" />
                                <div className="title font_14" onClick={e => this.ruleDep(e, element, i, index, 'object')}><span className="clicked font-weight cursor-pointer">Click</span> to view departure flight rules</div>
                                <div key={i} className={`${!this.state.loadingRuleDep[i] ? "unvisible" : "visible"}`}>
                                    <div id="ballsWaveG">
                                        <div id="ballsWaveG_1" className="ballsWaveG"></div>
                                        <div id="ballsWaveG_2" className="ballsWaveG"></div>
                                        <div id="ballsWaveG_3" className="ballsWaveG"></div>
                                        <div id="ballsWaveG_4" className="ballsWaveG"></div>
                                        <div id="ballsWaveG_5" className="ballsWaveG"></div>
                                        <div id="ballsWaveG_6" className="ballsWaveG"></div>
                                        <div id="ballsWaveG_7" className="ballsWaveG"></div>
                                        <div id="ballsWaveG_8" className="ballsWaveG"></div>
                                    </div>
                                </div>
                                <div dir="auto" className={`text-justify max-height font_13 info-loaded ruleDepTxt-${index}`}>{this.state.ruleDepTxt[i]}</div>
                                <div className="title font_14" onClick={e => this.ruleDes(e, element, i, index, 'object')}><span className="clicked font-weight cursor-pointer">Click</span> to view arrival flight rules</div>
                                <div key={i} className={`${!this.state.loadingRuleDes[i] ? "unvisible" : "visible"}`}>
                                    <div id="ballsWaveG">
                                        <div id="ballsWaveG_1" className="ballsWaveG"></div>
                                        <div id="ballsWaveG_2" className="ballsWaveG"></div>
                                        <div id="ballsWaveG_3" className="ballsWaveG"></div>
                                        <div id="ballsWaveG_4" className="ballsWaveG"></div>
                                        <div id="ballsWaveG_5" className="ballsWaveG"></div>
                                        <div id="ballsWaveG_6" className="ballsWaveG"></div>
                                        <div id="ballsWaveG_7" className="ballsWaveG"></div>
                                        <div id="ballsWaveG_8" className="ballsWaveG"></div>
                                    </div>
                                </div>
                                <div dir="auto" className={`text-justify max-height font_13 info-loaded ruleDesTxt-${index}`}>{this.state.ruleDesTxt[i]}</div>
                            </div>
                        }
                    }
                    renderBar(element, i, index) {
                        if (typeof element.info.departureinformation.routeshow.description === 'string') {
                            return <div className="details-item">
                                <div className="title font_14" onClick={e => this.bardep(e, element, i, index,'string')}><span className="clicked font-weight cursor-pointer">Click</span> to view departure baggage rules</div>
                                <div dir="auto" className={`text-justify max-height font_13 info-loaded barDepTxt-${index}`}>{this.state.barDepTxt[i]}</div>
                                <div className="title font_14" onClick={e => this.bardes(e, element, i, index,'string')}><span className="clicked font-weight cursor-pointer">Click</span> to view arrival baggage rules</div>
                                <div dir="auto" className={`text-justify max-height font_13 info-loaded barDesTxt-${index}`}>{this.state.barDesTxt[i]}</div>
                            </div>
                        } else {
                            return <div className="details-item">
                                <input type="hidden" value={JSON.stringify(element.info.departureinformation.routeshow.description)} name="description-dep" />
                                <input type="hidden" value={JSON.stringify(element.info.returninformation.routeshow.description)} name="description-des" />
                                <div className="title font_14" onClick={e => this.bardep(e, element, i, index, 'object')}><span className="clicked font-weight cursor-pointer">Click</span> to view departure baggage rules</div>
                                <div key={i} className={`${!this.state.loadingBarDep[i] ? "unvisible" : "visible"}`}>
                                    <div id="ballsWaveG">
                                        <div id="ballsWaveG_1" className="ballsWaveG"></div>
                                        <div id="ballsWaveG_2" className="ballsWaveG"></div>
                                        <div id="ballsWaveG_3" className="ballsWaveG"></div>
                                        <div id="ballsWaveG_4" className="ballsWaveG"></div>
                                        <div id="ballsWaveG_5" className="ballsWaveG"></div>
                                        <div id="ballsWaveG_6" className="ballsWaveG"></div>
                                        <div id="ballsWaveG_7" className="ballsWaveG"></div>
                                        <div id="ballsWaveG_8" className="ballsWaveG"></div>
                                    </div>
                                </div>
                                <div dir="auto" className={`text-justify max-height font_13 info-loaded barDepTxt-${index}`}>{this.state.barDepTxt[i]}</div>
                                <div className="title font_14" onClick={e => this.bardes(e, element, i, index, 'object')}><span className="clicked font-weight cursor-pointer">Click</span> to view arrival baggage rules</div>
                                <div key={i} className={`${!this.state.loadingBarDes[i] ? "unvisible" : "visible"}`}>
                                    <div id="ballsWaveG">
                                        <div id="ballsWaveG_1" className="ballsWaveG"></div>
                                        <div id="ballsWaveG_2" className="ballsWaveG"></div>
                                        <div id="ballsWaveG_3" className="ballsWaveG"></div>
                                        <div id="ballsWaveG_4" className="ballsWaveG"></div>
                                        <div id="ballsWaveG_5" className="ballsWaveG"></div>
                                        <div id="ballsWaveG_6" className="ballsWaveG"></div>
                                        <div id="ballsWaveG_7" className="ballsWaveG"></div>
                                        <div id="ballsWaveG_8" className="ballsWaveG"></div>
                                    </div>
                                </div>
                                <div dir="auto" className={`text-justify max-height font_13 info-loaded barDesTxt-${index}`}>{this.state.barDesTxt[i]}</div>
                            </div>
                        }
                    }
                    ruleDep = (e, element, i, index, type) => {
                        if (type == 'string') {
                            document.querySelector(`.ruleDepTxt-${index}`).innerHTML = element.info.departureinformation.routeshow.description
                        } else {
                        this.showloadingRuleDep(e, i);
                        const obj = new Object();
                        obj["id"] = element._id
                        obj["adults"] = element.adults.count
                        obj["childs"] = element.childs.count
                        obj["infant"] = element.infants.count
                        delete obj["bar_info"];
                        fetch("/Client_Flight_Rule.bc?lid=2", {
                            method: "POST",
                            body: `id=${JSON.stringify(obj)}&clid= 2`
                        }).then(response => response.text()).then(text => {
                            document.querySelector(`.ruleDepTxt-${index}`).innerHTML = text
                            this.setState(prevState => ({
                                loadingRuleDep: { ...prevState.loadingRuleDep, [i]: "" }
                            }))
                        }).catch(error => console.error(error))
                    }
                }
                ruleDes = (e, element, i, index, type) => {
                        if (type == 'string') {
                            document.querySelector(`.ruleDesTxt-${index}`).innerHTML = element.info.returninformation.routeshow.description
                        } else {
                        this.showloadingRuleDes(e, i);
                        const obj = new Object();
                        obj["id"] = element._id
                        obj["adults"] = element.adults.count
                        obj["childs"] = element.childs.count
                        obj["infant"] = element.infants.count
                        delete obj["bar_info"];
                        fetch("/Client_Flight_Rule.bc?lid=2", {
                            method: "POST",
                            body: `id=${JSON.stringify(obj)}&clid= 2`
                        }).then(response => response.text()).then(text => {
                            document.querySelector(`.ruleDesTxt-${index}`).innerHTML = text
                            this.setState(prevState => ({
                                loadingRuleDes: { ...prevState.loadingRuleDes, [i]: "" }
                            }))
                        }).catch(error => console.error(error))
                    }
                    }
                    bardep  =(e, element, i, index, type) => {
                        if (type == 'string') {
                            document.querySelector(`.barDepTxt-${index}`).innerHTML = `<div><span className="text-color">Cabin: </span><span>${element.info.departureinformation.bar.bar1}</span></div>
                                    <div><span className="text-color">Allowable: </span><span>${element.info.departureinformation.bar.bar2}</span></div>`
                        } else {
                        this.showloadingBarDep(e, i);
                        fetch("/Client_Baggage_Rule.bc?lid=2", {
                            method: "POST",
                            body: `id=${JSON.stringify(element.info.departureinformation.routeshow.description)}&clid= 2`
                        }).then(response => response.text()).then(text => {
                            document.querySelector(`.barDepTxt-${index}`).innerHTML = text
                            this.setState(prevState => ({

                                loadingBarDep: { ...prevState.loadingBarDep, [i]: "" }
                            }))
                        }).catch(error => console.error(error))
                    }
                    };
                    bardes = (e, element, i, index, type) => {
                        if (type == 'string') {
                            document.querySelector(`.barDesTxt-${index}`).innerHTML = `<div><span className="text-color">Cabin: </span><span>${element.info.returninformation.bar.bar1}</span></div>
                                    <div><span className="text-color">Allowable: </span><span>${element.info.returninformation.bar.bar2}</span></div>`
                        } else {
                        this.showloadingBarDes(e, i);
                        fetch("/Client_Baggage_Rule.bc?lid=2", {
                            method: "POST",
                            body: `id=${JSON.stringify(element.info.returninformation.routeshow.description)}&clid= 2`
                        }).then(response => response.text()).then(text => {
                            document.querySelector(`.barDesTxt-${index}`).innerHTML = text
                            this.setState(prevState => ({

                                loadingBarDes: { ...prevState.loadingBarDes, [i]: "" }
                            }))
                        }).catch(error => console.error(error))
                    }
                    };
                    showAllDetails = (e, i, index) => {
                        document.getElementById(`item-${index}`).classList.remove("isSelected");
                        document.getElementById(`item-${index}`).setAttribute("data-scrolled", "false");
                        this.setState(prevState => ({
                            visibleAll: { ...prevState.visibleAll, [i]: !prevState.visibleAll[i] },
                            visibleDetails: { ...prevState.visibleDetails, [i]: !prevState.visibleDetails[i] },
                            activeTab_details: { ...prevState.activeTab_details, [i]: !prevState.activeTab_details[i] }
                        }))
                    }
                    showDetails = (e, i) => {
                        this.setState(prevState => ({
                            visibleDetails: { ...prevState.visibleDetails, [i]: !prevState.visibleDetails[i] },
                            activeTab_details: { ...prevState.activeTab_details, [i]: !prevState.activeTab_details[i] }
                        }))
                        if (this.state.visibleBar[i] == true) {
                            this.setState(prevState => ({
                                visibleBar: { ...prevState.visibleBar, [i]: !prevState.visibleBar[i] },
                                activeTab_bar: { ...prevState.activeTab_bar, [i]: !prevState.activeTab_bar[i] }
                            }))
                        }
                        if (this.state.visiblePrice[i] == true) {
                            this.setState(prevState => ({
                                visiblePrice: { ...prevState.visiblePrice, [i]: !prevState.visiblePrice[i] },
                                activeTab_price: { ...prevState.activeTab_price, [i]: !prevState.activeTab_price[i] }
                            }))
                        }
                        if (this.state.visibleRule[i] == true) {
                            this.setState(prevState => ({
                                visibleRule: { ...prevState.visibleRule, [i]: !prevState.visibleRule[i] },
                                activeTab_rule: { ...prevState.activeTab_rule, [i]: !prevState.activeTab_rule[i] }
                            }))
                        }
                    }

                    showBar = (e, i) => {
                        this.setState(prevState => ({
                            visibleBar: { ...prevState.visibleBar, [i]: !prevState.visibleBar[i] },
                            activeTab_bar: { ...prevState.activeTab_bar, [i]: !prevState.activeTab_bar[i] }
                        }))
                        if (this.state.visibleDetails[i] == true) {
                            this.setState(prevState => ({
                                visibleDetails: { ...prevState.visibleDetails, [i]: !prevState.visibleDetails[i] },
                                activeTab_details: { ...prevState.activeTab_details, [i]: !prevState.activeTab_details[i] }
                            }))
                        }
                        if (this.state.visiblePrice[i] == true) {
                            this.setState(prevState => ({
                                visiblePrice: { ...prevState.visiblePrice, [i]: !prevState.visiblePrice[i] },
                                activeTab_price: { ...prevState.activeTab_price, [i]: !prevState.activeTab_price[i] }
                            }))
                        }
                        if (this.state.visibleRule[i] == true) {
                            this.setState(prevState => ({
                                visibleRule: { ...prevState.visibleRule, [i]: !prevState.visibleRule[i] },
                                activeTab_rule: { ...prevState.activeTab_rule, [i]: !prevState.activeTab_rule[i] }
                            }))
                        }
                    }
                    showPrice = (e, i) => {
                        this.setState(prevState => ({
                            visiblePrice: { ...prevState.visiblePrice, [i]: !prevState.visiblePrice[i] },
                            activeTab_price: { ...prevState.activeTab_price, [i]: !prevState.activeTab_price[i] }
                        }))
                        if (this.state.visibleDetails[i] == true) {
                            this.setState(prevState => ({
                                visibleDetails: { ...prevState.visibleDetails, [i]: !prevState.visibleDetails[i] },
                                activeTab_details: { ...prevState.activeTab_details, [i]: !prevState.activeTab_details[i] }
                            }))
                        }
                        if (this.state.visibleBar[i] == true) {
                            this.setState(prevState => ({
                                visibleBar: { ...prevState.visibleBar, [i]: !prevState.visibleBar[i] },
                                activeTab_bar: { ...prevState.activeTab_bar, [i]: !prevState.activeTab_bar[i] }
                            }))
                        }
                        if (this.state.visibleRule[i] == true) {
                            this.setState(prevState => ({
                                visibleRule: { ...prevState.visibleRule, [i]: !prevState.visibleRule[i] },
                                activeTab_rule: { ...prevState.activeTab_rule, [i]: !prevState.activeTab_rule[i] }
                            }))
                        }
                    }
                    showRule = (e, i) => {
                        this.setState(prevState => ({
                            visibleRule: { ...prevState.visibleRule, [i]: !prevState.visibleRule[i] },
                            activeTab_rule: { ...prevState.activeTab_rule, [i]: !prevState.activeTab_rule[i] }
                        }))
                        if (this.state.visibleDetails[i] == true) {
                            this.setState(prevState => ({
                                visibleDetails: { ...prevState.visibleDetails, [i]: !prevState.visibleDetails[i] },
                                activeTab_details: { ...prevState.activeTab_details, [i]: !prevState.activeTab_details[i] }
                            }))
                        }
                        if (this.state.visibleBar[i] == true) {
                            this.setState(prevState => ({
                                visibleBar: { ...prevState.visibleBar, [i]: !prevState.visibleBar[i] },
                                activeTab_bar: { ...prevState.activeTab_bar, [i]: !prevState.activeTab_bar[i] }
                            }))
                        }
                        if (this.state.visiblePrice[i] == true) {
                            this.setState(prevState => ({
                                visiblePrice: { ...prevState.visiblePrice, [i]: !prevState.visiblePrice[i] },
                                activeTab_price: { ...prevState.activeTab_price, [i]: !prevState.activeTab_price[i] }
                            }))
                        }
                    }
                    showloadingBarDep = (e, i) => {
                        this.setState(prevState => ({
                            loadingBarDep: { ...prevState.loadingBarDep, [i]: !prevState.loadingBarDep[i] }

                        }))
                    }
                    showloadingRuleDep = (e, i) => {
                        this.setState(prevState => ({
                            loadingRuleDep: { ...prevState.loadingRuleDep, [i]: !prevState.loadingRuleDep[i] }
                        }))
                    }
                    showloadingBarDes = (e, i) => {
                        this.setState(prevState => ({
                            loadingBarDes: { ...prevState.loadingBarDes, [i]: !prevState.loadingBarDes[i] }

                        }))
                    }
                    showloadingRuleDes = (e, i) => {
                        this.setState(prevState => ({
                            loadingRuleDes: { ...prevState.loadingRuleDes, [i]: !prevState.loadingRuleDes[i] }
                        }))
                    }
                    handleClick(event) {
                        window.scrollTo({
                            top: 0,
                            behavior: 'smooth',
                        })
                        this.setState({
                            currentPage: Number(event.target.id)
                        })
                    }

                    handleReset(event) {
                        let maxPage = this.state.maxPage
                        let len = this.renderLibrary().length
                        let Multi = len * maxPage
                        for (let i = 0; i <= Multi; i++) {
                            this.setState(prevState => ({
                                visibleDetails: { ...prevState.visibleDetails, [i]: "" },
                                visibleRule: { ...prevState.visibleRule, [i]: "" },
                                visibleBar: { ...prevState.visibleBar, [i]: "" },
                                visiblePrice: { ...prevState.visiblePrice, [i]: "" },
                                visibleAll: { ...prevState.visibleAll, [i]: "" },
                                visibleDetails: { ...prevState.visibleDetails, [i]: "" },
                                activeTab_details: { ...prevState.activeTab_details, [i]: "" }
                            }));

                            if (this.state.visibleBar[i] == true) {
                                this.setState(prevState => ({
                                    visibleBar: { ...prevState.visibleBar, [i]: "" },
                                    activeTab_bar: { ...prevState.activeTab_bar, [i]: "" }
                                }))
                            }
                            if (this.state.visiblePrice[i] == true) {
                                this.setState(prevState => ({
                                    visiblePrice: { ...prevState.visiblePrice, [i]: "" },
                                    activeTab_price: { ...prevState.activeTab_price, [i]: "" }
                                }))
                            }
                            if (this.state.visibleRule[i] == true) {
                                this.setState(prevState => ({
                                    visibleRule: { ...prevState.visibleRule, [i]: "" },
                                    activeTab_rule: { ...prevState.activeTab_rule, [i]: "" }
                                }))
                            }
                        }
                    }
                    localStorage_getCurrency = () => {
                        let getCurrencyObject = localStorage.getItem('currencyObject');
                        let jsonCurrency = JSON.parse(getCurrencyObject);
                        if (jsonCurrency) {
                            return jsonCurrency.currency_unit
                        } else {
                            return '--Currency--'
                        }
                    }
                    localStorage_expire = () => {
                        const { state_currency_unit, state_currency_cost, state_floatdigit } = this.state
                        let getCurrencyObject = localStorage.getItem('currencyObject');
                        let jsonCurrency = JSON.parse(getCurrencyObject);
                        if (jsonCurrency) {
                            var timer = setInterval(() => {
                                if (new Date().getTime() - jsonCurrency.time >= jsonCurrency.expire) {
                                    localStorage.removeItem('currencyObject');
                                    document.querySelector(".currency-selected").innerText = '--Currency--';
                                    document.querySelector(".currency-selected").setAttribute("data-active", 0);
                                    clearInterval(timer);
                                    this.setState({
                                        state_currency_unit: "",
                                        state_currency_cost: 1,
                                        state_floatdigit: "",
                                    });
                                    console.log('localStorage has ex pired');
                                }
                            }, 1000)
                        }
                    }
                    currency_selected_list = () => {
                        if (document.querySelector(".currency-selected").getAttribute("data-active") == 0) {
                            document.querySelector(".currency-loading").classList.toggle("unvisible");
                            fetch('/Client_Currency_Rate.bc?lid=2')
                                .then(response => response.text())
                                .then(text => {
                                    this.setState({ data_currency: JSON.parse(text.replace(/\'/g, '"')) });
                                    document.querySelector(".currency-loading").classList.toggle("unvisible");
                                    document.querySelector(".currency-selected").setAttribute("data-active", 1);
                                    document.querySelector(".currency-list").classList.toggle("unvisible");
                                }).catch(error => console.error(error))

                        } else {
                            document.querySelector(".currency-list").classList.toggle("unvisible");
                        }

                    }
                    renderCurrencyRate() {
                        let element = this.state.data_currency;
                        if (!element) return null;
                        return <div className="currency-list unvisible float-left font_12 p-absolute"><ul>{this.renderRate(element.rate, element.floatdigit)}</ul></div>
                    }
                    renderRate(element, floatdigit) {
                        if (element !== undefined) {
                            let indents = [];
                            for (let i = 0; i < element.length; i++) {
                                indents.push(<li className="" onClick={e => this.select_currency_list(e, element[i], floatdigit)}>{element[i].rate_unit}</li>)
                            }
                            return (
                                indents
                            )
                        }
                    }

                    //bitaa
                    select_currency_list = (e, element, floatdigit) => {
                        if (element.rate_unit !== "IRR") {
                            if (floatdigit < 0) {
                                this.setState({
                                    state_floatdigit: 2,
                                })
                            } else {
                                this.setState({
                                    state_floatdigit: floatdigit,
                                })
                            }
                        } else {
                            this.setState({
                                state_floatdigit: floatdigit,

                            })
                        }
                        this.setState({
                            state_currency_unit: element.rate_unit,
                            state_currency_cost: element.rate_cost,
                        });
                        document.querySelector(".currency-list").classList.toggle("unvisible");
                        document.querySelector(".currency-selected").innerText = element.rate_unit;
                        localStorage_setCurrency(element.rate_unit, element.rate_cost, floatdigit) //-----THIS FUNCTION IS WRITTEN IN CORE.MIN.JS

                    }
                    //<!----START JS FARE FAMILY---->//
                    //<!----THERE ARE SOME CHANGES IN renderProductid and renderid---->//
                    renderBtn(element, i) {
                        if (element.fare_family) {
                            return <button type="button" onClick={((e) => this.check_fare_family(e, i, element, element.index))} data-open="0" className="color_white border-radius font_15 cursor-pointer">Buy Ticket </button>

                        } else {
                            return <button type="submit" className="color_white border-radius font_15 cursor-pointer">Buy Ticket </button>
                        }
                    }
                    renderfare_family(element) {
                        if (element.fare_family) {
                            document.querySelector(".special-facilites").classList.remove("unvisible");
                            return <span className="fare-family-label color_gray p-absolute" data-class={element.fare_family}>Upgrade Facilities</span>;
                        } else {
                            return '';
                        }
                    }
                    renderOperatingAirline(element) {
                        if (element.routeshow.routesinfoo[0].routesinfoodetails.otherdetails.detailoperatingairline) {
                            return <span className="operating-airline-label font_10 text-center p-absolute border-radius color_gray">Codeshare</span>;
                        } else {
                            return '';
                        }
                    }
                    check_fare_family = (e, i, element, index) => {
                        let check_opened = e.target.getAttribute("data-open");
                        if (check_opened == 0) {
                            e.target.setAttribute("data-open", "1");
                            this.setState(prevState => ({
                                fare_family_content: { ...prevState.fare_family_content, [i]: !prevState.fare_family_content[i] },
                                fare_family_loading: { ...prevState.fare_family_loading, [i]: !prevState.fare_family_loading[i] },
                            }));
                            const obj = new Object();
                            obj["id"] = element._id
                            obj["adults"] = element.adults.count
                            obj["childs"] = element.childs.count
                            obj["infant"] = element.infants.count
                            delete obj["bar_info"];
                            fetch("/Client_Fare_Family.bc?lid=2", {
                                method: "POST",
                                body: `id=${JSON.stringify(obj)}`
                            }).then(response => response.text()).then(text => {
                                document.querySelector(`.fare-family-result-${index}`).innerHTML = text
                                this.setState(prevState => ({

                                    fare_family_loading: { ...prevState.fare_family_loading, [i]: "" }
                                }))
                            }).catch(error => console.error(error))
                        } else {
                            this.setState(prevState => ({
                                fare_family_content: { ...prevState.fare_family_content, [i]: !prevState.fare_family_content[i] },
                            }));
                        }

                    }

                    close_fare_family = (i) => {
                        this.setState(prevState => ({
                            fare_family_content: { [i]: !prevState.fare_family_content[i] }
                        }))
                    }
                    //<!----END JS FARE FAMILY---->//

                }
                ReactDOM.render(<App />, document.getElementById('app'))
            }

        </script>
    </body>

    </html>
</basis>